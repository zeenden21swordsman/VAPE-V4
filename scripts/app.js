(()=>{var e={466:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};t.__esModule=!0,t.applyApplyImage=void 0,t.applyApplyImage=function applyApplyImage(e,t,n,a,i,o,s){return void 0===t&&(t=!0),void 0===a&&(a=100),void 0===i&&(i=!1),{_obj:"applyImageEvent",with:r(r({_obj:"calculation",to:{_ref:e},invert:t,calculation:{_enum:"calculationType",_value:n},opacity:{_unit:"percentUnit",_value:a},preserveTransparency:i},o&&{useMask:{_ref:o}}),void 0!==s&&{invertMask:s})}}},182:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};t.__esModule=!0,t.applyCalculations=void 0,t.applyCalculations=function applyCalculations(e,t,n,a,i,o,s,l,c){void 0===t&&(t=!0),void 0===a&&(a=!0),void 0===o&&(o=100);var d="selection"===s,u=r(r({_obj:"calculation",to:{_ref:e},source2:{_ref:n},invert:t,invertSource2:a,opacity:{_unit:"percentUnit",_value:o},calculation:{_enum:"calculationType",_value:i}},l&&{useMask:{_ref:l}}),void 0!==c&&{invertMask:c});return d?{_obj:"set",_target:[{_ref:"channel",_property:"selection"}],to:u}:{_obj:"make",new:{_class:s},using:u}}},114:(e,t)=>{"use strict";t.wQ=t.xZ=t.eO=t.WJ=t.YB=t.jf=t.bc=t.rQ=t.$b=t.ei=t.f0=t.$Y=t.rG=t.sH=t.SE=t.rC=t.zs=t.YL=t.tF=t.iH=t.Gj=t.ne=t.Jj=t._$=t.Ry=t.wf=t.Or=t.og=t.Xb=t.jp=t.PO=t.Pf=t.qh=t.MM=t.x=t.gS=t.LE=void 0,t.LE=function applyAddNoise(e,t,r){return{_obj:"addNoise",distort:{_enum:"distort",_value:t},noise:{_unit:"percentUnit",_value:e},monochromatic:r}},t.gS=function applyAverage(){return{_obj:"$Avrg"}},t.x=function applyBlur(){return{_obj:"blurEvent"}},t.MM=function applyBlurMore(){return{_obj:"blurMore"}},t.qh=function applyClouds(){return{_obj:"clouds"}},t.Pf=function applyCustomFilter(e,t,r){return{_obj:"custom",matrix:e,scale:t,offset:r}},t.PO=function applyDeInterlace(e,t){return{_obj:"deInterlace",interlaceCreateType:{_enum:"interlaceCreateType",_value:t},interlaceEliminateType:{_enum:"interlaceEliminateType",_value:e}}},t.jp=function applyDespeckle(){return{_obj:"despeckle"}},t.Xb=function applyDifferenceClouds(){return{_obj:"differenceClouds"}},t.og=function applyDiffuseGlow(e,t,r){return{_obj:"$GEfc",$GEfk:{_enum:"$GEft",_value:"diffuseGlow"},graininess:e,glowAmount:t,clearAmount:r}},t.Or=function applyDisplace(e,t,r,n,a){return{_obj:"displace",displaceFile:{_kind:"local",_path:a},displacementMap:{_enum:"displacementMap",_value:r},undefinedArea:{_enum:"undefinedArea",_value:n},horizontalScale:e,verticalScale:t}},t.wf=function applyDustAndScratches(e,t){return{_obj:"dustAndScratches",radius:e,threshold:t}},t.Ry=function applyGaussian(e){return{_obj:"gaussianBlur",radius:{_unit:"pixelsUnit",_value:e}}},t._$=function applyGlassEffect(e,t,r,n,a,i){var o={_obj:"$GEfc",$GEfk:{_enum:"$GEft",_value:"glass"},distort:e,invertTexture:n,scaling:r,smoothness:t},s={};return void 0!==i?(s._kind="local",s._path=i):(s._enum="textureType",s._value=a),o.textureType=s,o},t.Jj=function applyHighPass(e){return{_obj:"highPass",radius:{_unit:"pixelsUnit",_value:e}}},t.ne=function applyLensBlur(e,t,r,n,a,i,o,s,l,c,d,u){var p={_obj:"$Bokh",$BkDp:t,$BkDs:r,$BkIb:a,$BkIc:i,$BkIr:o,$BkNa:c,$BkNm:u,$BkSb:s,$BkSt:l,$BkIs:{_enum:"$BtIs",_value:n}},y={},m={_enum:"$BtDi"};"layerMask"===e?(m._value="$BeIt",p.$BkDi=m,y._enum="$BtDc",y._value="$BeCm",p.$BkDc=y):"transparency"===e?(m._value="$BeIt",p.$BkDi=m,y._enum="$BtDc",y._value="$BeCt",p.$BkDc=y):"imageHighlight"===e?(m._value="$BeIa",p.$BkDi=m):(m._value="$BeIn",p.$BkDi=m);var g={_enum:"$BtNt"};return g._value="uniformDistribution"===d?"$BeNu":"$BeNg",p.$BkNt=g,p},t.Gj=function applyTwirl(e){return{_obj:"twirl",angle:e}},t.iH=function applyPinch(e){return{_obj:"pinch",amount:e}},t.tF=function applyPolarCoordinates(e){return{_obj:"polar",convert:{_enum:"convert",_value:e}}},t.YL=function applyRipple(e,t){return{_obj:"ripple",amount:e,rippleSize:{_enum:"rippleSize",_value:t}}},t.zs=function applySharpen(){return{_obj:"sharpen"}},t.rC=function applySharpenEdges(){return{_obj:"sharpenEdges"}},t.SE=function applySharpenMore(){return{_obj:"sharpenMore"}},t.sH=function applyShear(e,t){return{_obj:"shear",shearPoints:e.map((function(e){return{_obj:"point",horizontal:e.x,vertical:e.y}})),undefinedArea:{_enum:"undefinedArea",_value:t},shearSt:0,shearEd:e.length-1}},t.rG=function applySmartBlur(e,t,r,n){return{_obj:"smartBlur",radius:e,threshold:t,smartBlurQuality:{_enum:"smartBlurQuality",_value:r},smartBlurMode:{_enum:"smartBlurMode",_value:n}}},t.$Y=function applySpherize(e,t){return{_obj:"spherize",amount:e,spherizeMode:{_enum:"spherizeMode",_value:t}}},t.f0=function applyUnSharpMask(e,t,r){return{_obj:"unsharpMask",amount:{_unit:"percentUnit",_value:e},radius:{_unit:"pixelsUnit",_value:t},threshold:r}},t.ei=function applyWave(e,t,r,n,a,i,o,s,l,c){return{_obj:"wave",waveType:{_enum:"waveType",_value:s},numberOfGenerators:e,wavelengthMin:t,wavelengthMax:r,amplitudeMin:n,amplitudeMax:a,scaleHorizontal:i,scaleVertical:o,undefinedArea:{_enum:"undefinedArea",_value:l},randomSeed:c}},t.$b=function applyZigZag(e,t,r){return{_obj:"zigZag",amount:e,numberOfRipples:t,zigZagType:{_enum:"zigZagType",_value:r}}},t.rQ=function applyLensFlare(e,t,r,n){return{_obj:"lensFlare",brightness:e,flareCenter:{_obj:"paint",horizontal:t,vertical:r},lens:{_enum:"lens",_value:n}}},t.bc=function applyMaximum(e,t){return{_obj:"maximum",preserveShape:{_enum:"preserveShape",_value:t},radius:{_unit:"pixelsUnit",_value:e}}},t.jf=function applyMinimum(e,t){return{_obj:"minimum",preserveShape:{_enum:"preserveShape",_value:t},radius:{_unit:"pixelsUnit",_value:e}}},t.YB=function applyMedianNoise(e){return{_obj:"median",radius:{_unit:"pixelsUnit",_value:e}}},t.WJ=function applyMotionBlur(e,t){return{_obj:"motionBlur",angle:e,distance:{_unit:"pixelsUnit",_value:t}}},t.eO=function applyNTSC(){return{_obj:"NTSC"}},t.xZ=function applyOceanRipple(e,t){return{_obj:"$GEfc",$GEfk:{_enum:"$GEft",_value:"oceanRipple"},rippleSize:e,rippleMagnitude:t}},t.wQ=function applyOffset(e,t,r){return{_obj:"offset",fill:{_enum:"fillMode",_value:r},horizontal:e,vertical:t}}},463:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function transform(e,t){return r({_obj:"transform",_target:e},t)}t.__esModule=!0,t.rotate=t.resize=t.translate=t.transform=void 0,t.transform=transform,t.translate=function translate(e,t,r){return transform(r,{offset:{_obj:"offset",horizontal:{_unit:"pixelsUnit",_value:e},vertical:{_unit:"pixelsUnit",_value:t}},interpolation:{_enum:"interpolationType",_value:"bicubic"},freeTransformCenterState:{_enum:"quadCenterState",_value:"QCSAverage"}})},t.resize=function resize(e,t,r,n,a){return transform(a,{freeTransformCenterState:{_enum:"quadCenterState",_value:r},height:{_unit:"percentUnit",_value:t},width:{_unit:"percentUnit",_value:e},interpolation:{_enum:"interpolationType",_value:n}})},t.rotate=function rotate(e,t,r,n){return transform(n,{angle:{_unit:"angleUnit",_value:e},freeTransformCenterState:{_enum:"quadCenterState",_value:t},interpolation:{_enum:"interpolationType",_value:r}})}},979:(e,t)=>{"use strict";t.zM=t.$s=t.PQ=t.Od=t.OM=t.hY=t.iH=void 0,t.iH={name:function(e){return{_ref:"action",_name:e}},index:function(e){return{_ref:"action",_index:e}},id:function(e){return{_ref:"action",_id:e}},selected:function(){return{_ref:"action",_enum:"ordinal",_value:"targetEnum"}}},t.hY=function play(e,r){return void 0===e&&(e=t.iH.selected()),void 0===r&&(r=!1),{_obj:"play",_target:e,continue:r}},t.OM=function duplicate(e){return void 0===e&&(e=t.iH.selected()),{_obj:"duplicate",_target:e}},t.Od=function remove(e){return void 0===e&&(e=t.iH.selected()),{_obj:"delete",_target:e}},t.PQ=function rename(e,r){return void 0===e&&(e=t.iH.selected()),{_obj:"set",_target:{_ref:[{_ref:"property",_property:"title"},e]},to:{title:r}}},t.$s=function getProperty(e,r){return void 0===r&&(r=t.iH.selected()),{_obj:"multiGet",_target:r,extendedReference:[e]}},t.zM=function getPropertiesRange(e,t,r,n){return void 0===r&&(r=1),void 0===n&&(n=-1),{_obj:"multiGet",_target:t,extendedReference:[e,{_obj:"action",index:r,count:n}]}}},817:(e,t)=>{"use strict";t.$s=t.hY=t.OM=t.PQ=t.Od=t.iH=void 0,t.iH={name:function(e){return{_ref:"actionSet",_name:e}},index:function(e){return{_ref:"actionSet",_index:e}},id:function(e){return{_ref:"actionSet",_id:e}},selected:function(){return{_ref:"actionSet",_enum:"ordinal",_value:"targetEnum"}}},t.Od=function remove(e){return void 0===e&&(e=t.iH.selected()),{_obj:"delete",_target:e}},t.PQ=function rename(e,r){return void 0===e&&(e=t.iH.selected()),{_obj:"set",_target:{_ref:[{_ref:"property",_property:"title"},e]},to:{title:r}}},t.OM=function duplicate(e){return void 0===e&&(e=t.iH.selected()),{_obj:"duplicate",_target:e}},t.hY=function play(e,r){return void 0===e&&(e=t.iH.selected()),void 0===r&&(r=!1),{_obj:"play",_target:e,continue:r}},t.$s=function getProperty(e,r){return void 0===r&&(r=t.iH.selected()),{_obj:"multiGet",_target:r,extendedReference:[e]}}},966:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};t.__esModule=!0,t.idle=t.multiGet=t.getPropertyWithOptions=t.getProperties=t.makeDocument=t.BackgroundFillMethods=t.ImageColorModeClasses=t.setForegroundColor=t.setBackgroundColor=t.setPreferences=t.hideHomeScreen=t.findFontByName=t.getFeatureMetadata=t.getFeatureActive=t.getFeatureInfo=t.getFeatureList=t.getCommandEnabled=t.getMondoFilterViewInfo=t.getModalViewInfo=t.getViewInfo=t.getViewList=t.getCurrentToolbarSpecification=t.getToolInfoById=t.getToolList=t.showCoachmark=t.openAndStartTutorial=t.highlightPanel=t.closePanel=t.showPanel=t.getApplicationFrameInfo=t.getPanelInfo=t.getPanelList=t.owlAction=t.chooseLibraryElement=t.createLibraryElement=t.ref=void 0;var i=r(637);t.ref={active:function(){return{_ref:"application",_enum:"ordinal",_value:"targetEnum"}}},t.createLibraryElement=function createLibraryElement(e){return"object"==typeof e&&(e=JSON.stringify(e)),{_obj:"spacesLibraryElementCreated",_target:t.ref.active(),json:e}},t.chooseLibraryElement=function chooseLibraryElement(e){return"object"==typeof e&&(e=JSON.stringify(e)),{_obj:"spacesLibraryElementChosen",_target:t.ref.active(),json:e}},t.owlAction=function owlAction(e,r,n){return void 0===n&&(n=!1),{_obj:"owlAction",_target:t.ref.active(),command:e,owlPanelID:r,activate:n}},t.getPanelList=function getPanelList(){return{_obj:"owlAction",_target:t.ref.active(),owlCommand:"getPanelList"}},t.getPanelInfo=function getPanelInfo(e){return{_obj:"owlAction",_target:t.ref.active(),owlPanelID:e,owlCommand:"getPanelInfo"}},t.getApplicationFrameInfo=function getApplicationFrameInfo(){return{_obj:"owlAction",_target:t.ref.active(),owlCommand:"getApplicationFrameInfo"}},t.showPanel=function showPanel(e){return{_obj:"owlAction",_target:t.ref.active(),owlPanelID:e,owlCommand:"show"}},t.closePanel=function closePanel(e){return{_obj:"owlAction",_target:t.ref.active(),owlPanelID:e,owlCommand:"close"}},t.highlightPanel=function highlightPanel(e){return{_obj:"owlAction",_target:t.ref.active(),owlPanelID:e,owlCommand:"identify"}},t.openAndStartTutorial=function openAndStartTutorial(e){return{_obj:"openAndStartTutorial",_target:t.ref.active(),info:e}},t.showCoachmark=function showCoachmark(e,r,n){return{_obj:"showCoachmark",_target:t.ref.active(),type:e,position:r,description:n}},t.getToolList=function getToolList(){return{_obj:"uiInfo",_target:t.ref.active(),command:"getToolList"}},t.getToolInfoById=function getToolInfoById(e){return{_obj:"uiInfo",_target:t.ref.active(),command:"getToolInfo",toolID:e}},t.getCurrentToolbarSpecification=function getCurrentToolbarSpecification(){return{_obj:"uiInfo",_target:t.ref.active(),command:"getCurrentToolbarSpecification"}},t.getViewList=function getViewList(e){return{_obj:"uiInfo",_target:t.ref.active(),command:"getViewList",detailed:e}},t.getViewInfo=function getViewInfo(e,r){return{_obj:"uiInfo",_target:t.ref.active(),command:"getViewInfo",panel:e,viewID:r}},t.getModalViewInfo=function getModalViewInfo(e){return{_obj:"uiInfo",_target:t.ref.active(),command:"getModalViewInfo",viewID:e}},t.getMondoFilterViewInfo=function getMondoFilterViewInfo(){return{_obj:"uiInfo",_target:t.ref.active(),command:"getMondoFilterViewInfo"}},t.getCommandEnabled=function getCommandEnabled(e){return{_obj:"uiInfo",_target:t.ref.active(),command:"getCommandEnabled",commandID:e}},t.getFeatureList=function getFeatureList(){return{_obj:"featureInfo",_target:t.ref.active(),command:"getFeatureList"}},t.getFeatureInfo=function getFeatureInfo(e){return{_obj:"featureInfo",_target:t.ref.active(),command:"getFeatureInfo",feature:e}},t.getFeatureActive=function getFeatureActive(e){return{_obj:"featureInfo",_target:t.ref.active(),command:"getFeatureActive",feature:e}},t.getFeatureMetadata=function getFeatureMetadata(e){return{_obj:"featureInfo",_target:t.ref.active(),command:"getFeatureMeta",feature:e}},t.findFontByName=function findFontByName(e){return{_obj:"findFontByName",_target:t.ref.active(),fontPostScriptName:e}},t.hideHomeScreen=function hideHomeScreen(){return{_obj:"hideHomeScreen",_target:t.ref.active()}},t.setPreferences=function setPreferences(e,r){return{_obj:"set",_target:[{_ref:"property",_property:e},t.ref.active()],to:n({_obj:e},r)}},t.setBackgroundColor=function setBackgroundColor(e){return{_obj:"set",_target:{_ref:"color",_property:"backgroundColor"},to:e}},t.setForegroundColor=function setForegroundColor(e){return{_obj:"set",_target:{_ref:"color",_property:"foregroundColor"},to:e}},t.ImageColorModeClasses={bitmapMode:"bitmapMode",grayscaleMode:"grayscaleMode",RGBColorMode:"RGBColorMode",CMYKColorMode:"CMYKColorMode",labColorMode:"labColorMode"},t.BackgroundFillMethods={white:"white",black:"black",backgroundColor:"backgroundColor",transparent:"transparent",color:"color"},t.makeDocument=function makeDocument(e){var t,r,o,s,l,c;return t=e.mode,r=e.width,o=e.height,s=e.resolution,l=e.fill,{_obj:"make",new:void 0!==(c=a(e,["mode","width","height","resolution","fill"])).preset?n({_obj:"document"},c):void 0!==t&&void 0!==r&&void 0!==o&&void 0!==s&&void 0!==l?n({_obj:"document",mode:{_class:t},width:i.Distance(r),height:i.Distance(o),resolution:i.Density(s),fill:{_enum:"fill",_value:l}},c):n({_obj:"document"},e)}},t.getProperties=function getProperties(e){return{_obj:"multiGet",_target:t.ref.active(),extendedReference:[e]}},t.getPropertyWithOptions=function getPropertyWithOptions(e,r){return void 0===r&&(r={}),n({_obj:"get",_target:{_ref:[{_ref:"property",_property:e},t.ref.active()]}},r)},t.multiGet=function multiGet(e,t,r){return{_obj:"multiGet",_target:e,extendedReference:r?[t,r]:[t]}},t.idle=function idle(){return{_obj:"idle"}}},419:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};t.__esModule=!0,t.channelEnumValues=t.mergeSpotChannel=t.hide=t.show=t.setProperty=t.getPropertiesRange=t.getProperties=t.createChannel=t.duplicate=t.remove=t.deselect=t.select=t.ref=void 0;var o=r(235),s=r(782);i(r(993),t),t.ref={active:function(){return{_ref:"channel",_enum:"ordinal",_value:"targetEnum"}},enum:function(e){return{_ref:"channel",_enum:"channel",_value:e}},index:function(e){return{_ref:"channel",_index:e}},name:function(e){return{_ref:"channel",_name:e}},id:function(e){return{_ref:"channel",_id:e}},selection:function(){return{_ref:"channel",_property:"selection"}}},t.select=function select(e,t){var r={_obj:"select",_target:[e]};return s.applyOptionalParams(r,{extend:!!t||void 0}),r},t.deselect=function deselect(e,t){var r={_obj:"deselect",_target:[e]};return s.applyOptionalParams(r,{extend:!!t||void 0}),r},t.remove=function remove(e){return{_obj:"delete",_target:e}},t.duplicate=function duplicate(e,t){var r={_obj:"duplicate",_target:[e]};return s.applyOptionalParams(r,{name:t.name,invert:t.invert,to:t.to}),r},t.createChannel=function createChannel(e){void 0===e&&(e={});var t={_obj:"make",new:{_obj:"channel"}};return s.applyOptionalParams(t.new,{name:e.name,color:e.color,colorIndicates:e.colorIndicates,opacity:e.opacity}),t},t.getProperties=function getProperties(e,t,r){return void 0===r&&(r={}),{_obj:"multiGet",_target:e,extendedReference:[t],options:r}},t.getPropertiesRange=function getPropertiesRange(e,t,r,n){return void 0===t&&(t=o.ref.active()),void 0===r&&(r=1),void 0===n&&(n=-1),{_obj:"multiGet",_target:t,extendedReference:[e,{_obj:"channel",index:r,count:n}]}},t.setProperty=function setProperty(e,t,r){return void 0===r&&(r=!1),{_obj:"set",_target:e,to:n({_obj:r?"spotColorChannel":"channel"},t)}},t.show=function show(e){return{_obj:"show",null:e}},t.hide=function hide(e){return{_obj:"hide",null:e}},t.mergeSpotChannel=function mergeSpotChannel(){return{_obj:"mergeSpotChannel"}},t.channelEnumValues=["red","grain","green","blue","lightness","a","b","cyan","magenta","yellow","black","gray","monotone","duotone","tritone","quadtone","RGB","CMYK","lab","transparencyEnum"]},362:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};t.__esModule=!0,t.setSampleSize=t.getSampleSize=t.deleteColorSampler=t.removeAllColorSamplers=t.newColorSampler=t.setPosition=t.remove=t.get=t.ref=void 0;var i=r(966);a(r(397),t),t.ref={index:function(e){return{_ref:"colorSampler",_index:e}}},t.get=function get(e){return{_obj:"get",_target:e}},t.remove=function remove(e){return{_obj:"delete",_target:e}},t.setPosition=function setPosition(e,t){return{_obj:"move",_target:e,to:{_obj:"paint",horizontal:{_unit:"pixelsUnit",_value:t.x},vertical:{_unit:"pixelsUnit",_value:t.y}}}},t.newColorSampler=function newColorSampler(e){return{_obj:"make",_target:[{_ref:"colorSampler"}],position:{_obj:"paint",horizontal:{_unit:"pixelsUnit",_value:e.x},vertical:{_unit:"pixelsUnit",_value:e.y}}}},t.removeAllColorSamplers=function removeAllColorSamplers(){return{_obj:"delete",_target:{_ref:[{_ref:"colorSampler",_enum:"ordinal",_value:"allEnum"}]}}},t.deleteColorSampler=function deleteColorSampler(e){return{_obj:"delete",_target:e}},t.getSampleSize=function getSampleSize(){return i.getProperties(["eyeDropperSample"])},t.setSampleSize=function setSampleSize(e){return{_obj:"set",_target:{_ref:"eyedropperTool"},to:{_obj:"currentToolOptions",eyeDropperSample:e}}}},202:(e,t)=>{"use strict";t.W2=t.QP=t.l_=t.mz=t.Yy=t.iD=t.RC=t.Xd=t.S4=t.Lq=t.AJ=t.eO=t.qD=void 0,t.qD=function countItemsDesc(e){return{_obj:"get",_target:[{_property:"countClass"},e]}},t.eO=function addCountItemToActiveGroup(e,t){return{_obj:"countAdd",x:e,y:t}},t.AJ=function moveCountItem(e,t,r,n){return{_obj:"countMove",group:t,itemIndex:e,x:r,y:n}},t.Lq=function removeCountItem(e,t){return{_obj:"countDelete",group:t,itemIndex:e+1}},t.S4=function removeAllFromActiveGroup(){return{_obj:"countClear"}},t.Xd=function setActiveCountGroupColor(e,t,r){return{_obj:"countColor",red:e,green:t,blue:r}},t.RC=function setActiveCountGroupMarkerSize(e){return{_obj:"countGroupMarkerSize",size:e}},t.iD=function setActiveCountGroupLabelSize(e){return{_obj:"countGroupFontSize",size:e}},t.Yy=function renameActiveCountGroup(e){return{_obj:"countRenameGroup",name:e}},t.mz=function addNewCountGroup(e){return{_obj:"countAddGroup",name:e}},t.l_=function removeCountGroupByIndex(e){return{_obj:"countDeleteGroup",itemIndex:e}},t.QP=function toggleActiveCountGroupVisibility(e){return{_obj:"countGroupVisible",visible:e}},t.W2=function activateCountGroupByIndex(e){return{_obj:"countSetCurrentGroup",itemIndex:e}}},235:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};t.__esModule=!0,t.makeFromHistoryState=t.ColorModes=t.set=t.getProperty=t.getPropertiesRange=t.getProperties=t.saveAs=t.saveDocumentDialog=t.save=t.PDFCompressionType=t.revert=t.close=t.crop=t.mergeVisible=t.flattenImage=t.trim=t.resizeCanvas=t.resizeImage=t.flip=t.open=t.samplePoint=t.quickMaskModeEvent=t.selectAll=t.paste=t.rotate=t.duplicate=t.hitTest=t.fixMissingLinkedAssets=t.restoreDocumentSelection=t.saveDocumentSelection=t.select=t.rasterizeAllPlaced=t.rasterizeAll=t.revealAll=t.splitChannels=t.convertBitDepth=t.convertToProfile=t.createPreview=t.colorSampler=t.ref=void 0;var s=r(966),l=r(637),c=r(782);i(r(462),t),t.ref={active:function(){return{_ref:"document",_enum:"ordinal",_value:"targetEnum"}},first:function(){return{_ref:"document",_enum:"ordinal",_value:"first"}},next:function(){return{_ref:"document",_enum:"ordinal",_value:"next"}},previous:function(){return{_ref:"document",_enum:"ordinal",_value:"previous"}},title:function(e){return{_ref:"document",_name:e}},id:function(e){return{_ref:"document",_id:e}},offset:function(e){return{_ref:"document",_offset:e}},index:function(e){return{_ref:"document",_index:e}},name:function(e){return{_ref:"document",_name:e}},range:function(e,t){return{_obj:"document",index:e,count:t}}},t.colorSampler=function colorSampler(e,t,r){return{_obj:"colorSampler",_target:e,samplePoint:{horizontal:t,vertical:r}}},t.createPreview=function createPreview(e,t,r,n){return void 0===t&&(t=100),void 0===r&&(r=100),void 0===n&&(n=!1),{_obj:"createPreview",width:t,height:r,embedProfile:n,_target:e}},t.convertToProfile=function convertToProfile(e){return{_obj:"convertToProfile",engine:"huh",to:"okthen",_target:e}},t.convertBitDepth=function convertBitDepth(e){return{_obj:"convertMode",depth:e,merge:!1}},t.splitChannels=function splitChannels(){return{_obj:"splitChannels"}},t.revealAll=function revealAll(){return{_obj:"revealAll"}},t.rasterizeAll=function rasterizeAll(){return{_obj:"rasterizeAll"}},t.rasterizeAllPlaced=function rasterizeAllPlaced(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),{_obj:"rasterizeAllPlaced",missing:t,filterFX:r,_target:e}},t.select=function select(e){return{_obj:"select",_target:e}},t.saveDocumentSelection=function saveDocumentSelection(){return{_obj:"saveDocumentSelection"}},t.restoreDocumentSelection=function restoreDocumentSelection(){return{_obj:"restoreDocumentSelection"}},t.fixMissingLinkedAssets=function fixMissingLinkedAssets(e){return{_obj:"fixMissingLinkedAssets",_target:e}},t.hitTest=function hitTest(e,t,r,n,a){void 0===n&&(n=!1);var i={_obj:"hitTest",_target:e,x:t,y:r,ignoreEmptyGroups:n};return c.applyOptionalParams(i,{alpha:a}),i},t.duplicate=function duplicate(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var a={_obj:"duplicate",_target:e,untitled:r,merged:n};return c.applyOptionalParams(a,{name:t}),a},t.rotate=function rotate(e,t){return{_obj:"rotateEventEnum",_target:e,angle:t}},t.paste=function paste(e){return{_obj:e?"pasteInto":"paste",antiAlias:{_enum:"typeAntiAlias",_value:"antiAliasNone"}}},t.selectAll=function selectAll(){return{_obj:"set",_target:[{_property:"selection",_ref:"channel"}],to:{_enum:"ordinal",_value:"allEnum"}}},t.quickMaskModeEvent=function quickMaskModeEvent(e,t){return{_obj:t?"set":"clearEvent",_target:[{_property:"quickMask",_ref:"property"},e]}},t.samplePoint=function samplePoint(e,t){return{_obj:"colorSampler",_target:e,samplePoint:{horizontal:t.x,vertical:t.y}}},t.open=function open(e,t){void 0===t&&(t={});var r={_obj:"open",null:{_path:e,_kind:"local"}};if(t.forceMRU&&(c.applyOptionalParams(r,{forceMRU:t.forceMRU}),delete t.forceMRU),t.scaleMode&&(r.scaleMode={_enum:"scaleMode",_value:t.scaleMode},delete t.scaleMode),t.pdfOptions&&Object.keys(t.pdfOptions).length>0){r.as={_obj:"PDFGenericFormat"};var n=t.pdfOptions,a=n.crop,i=n.mode,s=n.resolution,d=n.selection,u=o(n,["crop","mode","resolution","selection"]);a&&(r.as.crop={_enum:"cropTo",_value:a}),i&&(r.as.mode={_enum:"colorSpace",_value:i}),s&&(r.as.resolution=l.Density(s)),d&&(r.as.selection={_enum:"pdfSelection",_value:d}),c.applyOptionalParams(r.as,u)}return r},t.flip=function flip(e,t){return void 0===t&&(t="vertical"),{_obj:"flip",_target:e,axis:t}},t.resizeImage=function resizeImage(e,t,r,n){var a={_obj:"imageSize"};return c.applyOptionalParams(a,{width:e,height:t,resolution:r,interpolation:n}),a},t.resizeCanvas=function resizeCanvas(e,t){var r=n({_obj:"canvasSize"},e);return void 0!==t&&(r=n(n({},r),t)),r},t.trim=function trim(e,t,r,n,a){return{_obj:"trim",trimBasedOn:{_enum:"trimBasedOn",_value:e},top:t,left:r,bottom:n,right:a}},t.flattenImage=function flattenImage(){return{_obj:"flattenImage"}},t.mergeVisible=function mergeVisible(){return{_obj:"mergeVisible"}},t.crop=function crop(e,t,r,n){return void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),{_obj:"crop",to:{_obj:"rectangle",left:l.Pixel(e.left),top:l.Pixel(e.top),right:l.Pixel(e.right),bottom:l.Pixel(e.bottom)},angle:l.Angle(t),width:l.Pixel(r),height:l.Pixel(n)}},t.close=function close(e,t){var r={_obj:"close"};return void 0!==e&&(r.saving={_enum:"saving",_value:e?"yes":"no"}),t&&c.applyOptionalParams(r,{_target:{_ref:"document",_id:t}}),r},t.revert=function revert(){return{_obj:"revert"}},function(e){e[e.None=1]="None",e[e.JPEGMaximumQuality=7]="JPEGMaximumQuality",e[e.JPEGHighQuality=8]="JPEGHighQuality",e[e.JPEGMediumQuality=9]="JPEGMediumQuality",e[e.JPEGLowQuality=10]="JPEGLowQuality",e[e.JPEGMinimumQuality=11]="JPEGMinimumQuality",e[e.JPEG2000MaximumQuality=14]="JPEG2000MaximumQuality",e[e.JPEG2000HighQuality=15]="JPEG2000HighQuality",e[e.JPEG2000MediumQuality=16]="JPEG2000MediumQuality",e[e.JPEG2000LowQuality=17]="JPEG2000LowQuality",e[e.JPEG2000MinimumQuality=18]="JPEG2000MinimumQuality",e[e.JPEG2000LosslessQuality=19]="JPEG2000LosslessQuality",e[e.ZIP=65540]="ZIP"}(t.PDFCompressionType||(t.PDFCompressionType={})),t.save=function save(e,t,r){return{_obj:"save",documentID:e,in:t,as:r}},t.saveDocumentDialog=function saveDocumentDialog(){return{name:"save",descriptor:{},options:{dialogOptions:"dontDisplay"}}},t.saveAs={jpg:function(e,t,r){var n,a={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"JPEG",extendedQuality:null!==(n=null==r?void 0:r.extendedQuality)&&void 0!==n?n:8}};return c.applyTypedOptionalParams(a.as,{optimized:r.optimized,scans:r.scans,matteColor:r.matteColor?{_enum:"matteColor",_value:r.matteColor}:void 0,customMatte:r.customMatte,embedProfiles:r.embedProfiles}),c.applyOptionalParams(a,{copy:r.copy}),a},psd:function(e,t,r){var n={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"photoshop35Format"}};return c.applyTypedOptionalParams(n,{copy:r.copy,embedProfiles:r.embedProfiles,layers:r.layers,flatten:r.flatten,alphaChannels:r.alphaChannels,title:r.title,annotType:r.annotType,spotColor:r.spotColor}),c.applyTypedOptionalParams(n.as,{maximizeCompatibility:r.maximizeCompatibility}),n},psb:function(e,r,n){var a=t.saveAs.psd(e,r,n);return a.as._obj="largeDocumentFormat",a},psdc:function(e,t){var r={_obj:"save",documentID:e,as:{_obj:"cloudPSDFormat"},saveToCloud:!0};return c.applyTypedOptionalParams(r,{saveToCloudPath:t.saveToCloudPath,title:t.title,embedProfiles:t.embedProfiles,layers:t.layers,flatten:t.flatten,alphaChannels:t.alphaChannels,annotType:t.annotType,spotColor:t.spotColor,forceCloudPickerFirst:t.forceCloudPickerFirst,forceLocalOSPickerFirst:t.forceLocalOSPickerFirst,disableCloudPickerOnboarding:t.disableCloudPickerOnboarding,hideOnYourComputerButton:t.hideOnYourComputerButton,saveWithMinimumUpdateOfCloudRenditions:t.saveWithMinimumUpdateOfCloudRenditions,saveWithoutDCXCommit:t.saveWithoutDCXCommit}),r},gif:function(e,t,r){var n={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"GIFFormat"},to:{_obj:"indexedColorMode"}};if(c.applyTypedOptionalParams(n.as,{interlaced:r.interlaced}),c.applyTypedOptionalParams(n.to,{matteColor:r.matteColor?{_enum:"matteColor",_value:r.matteColor}:void 0,customMatte:r.customMatte,dither:r.dither?{_enum:"dither",_value:r.dither}:void 0,ditherAmount:r.ditherAmount,ditherPreserve:r.ditherPreserve}),r.paletteFile)c.applyTypedOptionalParams(n.to,{paletteFile:r.paletteFile});else if(r.customPalette)c.applyTypedOptionalParams(n.to,{customPalette:r.customPalette,transparentIndex:r.transparentIndex});else{if(!r.palette)throw new Error("No palette defined for the GIF save descriptor");c.applyTypedOptionalParams(n.to,{palette:{_enum:"colorPalette",_value:r.palette},colors:r.colors,forcedColors:r.forcedColors?{_enum:"forcedColors",_value:r.forcedColors}:void 0,customForced:r.customForced,transparentIndex:r.transparentIndex,transparency:r.transparency})}return c.applyTypedOptionalParams(n,{copy:r.copy}),n},png:function(e,t,r){var n={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"PNGFormat"}};return c.applyTypedOptionalParams(n.as,{compression:r.compression,PNGInterlaceType:r.PNGInterlaceType?{_enum:"PNGInterlaceType",_value:r.PNGInterlaceType}:void 0,PNGFilter:r.PNGFilter?{_enum:"PNGFilter",_value:r.PNGFilter}:void 0,method:r.method?{_enum:"PNGMethod",_value:r.method}:void 0}),c.applyTypedOptionalParams(n,{copy:r.copy}),n},bmp:function(e,t,r){var n={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"bMPFormat"}};return c.applyTypedOptionalParams(n.as,{bitDepth:r.bitDepth?{_enum:"bitDepth",_value:r.bitDepth}:void 0,platform:r.platform?{_enum:"platform",_value:r.platform}:void 0,compression:r.compression,flipVertical:r.flipVertical}),c.applyTypedOptionalParams(n,{alphaChannels:r.alphaChannels}),c.applyTypedOptionalParams(n,{copy:r.copy}),n},webp:function(e,t,r){var n={_obj:"save",documentID:e,in:{_kind:"local",_path:t},as:{_obj:"WebPFormat"}};return c.applyTypedOptionalParams(n.as,{compression:r.compression?{_enum:"WebPCompression",_value:r.compression}:void 0}),c.applyTypedOptionalParams(n,{copy:r.copy}),n}},t.getProperties=function getProperties(e,t){return{_obj:"multiGet",_target:e,extendedReference:[t]}},t.getPropertiesRange=function getPropertiesRange(e,t,r){return void 0===t&&(t=1),void 0===r&&(r=-1),{_obj:"multiGet",_target:s.ref.active(),extendedReference:[e,{_obj:"document",index:t,count:r}]}},t.getProperty=function getProperty(e,t){return{_obj:"get",_target:[{_property:t},e]}},t.set=function set(e,r){return void 0===r&&(r=t.ref.active()),{_obj:"set",_target:r,to:e}},function(e){e.bitmap="bitmapMode",e.CMYKColor="CMYKColorMode",e.duotone="duotoneMode",e.grayscale="grayscaleMode",e.indexedColor="indexedColorMode",e.labColor="labColorMode",e.multichannel="multichannelMode",e.RGBColor="RGBColorMode"}(t.ColorModes||(t.ColorModes={})),t.makeFromHistoryState=function makeFromHistoryState(){return{_obj:"make",_target:{_ref:"document"},using:{_property:"currentHistoryState",_ref:"historyState"}}}},916:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};t.__esModule=!0,t.deleteGuide=t.clearAllGuides=t.newGuide=t.setProperty=t.getPropertiesRange=t.getProperties=t.get=t.remove=t.ref=void 0,a(r(638),t),t.ref={index:function(e){return{_ref:"guide",_index:e}},id:function(e){return{_ref:"guide",_id:e}}},t.remove=function remove(e){return{_obj:"delete",_target:e}},t.get=function get(e){return{_obj:"get",_target:e}},t.getProperties=function getProperties(e,t,r){if(void 0===r&&(r={}),t.length>1)return{_obj:"multiGet",_target:e,extendedReference:[t],options:r};var n=e;return Array.isArray(e)?n.unshift({_ref:"property",_property:t[0]}):n=[{_ref:"property",_property:t[0]},e],{_obj:"get",_target:{_ref:n}}},t.getPropertiesRange=function getPropertiesRange(e,t,r,n){return void 0===r&&(r=1),void 0===n&&(n=-1),{_obj:"multiGet",_target:e,extendedReference:[t,{_obj:"guide",index:r,count:n}]}},t.setProperty=function setProperty(e,t,r){var n={_obj:"set",_target:e};return"orientation"===t?n[t]={_enum:"orientation",_value:r}:"position"===t&&(n[t]={_unit:"pixelsUnit",_value:r}),n},t.newGuide=function newGuide(e,t,r,n){var a={_obj:"newGuide",_target:{_ref:"guide"},new:{orientation:{_enum:"orientation",_value:e},position:"number"==typeof t?{_unit:"pixelsUnit",_value:t}:t}};return r&&(a.guideTarget={_enum:"guideTarget",_value:r}),n&&(a.guideUserValue="number"==typeof n?{_unit:"pixelsUnit",_value:n}:n),a},t.clearAllGuides=function clearAllGuides(e){return{_obj:"delete",_target:{_ref:[{_ref:"guide",_enum:"ordinal",_value:"allEnum"},e]}}},t.deleteGuide=function deleteGuide(e){return{_obj:"delete",_target:{_ref:e}}}},388:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};t.__esModule=!0,t.setProperty=t.getProperties=t.deleteCurrentState=t.createSnapshot=t.get=t.remove=t.select=t.ref=void 0,a(r(607),t),t.ref={active:function(){return{_ref:"historyState",_enum:"ordinal",_value:"targetEnum"}},first:function(){return{_ref:"historyState",_enum:"ordinal",_value:"first"}},last:function(){return{_ref:"historyState",_enum:"ordinal",_value:"last"}},next:function(){return{_ref:"historyState",_enum:"ordinal",_value:"next"}},previous:function(){return{_ref:"historyState",_enum:"ordinal",_value:"previous"}},id:function(e){return{_ref:"historyState",_id:e}},offset:function(e){return{_ref:"historyState",_offset:e}},index:function(e){return{_ref:"historyState",_index:e}},name:function(e){return{_ref:"historyState",_name:e}}},t.select=function select(e){return{_obj:"select",_target:e}},t.remove=function remove(e){return{_obj:"delete",_target:e}},t.get=function get(e){return{_obj:"get",_target:e}},t.createSnapshot=function createSnapshot(e,t){return e&&t?{_obj:"make",_target:{_ref:"snapshotClass"},from:{_property:"currentHistoryState",_ref:"historyState"},name:e,using:{_enum:"historyState",_value:t}}:e?{_obj:"make",_target:{_ref:"snapshotClass"},from:{_property:"currentHistoryState",_ref:"historyState"},name:e,using:{_enum:"historyState",_value:"fullDocument"}}:{_obj:"make",_target:{_ref:"snapshotClass"},from:{_property:"currentHistoryState",_ref:"historyState"}}},t.deleteCurrentState=function deleteCurrentState(){return{_obj:"delete",_target:{_property:"currentHistoryState",_ref:"historyState"}}},t.getProperties=function getProperties(e,t,r){return void 0===r&&(r={}),{_obj:"multiGet",_target:e,extendedReference:[t],options:r}},t.setProperty=function setProperty(e,t){return{_obj:"set",_target:{_property:e,_ref:"historyState"},to:t}}},593:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};t.__esModule=!0,t.saveLayerSelection=t.show=t.hide=t.select=t.SelectionModifier=t.duplicate=t.deleteLayer=t.rasterize=t.makeGroup=t.makeShapeLayer=t.makeFillLayer=t.makeTextLayer=t.makeAdjustmentLayer=t.makeLayer=t.cut=t.copy=t.clear=t.rotate=t.flip=t.set=t.applySVGOffset=t.layersPanelInfo=t.exportLayer=t.flattenImage=t.mergeVisible=t.merge=t.disableLink=t.enableLink=t.ungroupLayers=t.saveStyleFile=t.applyStyleFile=t.clearStyle=t.reverseLayers=t.disableStyle=t.disableEffects=t.activateRenameLayer=t.activateFindLayers=t.selectNoLayers=t.selectAllLayers=t.selectLinkedLayers=t.addLayerToGroupByDrag=t.reorderEffects=t.unlinkLayers=t.linkLayers=t.applyLocking=t.releaseClippingMask=t.createClippingMask=t.setPlacedLayerComp=t.convertPlacedToLinked=t.ref=void 0,t.AdjustmentKinds=t.FillKinds=t.Kinds=t.LabelColors=t.getPropertiesRange=t.getProperties=t.makeBackground=t.move=t.unlink=t.link=t.restoreLayerSelection=void 0;var a,i=r(782);function basicMakeDesc(e){return{_obj:"make",_target:[{_ref:e}],using:{_obj:e}}}function addBasicLayerOptions(e,t){return void 0===t&&(t={}),i.applyOptionalParams(e.using,{name:t.name,mode:t.mode?{_enum:"blendMode",_value:t.mode}:void 0,color:t.color?{_enum:"color",_value:t.color}:void 0,opacity:t.opacity?{_unit:"percentUnit",_value:t.opacity}:void 0,group:t.group}),e}function fillLayerSetup(e){void 0===e&&(e={});var t={_obj:"make",_target:[{_ref:"contentLayer"}],using:{_obj:"contentLayer",type:{}}};return i.applyOptionalParams(t.using,{name:e.name,color:e.color?{_enum:"color",_value:e.color}:void 0,mode:e.mode?{_enum:"blendMode",_value:e.mode}:void 0,opacity:e.opacity?{_unit:"percentUnit",_value:e.opacity}:void 0}),t}t.ref={selected:function(){return{_ref:"layer",_enum:"ordinal",_value:"targetEnum"}},next:function(){return{_ref:"layer",_enum:"ordinal",_value:"next"}},front:function(){return{_ref:"layer",_enum:"ordinal",_value:"front"}},previous:function(){return{_ref:"layer",_enum:"ordinal",_value:"previous"}},forward:function(){return{_ref:"layer",_enum:"ordinal",_value:"forward"}},backward:function(){return{_ref:"layer",_enum:"ordinal",_value:"backward"}},back:function(){return{_ref:"layer",_enum:"ordinal",_value:"back"}},all:function(){return{_ref:"layer",_enum:"ordinal",_value:"all"}},mergedData:function(){return{_ref:"layer",_enum:"ordinal",_value:"merged"}},name:function(e){return{_ref:"layer",_name:e}},id:function(e){return{_ref:"layer",_id:e}},offset:function(e){return{_ref:"layer",_offset:e}},index:function(e){return{_ref:"layer",_index:e}},range:function(e,t){return{_obj:"layer",index:e,count:t}}},t.convertPlacedToLinked=function convertPlacedToLinked(e,t){return{_obj:"convertPlacedToLinked",_target:e,destination:t}},t.setPlacedLayerComp=function setPlacedLayerComp(e){return{_obj:"setPlacedLayerComp",_target:t.ref.selected(),compId:e}},t.createClippingMask=function createClippingMask(){return{_obj:"groupEvent",_target:t.ref.selected()}},t.releaseClippingMask=function releaseClippingMask(){return{_obj:"ungroup",_target:t.ref.selected()}},t.applyLocking=function applyLocking(e,t){return{_obj:"applyLocking",layerLocking:t,_target:e}},t.linkLayers=function linkLayers(){return{_obj:"linkSelectedLayers",_target:t.ref.selected()}},t.unlinkLayers=function unlinkLayers(){return{_obj:"unlinkSelectedLayers",_target:t.ref.selected()}},t.reorderEffects=function reorderEffects(e,t,r,n,a){var o={_obj:"reorderFX",_target:e,from:t,to:r,effectType:n};return i.applyOptionalParams(o,{duplicate:a}),o},t.addLayerToGroupByDrag=function addLayerToGroupByDrag(e){return{_obj:"addLayerTogroupByDrag",_target:t.ref.selected(),to:e}},t.selectLinkedLayers=function selectLinkedLayers(e){return{_obj:"selectLinkedLayers",_target:e}},t.selectAllLayers=function selectAllLayers(){return{_obj:"selectAllLayers",_target:t.ref.selected()}},t.selectNoLayers=function selectNoLayers(){return{_obj:"selectNoLayers",_target:t.ref.selected()}},t.activateFindLayers=function activateFindLayers(){return{_obj:"findLayers",_target:t.ref.selected()}},t.activateRenameLayer=function activateRenameLayer(){return{_obj:"renameLayer",_target:t.ref.selected()}},t.disableEffects=function disableEffects(e){return{_obj:"disableLayerFX",_target:e}},t.disableStyle=function disableStyle(e){return{_obj:"disableLayerStyle",_target:e}},t.reverseLayers=function reverseLayers(){return{_obj:"reverse",_target:t.ref.selected()}},t.clearStyle=function clearStyle(e){return{_obj:"clearStyle",_target:e}},t.applyStyleFile=function applyStyleFile(e,t){return{_obj:"applyStyleFile",_target:e,from:t}},t.saveStyleFile=function saveStyleFile(e,t,r){var n={_obj:"saveStyleFile",to:t,_target:e};return i.applyOptionalParams(n,{thumbnailPath:r}),n},t.ungroupLayers=function ungroupLayers(){return{_obj:"ungroupLayersEvent",_target:t.ref.selected()}},t.enableLink=function enableLink(e){return{_obj:"enableLayerLink",_target:e}},t.disableLink=function disableLink(e){return{_obj:"disableLayerLink",_target:e}},t.merge=function merge(){return{_obj:"mergeLayersNew"}},t.mergeVisible=function mergeVisible(){return{_obj:"mergeVisible"}},t.flattenImage=function flattenImage(){return{_obj:"flattenImage"}},t.exportLayer=function exportLayer(e){return{_obj:"export",saveDesc:e}},t.layersPanelInfo=function layersPanelInfo(e,t){return{_obj:"getLayersPanelInfo",_target:e,view:t}},t.applySVGOffset=function applySVGOffset(e){return n({_obj:"layerSVGcoordinateOffset"},e)},t.set=function set(e,t){return{_obj:"set",_target:e,to:t}},t.flip=function flip(e,t,r){return void 0===r&&(r=!1),{_obj:"flip",_target:e,axis:t,copy:r}},t.rotate=function rotate(e,t,r){return void 0===r&&(r=!1),{_obj:"rotate",_target:e,angle:t,copy:r}},t.clear=function clear(){return{_obj:"delete"}},t.copy=function copy(e){return e?{_obj:"copyMerged"}:{_obj:"copyEvent"}},t.cut=function cut(){return{_obj:"cut"}},t.makeLayer=function makeLayer(e){void 0===e&&(e={});var t=addBasicLayerOptions(basicMakeDesc("layer"),e);return i.applyOptionalParams(t.using,{fillNeutral:e.fillNeutral}),t},t.makeAdjustmentLayer=function makeAdjustmentLayer(e,t){void 0===t&&(t={});var r=addBasicLayerOptions(basicMakeDesc("adjustmentLayer"),t);switch(e.obj){case"vibrance":case"invert":case"colorLookup":r.using.type={_class:e.obj};break;default:r.using.type={_obj:e.obj}}return r},t.makeTextLayer=function makeTextLayer(e){return void 0===e&&(e={}),{_obj:"make",_target:[{_ref:"textLayer"}],using:n(n(n(n(n(n(n(n({_obj:"textLayer"},void 0!==e.name&&{name:e.name}),void 0!==e.color&&{color:{_enum:"color",_value:e.color}}),void 0!==e.mode&&{mode:{_enum:"blendMode",_value:e.mode}}),void 0!==e.opacity&&{opacity:{_unit:"percentUnit",_value:e.opacity}}),void 0!==e.group&&{group:e.group}),void 0!==e.contents&&{textKey:e.contents}),void 0!==e.position&&{textClickPoint:{_obj:"paint",horizontal:{_unit:"percentUnit",_value:e.position.x},vertical:{_unit:"percentUnit",_value:e.position.y}}}),{textStyleRange:[{_obj:"textStyleRange",textStyle:n(n(n({_obj:"textStyle"},void 0!==e.fontName&&{fontPostScriptName:e.fontName}),void 0!==e.fontSize&&{size:{_unit:"pixelsUnit",_value:e.fontSize}}),void 0!==e.textColor&&{color:e.textColor.base.desc}),from:0,to:void 0!==e.contents?e.contents.length+1:1}]})}},t.makeFillLayer={solid:function(e,t){var r;return void 0===e&&(e={}),void 0===t&&(t={}),r=fillLayerSetup(t),i.applyOptionalParams(r.using.type,{_obj:"solidColorLayer",color:e.color}),r},gradient:function(e,t){var r;return void 0===e&&(e={}),void 0===t&&(t={}),r=fillLayerSetup(t),i.applyOptionalParams(r.using.type,{_obj:"gradientLayer",angle:e.angle,gradient:e.gradient||{}}),r},pattern:function(e,t){var r;return void 0===e&&(e={}),void 0===t&&(t={}),r=fillLayerSetup(t),i.applyOptionalParams(r.using.type,{_obj:"patternLayer",angle:e.angle,pattern:e.pattern,scale:e.scale}),r}},t.makeShapeLayer={ellipse:function(e,r,n,a){void 0===r&&(r={}),void 0===a&&(a={});var i=t.makeFillLayer.solid(r,a);return i.using.shape={_obj:"ellipse",top:{_unit:"pixelsUnit",_value:e.top},left:{_unit:"pixelsUnit",_value:e.left},bottom:{_unit:"pixelsUnit",_value:e.bottom},right:{_unit:"pixelsUnit",_value:e.right},unitValueQuadVersion:1},n&&(i.using.strokeStyle=n),i}},t.makeGroup=function makeGroup(e){void 0===e&&(e={});var t=e.from;delete e.from;var r={_obj:"make",_target:[{_ref:"layerSection"}],using:{_obj:"layerSection"}};return i.applyOptionalParams(r.using,n(n({},e),{color:e.color?{_enum:"color",_value:e.color}:void 0,mode:e.mode?{_enum:"blendMode",_value:e.mode}:void 0,opacity:e.opacity?{_unit:"percentUnit",_value:e.opacity}:void 0})),i.applyOptionalParams(r,{from:t}),r},t.rasterize=function rasterize(e,t){var r={};if("linked"===e)r={_obj:"rasterizeLinked"};else if("clippingPath"===e){r={_obj:"rasterize",_target:n=[{_ref:"path:",_enum:"path:",_value:"vectorMask"},{_ref:"layer",_id:t}]}}else{var n={_ref:"layer",_id:t};r._target=n,"entire"!=e&&e&&e.length>0&&(r.what={_enum:"rasterizeItem",_value:e}),r._obj="rasterizeLayer"}return r},t.deleteLayer=function deleteLayer(e,t){return void 0===t&&(t=!1),{_obj:"delete",_target:e,deleteContained:t}},t.duplicate=function duplicate(e,t,r){var n={name:"duplicate",descriptor:{_target:e,version:5}};return i.applyOptionalParams(n.descriptor,{to:t,name:r}),n},function(e){e.select="0",e.deselect="removeFromSelection",e.add="addToSelection",e.addUpTo="addToSelectionContinuous"}(a=t.SelectionModifier||(t.SelectionModifier={})),t.select=function select(e,t,r){void 0===t&&(t=a.select);var n={_obj:"select",_target:e,selectionModifier:{_enum:"selectionModifierType",_value:t}};return i.applyOptionalParams(n,{makeVisible:r}),n},t.hide=function hide(e,t){var r={_obj:"hide",_target:e};return i.applyOptionalParams(r,{toggleOthers:t}),r},t.show=function show(e,t){var r={_obj:"show",_target:e};return i.applyOptionalParams(r,{toggleOthers:t}),r},t.saveLayerSelection=function saveLayerSelection(){return{_obj:"saveLayerSelection"}},t.restoreLayerSelection=function restoreLayerSelection(){return{_obj:"restoreLayerSelection"}},t.link=function link(e,t){return{_obj:"link",_target:e,to:t}},t.unlink=function unlink(e,t){var r={_obj:"unlink",_target:e};return i.applyOptionalParams(r,{to:t}),r},t.move=function move(e,r,n){return void 0===n&&(n=!0),{_obj:"move",_target:e,to:t.ref.index(r),version:5,adjustment:n}},t.makeBackground=function makeBackground(e){return{_obj:"make",_target:[{_ref:"backgroundLayer"}],using:e}},t.getProperties=function getProperties(e,t,r){return void 0===r&&(r={}),{_obj:"multiGet",_target:e,extendedReference:[t],options:r}},t.getPropertiesRange=function getPropertiesRange(e,t,r,n,a){return void 0===r&&(r=0),void 0===n&&(n=-1),void 0===a&&(a={}),{_obj:"multiGet",_target:e,extendedReference:[t,{_obj:"layer",index:r,count:n}],options:a}},function(e){e.none="none",e.red="red",e.orange="orange",e.yellow="yellowColor",e.green="grain",e.blue="blue",e.violet="violet",e.gray="gray"}(t.LabelColors||(t.LabelColors={})),function(e){e[e.any=0]="any",e[e.pixel=1]="pixel",e[e.adjustment=2]="adjustment",e[e.text=3]="text",e[e.vector=4]="vector",e[e.smartObject=5]="smartObject",e[e.video=6]="video",e[e.group=7]="group",e[e.threeD=8]="threeD",e[e.gradient=9]="gradient",e[e.pattern=10]="pattern",e[e.solidColor=11]="solidColor",e[e.background=12]="background",e[e.groupEnd=13]="groupEnd"}(t.Kinds||(t.Kinds={})),function(e){e.solid="solidColorLayer",e.gradient="gradientLayer",e.pattern="patternLayer"}(t.FillKinds||(t.FillKinds={})),function(e){e.blackAndWhite="blackAndWhite",e.brightnessContrast="brightnessContrast",e.channelMixer="channelMixer",e.colorBalance="colorBalance",e.colorLookup="colorLookup",e.curves="curves",e.exposure="exposure",e.gradientMap="gradientMapClass",e.hueSaturation="hueSaturation",e.invert="invert",e.levels="levels",e.photoFilter="photoFilter",e.posterize="posterization",e.selectiveColor="selectiveColor",e.threshold="thresholdClassEvent",e.vibrance="vibrance"}(t.AdjustmentKinds||(t.AdjustmentKinds={}))},44:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};t.__esModule=!0,t.getAllDocumentLayerComps=t.deleteLayerComp=t.duplicateLayerComp=t.resetLayerComp=t.recaptureLayerComp=t.applyLayerComp=t.setLayerCompProperty=t.addLayerComp=t.ref=void 0,t.ref={selected:function(){return{_ref:"compsClass",_enum:"ordinal",_value:"targetEnum"}},next:function(){return{_ref:"compsClass",_enum:"ordinal",_value:"next"}},previous:function(){return{_ref:"compsClass",_enum:"ordinal",_value:"previous"}},name:function(e){return{_ref:"compsClass",_name:e}},id:function(e){return{_ref:"compsClass",_id:e}},index:function(e){return{_ref:"compsClass",_index:e}}},t.addLayerComp=function addLayerComp(e,t,r,n,a,i,o){return{_obj:"make",_target:[{_ref:"compsClass"},e],using:{_obj:"compsClass",useVisibility:n,usePosition:a,useAppearance:i,useChildLayerCompState:o,title:t,comment:r}}},t.setLayerCompProperty=function setLayerCompProperty(e,t){return{_obj:"set",_target:e,to:r({_obj:"compsClass"},t)}},t.applyLayerComp=function applyLayerComp(e){return{_obj:"applyComp",_target:e}},t.recaptureLayerComp=function recaptureLayerComp(e,t,n,a,i,o){var s=[t,n,a,i],l={_obj:"recapture",_target:e};return s.every((function(e){return null==e}))||s.every((function(e){return e}))||(l=r(r({},l),{selected:o,useVisibility:!!t,usePosition:!!n,useAppearance:!!a,useChildLayerCompState:!!i})),l},t.resetLayerComp=function resetLayerComp(){return{_obj:"resetFromComp"}},t.duplicateLayerComp=function duplicateLayerComp(e){return{_obj:"duplicate",_target:e}},t.deleteLayerComp=function deleteLayerComp(e){return{_obj:"delete",_target:e}},t.getAllDocumentLayerComps=function getAllDocumentLayerComps(e){return{_obj:"get",_target:[{_property:"compsList"},e]}}},405:(e,t,r)=>{"use strict";t.nc=t.ZH=t.Go=t.P_=t.aT=t.hl=t.OM=t._H=t.PQ=t.uy=t.vw=t.Ys=t.Ux=t.Od=t.ks=t.OG=t.cD=t.iH=void 0;var n,a=r(782);t.iH={selected:function(){return{_ref:"path",_enum:"ordinal",_value:"targetEnum"}},all:function(){return{_ref:"path",_enum:"ordinal",_value:"all"}},name:function(e){return{_ref:"path",_name:e}},id:function(e){return{_ref:"path",_id:e}},index:function(e){return{_ref:"path",_index:e}},range:function(e,t){return{_obj:"path",index:e,count:t}},workPath:function(){return{_ref:"path",_property:"workPath"}}},t.cD=function getWorkPath(){return{_obj:"get",_target:t.iH.workPath()}},t.OG=function getVectorMask(){return{_obj:"get",_target:{_enum:"ordinal",_value:"vectorMask",_ref:"path"}}},t.ks=function getTextShapePath(){return{_obj:"get",_target:{_enum:"ordinal",_value:"textShape",_ref:"path"}}},t.Od=function remove(e){return{_obj:"delete",_target:e}},function(e){e.select="0",e.deselect="removeFromSelection",e.add="addToSelection",e.addUpTo="addToSelectionContinuous"}(n=t.Ux||(t.Ux={})),t.Ys=function select(e,t){void 0===t&&(t=n.select);var r={_obj:"select",_target:e};return t&&a.applyOptionalParams(r,{selectionModifier:{_enum:"selectionModifierType",_value:t}}),r},t.vw=function getProperties(e,t,r){if(void 0===r&&(r={}),t.length>1)return{_obj:"multiGet",_target:e,extendedReference:[t],options:r};var n=e;return Array.isArray(e)?n.unshift({_ref:"property",_property:t[0]}):n=[{_ref:"property",_property:t[0]},e],{_obj:"get",_target:{_ref:n}}},t.uy=function setSource(e,t,r){return{_obj:"set",_target:[{_property:"cloneSource",_ref:"property"},{_ref:"application"}],to:{_obj:"imagePoint",position:{_obj:"paint",horizontal:{_unit:"pixelsUnit",_value:e},vertical:{_unit:"pixelsUnit",_value:t}},source:r}}},t.PQ=function rename(e,t){return{_obj:"rename",_target:e,to:t}},t._H=function deselect(e){return{_obj:"deselect",_target:e}},t.OM=function duplicate(e,t){var r={_obj:"duplicate",_target:e};return a.applyOptionalParams(r,{name:t}),r},t.hl=function fill(e,t,r,n,i,o,s,l){var c={_obj:"fill",_target:e};return a.applyOptionalParams(c,{wholePath:t,preserveTransparency:o,antiAlias:l}),void 0!==n&&(c.opacity={_unit:"floatUnit",_value:n}),void 0!==i&&(c.mode={_enum:"mode",_value:i}),void 0!==s&&(c.radius={_unit:"floatUnit",_value:s}),r&&a.applyOptionalParams(c,{color:r,using:{_enum:"fillContents",_value:"color"}}),c},t.aT=function makeClippingPath(e,t){var r={_obj:"set",_target:[{_property:"clippingPath",_ref:"path"}],to:{_obj:"clippingPathEPS",path:e}};return void 0!==t&&(r.to.flatness=t),r},t.P_=function makePathSelection(e,t,r,n){var i={_obj:null!=t?t:"set",_target:[{_property:"selection",_ref:"channel"}],to:e};return a.applyOptionalParams(i,{antiAlias:n}),void 0!==r&&(i.feather={_unit:"floatUnit",_value:r}),i},t.Go=function stroke(e,t,r){return{_obj:"stroke",_target:e,using:{_class:t},pressure:r}},t.ZH=function clear(e){return{_obj:"clearEvent",_target:e}},t.nc=function makePathFromPoints(e){return{_obj:"set",_target:[{_property:"workPath",_ref:"path"}],to:e.map((function(e){return{_obj:"pathComponent",shapeOperation:{_enum:"shapeOperation",_value:e.operation},subpathListKey:[{_obj:"subpathsList",closedSubpath:e.closed,points:e.entireSubPath.map((function(e){return{_obj:"pathPoint",anchor:{_obj:"point",horizontal:{_unit:"pixelsUnit",_value:e.anchor[0]},vertical:{_unit:"pixelsUnit",_value:e.anchor[1]}},backward:{_obj:"point",horizontal:{_unit:"pixelsUnit",_value:e.rightDirection[0]},vertical:{_unit:"pixelsUnit",_value:e.rightDirection[1]}},forward:{_obj:"point",horizontal:{_unit:"pixelsUnit",_value:e.leftDirection[0]},vertical:{_unit:"pixelsUnit",_value:e.leftDirection[1]}}}}))}]}}))}}},104:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};t.__esModule=!0,t.saveSelectionToNewChannel=t.saveSelectionToChannel=t.selectColumn=t.selectRow=t.selectPolygon=t.selectEllipse=t.selectRectangle=t.selectAll=t.makeWorkPath=t.loadSelection=t.similar=t.grow=t.border=t.smoothness=t.feather=t.expand=t.inverse=t.deselect=t.contract=t.getSelection=void 0;var a=r(235),i=r(419).ref.selection();function selectBasicShape(e,t,r,n,a){return void 0===r&&(r="set"),void 0===n&&(n=0),void 0===a&&(a=!0),{_obj:r,_target:[i],to:{_obj:e,top:{_unit:"pixelsUnit",_value:t.top},left:{_unit:"pixelsUnit",_value:t.left},bottom:{_unit:"pixelsUnit",_value:t.bottom},right:{_unit:"pixelsUnit",_value:t.right}},antiAlias:a,feather:{_unit:"pixelsUnit",_value:n}}}t.getSelection=function getSelection(e){return a.getProperty(a.ref.id(e),"selection")},t.contract=function contract(e,t){return{_obj:"contract",_target:[i],by:{_unit:"pixelsUnit",_value:e},selectionModifyEffectAtCanvasBounds:t}},t.deselect=function deselect(){return{_obj:"set",_target:[i],to:{_enum:"ordinal",_value:"none"}}},t.inverse=function inverse(){return{_obj:"inverse",_target:[i]}},t.expand=function expand(e,t){return{_obj:"expand",_target:[i],by:{_unit:"pixelsUnit",_value:e},selectionModifyEffectAtCanvasBounds:t}},t.feather=function feather(e,t){return{_obj:"feather",_target:[i],radius:{_unit:"pixelsUnit",_value:e},selectionModifyEffectAtCanvasBounds:t}},t.smoothness=function smoothness(e,t){return{_obj:"smoothness",_target:[i],radius:{_unit:"pixelsUnit",_value:e},selectionModifyEffectAtCanvasBounds:t}},t.border=function border(e){return{_obj:"border",_target:[i],width:{_unit:"pixelsUnit",_value:e}}},t.grow=function grow(e,t){return{_obj:"grow",_target:[i],antiAlias:t,tolerance:e}},t.similar=function similar(e,t){return{_obj:"similar",_target:[i],antiAlias:t,tolerance:e}},t.loadSelection=function loadSelection(e,t,r){var n,a={set:"set",addTo:"add",subtractFrom:"subtract",intersectWith:"intersect"}[t];return"set"===a?{_obj:a,_target:[i],to:{_ref:e},invert:r}:((n={_obj:a,_target:e})[{set:"to",add:"to",subtract:"from",intersect:"with"}[a]]=i,n.invert=r,n)},t.makeWorkPath=function makeWorkPath(e){return{_obj:"make",_target:[{_ref:"path"}],from:{_ref:"selectionClass",_property:"selection"},tolerance:{_unit:"pixelsUnit",_value:e}}},t.selectAll=function selectAll(){return{_obj:"set",_target:[i],to:{_enum:"ordinal",_value:"allEnum"}}},t.selectRectangle=function selectRectangle(e,t,r,n){return selectBasicShape("rectangle",e,t,r,n)},t.selectEllipse=function selectEllipse(e,t,r,n){return selectBasicShape("ellipse",e,t,r,n)},t.selectPolygon=function selectPolygon(e,t,r,n){return{_obj:t,_target:[i],to:{_obj:"polygon",points:e.map((function(e){return{_obj:"paint",horizontal:{_unit:"pixelsUnit",_value:e.x},vertical:{_unit:"pixelsUnit",_value:e.y}}}))},antiAlias:n,feather:{_unit:"pixelsUnit",_value:r}}},t.selectRow=function selectRow(e,t){return{_obj:t,_target:[i],to:{_obj:"singleRow",top:{_unit:"pixelsUnit",_value:e}}}},t.selectColumn=function selectColumn(e,t){return{_obj:t,_target:[i],to:{_obj:"singleColumn",left:{_unit:"pixelsUnit",_value:e}}}},t.saveSelectionToChannel=function saveSelectionToChannel(e,t){var r,n={set:"set",addTo:"add",subtractFrom:"subtract",intersectWith:"intersect"}[t];if("set"===n)return{_obj:n,_target:e,to:i};var a={set:"to",add:"to",subtract:"from",intersect:"with"}[n];return e=e.filter((function(e){return"channel"===e._ref}))[0],(r={_obj:n,_target:[i]})[a]=e,r},t.saveSelectionToNewChannel=function saveSelectionToNewChannel(e){return n({_obj:"duplicate",_target:[{_ref:"channel",_property:"selection"}]},void 0!==e?{name:e}:{})}},664:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function setStyleProperty(e,t,n,a,i){var o;return{_obj:"set",_target:[{_ref:"property",_property:e},t],to:r((o={_obj:e},o[n]=a,o),i)}}t.__esModule=!0,t.convertToShape=t.makeWorkPathFromCurrentLayer=t.setTextLayerClickPoint=t.convertPixelLayerToTextLayer=t.setTextLayerContents=t.defaultWarpDesc=t.setWarpStyle=t.setParagraphStyleProperty=t.setCharacterStyleProperty=t.setTextItemProperty=void 0,t.setTextItemProperty=function setTextItemProperty(e,t,r){return{_obj:"set",_target:[{_ref:"property",_property:t},e],to:{_enum:t,_value:r}}},t.setCharacterStyleProperty=function setCharacterStyleProperty(e,t,r,n){return setStyleProperty("textStyle",e,t,r,n)},t.setParagraphStyleProperty=function setParagraphStyleProperty(e,t,r,n){return setStyleProperty("paragraphStyle",e,t,r,n)},t.setWarpStyle=function setWarpStyle(e,t){return{_obj:"set",_target:[{_ref:"property",_property:"warp"},e],to:t}},t.defaultWarpDesc=function defaultWarpDesc(){return{_obj:"warp",warpStyle:{_enum:"warpStyle",_value:"warpNone"},warpValue:0,warpPerspective:0,warpPerspectiveOther:0,warpRotate:{_enum:"orientation",_value:"horizontal"}}},t.setTextLayerContents=function setTextLayerContents(e,t){return{_obj:"set",_target:e,to:{_obj:"textLayer",textKey:t}}},t.convertPixelLayerToTextLayer=function convertPixelLayerToTextLayer(){return{_obj:"make",_target:[{_ref:"textLayer"}],using:{_obj:"textLayer",textStyleRange:[{_obj:"textStyleRange",from:0,textStyle:{_obj:"textStyle"},to:1}]}}},t.setTextLayerClickPoint=function setTextLayerClickPoint(e,t,r){return{_obj:"set",_target:e,to:{_obj:"textLayer",textClickPoint:{_obj:"paint",horizontal:{_unit:"percentUnit",_value:t},vertical:{_unit:"percentUnit",_value:r}}}}},t.makeWorkPathFromCurrentLayer=function makeWorkPathFromCurrentLayer(){return{_obj:"make",_target:[{_ref:"path"}],from:{_ref:"textLayer",_enum:"ordinal",_value:"targetEnum"}}},t.convertToShape=function convertToShape(e){return{_obj:"make",_target:[{_ref:"contentLayer"}],using:e}}},596:(e,t)=>{"use strict";t.i=void 0,t.i={selected:function(){return{_ref:"textLayer",_enum:"ordinal",_value:"targetEnum"}},next:function(){return{_ref:"textLayer",_enum:"ordinal",_value:"next"}},front:function(){return{_ref:"textLayer",_enum:"ordinal",_value:"front"}},previous:function(){return{_ref:"textLayer",_enum:"ordinal",_value:"previous"}},back:function(){return{_ref:"textLayer",_enum:"ordinal",_value:"back"}},name:function(e){return{_ref:"textLayer",_name:e}},id:function(e){return{_ref:"textLayer",_id:e}},index:function(e){return{_ref:"textLayer",_index:e}}}},993:(e,t)=>{"use strict";t.__esModule=!0},397:(e,t)=>{"use strict";t.__esModule=!0},915:(e,t)=>{"use strict";t.de=t.sz=t.RW=t.RE=t.$7=t.mI=void 0,function(e){e[e.ALL=0]="ALL",e[e.ERROR=1]="ERROR",e[e.NO=2]="NO"}(t.mI||(t.mI={})),function(e){e[e.DISCARD_CHANGES=0]="DISCARD_CHANGES",e[e.PROMPT_TO_SAVE_CHANGES=1]="PROMPT_TO_SAVE_CHANGES",e[e.SAVE_CHANGES=2]="SAVE_CHANGES"}(t.$7||(t.$7={})),function(e){e[e.END=0]="END",e[e.FRONT=1]="FRONT"}(t.RE||(t.RE={})),function(e){e.nearestNeighbor="nearestNeighbor",e.bilinear="bilinear",e.bicubic="bicubic",e.bicubicSmoother="bicubicSmoother",e.bicubicSharper="bicubicSharper",e.bicubicAutomatic="bicubicAutomatic",e.preserveDetailsUpscale="preserveDetailsUpscale",e.deepUpscale="deepUpscale"}(t.RW||(t.RW={})),function(e){e.nearestNeighbor="nearestNeighbor",e.bilinear="bilinear",e.bicubic="bicubic",e.bicubicSmoother="bicubicSmoother",e.bicubicSharper="bicubicSharper",e.bicubicAutomatic="bicubicAutomatic"}(t.sz||(t.sz={})),function(e){e.normal="normal",e.dissolve="dissolve",e.darken="darken",e.multiply="multiply",e.colorBurn="colorBurn",e.linearBurn="linearBurn",e.darkerColor="darkerColor",e.lighten="lighten",e.screen="screen",e.colorDodge="colorDodge",e.linearDodge="linearDodge",e.lighterColor="lighterColor",e.overlay="overlay",e.softLight="softLight",e.hardLight="hardLight",e.vividLight="vividLight",e.linearLight="linearLight",e.passThrough="passThrough",e.pinLight="pinLight",e.hardMix="hardMix",e.difference="difference",e.exclusion="exclusion",e.subtract="blendSubtraction",e.divide="blendDivide",e.hue="hue",e.saturation="saturation",e.color="color",e.luminosity="luminosity"}(t.de||(t.de={}))},462:(e,t)=>{"use strict";t.__esModule=!0},638:(e,t)=>{"use strict";t.__esModule=!0},607:(e,t)=>{"use strict";t.__esModule=!0},637:(e,t)=>{"use strict";t.__esModule=!0,t.FromFloat=t.FromPica=t.FromInch=t.FromCentimeter=t.FromMillimeter=t.FromPoint=t.FromPixel=t.FromPercent=t.FromDistance=t.FromDensity=t.FromAngle=t.isPicaValue=t.isInchValue=t.isCentimeterValue=t.isMillimeterValue=t.isPointValue=t.isPixelValue=t.isFloatValue=t.isPercentValue=t.isDistanceValue=t.isDensityValue=t.isAngleValue=t.Float=t.Pica=t.Inch=t.Centimeter=t.Millimeter=t.Point=t.Pixel=t.Percent=t.Distance=t.Density=t.Angle=void 0;t.Angle=function(e){return r.angle(e)};t.Density=function(e){return r.density(e)};t.Distance=function(e){return r.distance(e)};t.Percent=function(e){return r.percent(e)};t.Pixel=function(e){return r.pixels(e)};t.Point=function(e){return r.points(e)};t.Millimeter=function(e){return r.millimeters(e)};t.Centimeter=function(e){return r.centimeters(e)};t.Inch=function(e){return r.inches(e)};t.Pica=function(e){return r.picas(e)};function isAngleValue(e){return"angleUnit"===e._unit}function isDensityValue(e){return"densityUnit"===e._unit}function isDistanceValue(e){return"distanceUnit"===e._unit}function isPercentValue(e){return"percentUnit"===e._unit}function isFloatValue(e){return"floatUnit"===e._unit}function isPixelValue(e){return"pixelsUnit"===e._unit}function isPointValue(e){return"pointsUnit"===e._unit}function isMillimeterValue(e){return"millimetersUnit"===e._unit}function isCentimeterValue(e){return"centimetersUnit"===e._unit}function isInchValue(e){return"inchesUnit"===e._unit}function isPicaValue(e){return"picasUnit"===e._unit}function _unit(e,t){return{_unit:e+"Unit",_value:t}}t.Float=function(e){return r.float(e)},t.isAngleValue=isAngleValue,t.isDensityValue=isDensityValue,t.isDistanceValue=isDistanceValue,t.isPercentValue=isPercentValue,t.isFloatValue=isFloatValue,t.isPixelValue=isPixelValue,t.isPointValue=isPointValue,t.isMillimeterValue=isMillimeterValue,t.isCentimeterValue=isCentimeterValue,t.isInchValue=isInchValue,t.isPicaValue=isPicaValue,t.FromAngle=function FromAngle(e){if(e&&isAngleValue(e))return e._value;throw new Error("descriptor is not of type AngleValue")},t.FromDensity=function FromDensity(e){if(e&&isDensityValue(e))return e._value;throw new Error("descriptor is not of type DensityValue")},t.FromDistance=function FromDistance(e){if(e&&isDistanceValue(e))return e._value;throw new Error("descriptor is not of type DistanceValue")},t.FromPercent=function FromPercent(e){if(e&&isPercentValue(e))return e._value;throw new Error("descriptor is not of type PercentValue")},t.FromPixel=function FromPixel(e){if(e&&isPixelValue(e))return e._value;throw new Error("descriptor is not of type PixelValue")},t.FromPoint=function FromPoint(e){if(e&&isPointValue(e))return e._value;throw new Error("descriptor is not of type PointValue")},t.FromMillimeter=function FromMillimeter(e){if(e&&isMillimeterValue(e))return e._value;throw new Error("descriptor is not of type MillimeterValue")},t.FromCentimeter=function FromCentimeter(e){if(e&&isCentimeterValue(e))return e._value;throw new Error("descriptor is not of type CentimeterValue")},t.FromInch=function FromInch(e){if(e&&isInchValue(e))return e._value;throw new Error("descriptor is not of type InchValue")},t.FromPica=function FromPica(e){if(e&&isPicaValue(e))return e._value;throw new Error("descriptor is not of type PicaValue")},t.FromFloat=function FromFloat(e){if(e&&isFloatValue(e))return e._value;throw new Error("descriptor is not of type FloatValue")};var r={density:_unit.bind(null,"density"),pixels:_unit.bind(null,"pixels"),px:_unit.bind(null,"pixels"),percent:_unit.bind(null,"percent"),angle:_unit.bind(null,"angle"),float:_unit.bind(null,"float"),inches:_unit.bind(null,"inches"),centimeters:_unit.bind(null,"centimeters"),cm:_unit.bind(null,"centimeters"),picas:_unit.bind(null,"picas"),degrees:_unit.bind(null,"degrees"),number:_unit.bind(null,"number"),seconds:_unit.bind(null,"seconds"),points:_unit.bind(null,"points"),pt:_unit.bind(null,"points"),millimeters:_unit.bind(null,"millimeters"),mm:_unit.bind(null,"millimeters"),distance:_unit.bind(null,"distance")}},782:(e,t)=>{"use strict";t.__esModule=!0,t.applyTypedOptionalParams=t.applyOptionalParams=void 0,t.applyOptionalParams=function applyOptionalParams(e,t){for(var r in t)void 0!==t[r]&&null!==t[r]&&(e[r]=t[r]);return e},t.applyTypedOptionalParams=function applyTypedOptionalParams(e,t){for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}},749:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=r(548)},548:(e,t,r)=>{"use strict";var n,a,i,o,s,l,c,d,u,p,y,m,g,f,_,P,S,b,I,C,L,D,E,A,T,w,R,O,M,x,N,B,k,U,G,j,F,H,$,V,W,z,K,X,Y,q,Q,J,Z,ee,te,re,ne,ae,ie,oe,se,le,ce,de,ue,pe,he,ye,me,ge,fe,_e,Pe,ve,Se,be,Ie,Ce,Le,De,Ee,Ae,Te,we,Re,Oe,Me,xe,Ne,Be,ke,Ue,Ge,je,Fe,He,$e,Ve,We,ze,Ke,Xe,Ye,qe;r.r(t),r.d(t,{AnchorPosition:()=>_,AntiAlias:()=>xe,ApplyImageBlendMode:()=>L,ApplyImageChannel:()=>Re,ApplyImageLayer:()=>Me,AutoKernType:()=>Be,BMPDepthType:()=>s,Baseline:()=>Ue,BitmapConversionType:()=>x,BitmapHalfToneType:()=>N,BitsPerChannelType:()=>l,BlendMode:()=>b,CalculationsBlendMode:()=>C,CalculationsChannel:()=>we,CalculationsLayer:()=>Oe,CalculationsResult:()=>Te,ChangeMode:()=>T,ChannelType:()=>$,CharacterAlignment:()=>$e,ColorBlendMode:()=>I,ColorModel:()=>G,ColorPicker:()=>me,ColorProfileType:()=>M,CreateFields:()=>K,DepthMapSource:()=>c,DialogModes:()=>F,Direction:()=>k,DisplacementMapType:()=>H,Dither:()=>y,DocumentFill:()=>w,DocumentMode:()=>D,EditLogItemsType:()=>ge,ElementPlacement:()=>O,EliminateFields:()=>W,FontSize:()=>Le,ForcedColors:()=>m,Geometry:()=>z,GridLineStyle:()=>_e,GridSize:()=>fe,GuideLineStyle:()=>Pe,Intent:()=>B,InterpolationMethod:()=>n,JPEGFormatOptions:()=>u,Justification:()=>Fe,KashidaWidthType:()=>Xe,Kinsoku:()=>Ye,LabelColors:()=>S,Language:()=>je,LayerKind:()=>R,LensType:()=>de,MatteColor:()=>p,MaximizeCompatibility:()=>ve,MiddleEasternDigitsType:()=>Ke,MiddleEasternTextDirection:()=>ze,Mojikumi:()=>qe,NewDocumentMode:()=>E,NoiseDistribution:()=>V,OffsetUndefinedAreas:()=>pe,OperatingSystem:()=>d,Orientation:()=>U,OtherCursors:()=>Se,PNGMethod:()=>f,PaintingCursors:()=>be,Palette:()=>g,ParagraphFeatures:()=>We,ParagraphLayout:()=>Ve,PathKind:()=>X,PointKind:()=>Q,PointType:()=>Ie,PolarConversionType:()=>te,PreserveShape:()=>ue,RadialBlurMethod:()=>re,RadialBlurQuality:()=>ne,RasterizeType:()=>j,ResampleMethod:()=>a,RippleSize:()=>ae,RulerUnits:()=>Ee,SampleSize:()=>he,SaveLogItemsType:()=>Ce,SaveMethod:()=>i,SaveOptions:()=>o,SavePreview:()=>ye,SelectionType:()=>Y,ShapeOperation:()=>J,SmartBlurMode:()=>oe,SmartBlurQuality:()=>ie,SpherizeMode:()=>se,StrikeThrough:()=>He,TextCase:()=>ke,TextureType:()=>Z,ToolType:()=>q,TrimType:()=>P,TypeInterfaceFeatures:()=>Ae,TypeUnits:()=>De,UndefinedAreas:()=>ee,Underline:()=>Ge,Units:()=>A,WarpStyle:()=>Ne,WaveType:()=>le,ZigZagType:()=>ce}),function(e){e.AUTOMATIC="bicubicAutomatic",e.BICUBIC="bicubic",e.BICUBICSHARPER="bicubicSharper",e.BICUBICSMOOTHER="bicubicSmoother",e.BILINEAR="bilinear",e.NEARESTNEIGHBOR="nearestNeighbor"}(n||(n={})),function(e){e.AUTOMATIC="bicubicAutomatic",e.BICUBIC="bicubic",e.BICUBICSHARPER="bicubicSharper",e.BICUBICSMOOTHER="bicubicSmoother",e.BILINEAR="bilinear",e.NEARESTNEIGHBOR="nearestNeighbor",e.PRESERVEDETAILS="preserveDetailsUpscale",e.DEEPUPSCALE="deepUpscale",e.NONE="none"}(a||(a={})),function(e){e.SAVE="save",e.SAVEAS="saveAs",e.SAVEASCOPY="saveAsCopy"}(i||(i={})),function(e){e[e.DONOTSAVECHANGES=0]="DONOTSAVECHANGES",e[e.PROMPTTOSAVECHANGES=1]="PROMPTTOSAVECHANGES",e[e.SAVECHANGES=2]="SAVECHANGES"}(o||(o={})),function(e){e.ONE="bitDepth1",e.FOUR="bitDepth4",e.EIGHT="bitDepth8",e.SIXTEEN="bitDepth16",e.TWENTYFOUR="bitDepth24",e.THIRTYTWO="bitDepth32"}(s||(s={})),function(e){e.ONE="bitDepth1",e.EIGHT="bitDepth8",e.SIXTEEN="bitDepth16",e.THIRTYTWO="bitDepth32"}(l||(l={})),function(e){e.IMAGEHIGHLIGHT="imageHighlight",e.LAYERMASK="layerMask",e.NONE="none",e.TRANSPARENCYCHANNEL="transparency"}(c||(c={})),function(e){e.WINDOWS="windows",e.OS2="OS2"}(d||(d={})),function(e){e.STANDARDBASELINE="standardbaseline",e.PROGRESSIVE="progressive",e.OPTIMIZEDBASELINE="optimizedbaseline"}(u||(u={})),function(e){e.BACKGROUND="backgroundColor",e.BLACK="black",e.FOREGROUND="foregroundColor",e.NETSCAPE="netscapeGray",e.SEMIGRAY="gray50",e.WHITE="white"}(p||(p={})),function(e){e.DIFFUSION="diffusion",e.PATTERN="pattern",e.NOISE="blue",e.NONE="none"}(y||(y={})),function(e){e.NONE="none",e.BLACKANDWHITE="blackAndWhite",e.PRIMARIES="primaries",e.WEB="web"}(m||(m={})),function(e){e.EXACT="exact",e.MACOSPALETTE="macintoshSystem",e.WINDOWSPALETTE="windowsSystem",e.WEBPALETTE="web",e.UNIFORM="uniform",e.LOCALPERCEPTUAL="perceptual",e.LOCALSELECTIVE="selective",e.LOCALADAPTIVE="adaptive",e.MASTERPERCEPTUAL="masterPerceptual",e.MASTERSELECTIVE="masterSelective",e.MASTERADAPTIVE="masterAdaptive",e.PREVIOUSPALETTE="previous"}(g||(g={})),function(e){e.QUICK="quick",e.MODERATE="moderate",e.THOROUGH="thorough"}(f||(f={})),function(e){e.BOTTOMCENTER="bottom-center",e.BOTTOMLEFT="bottom-left",e.BOTTOMRIGHT="bottom-right",e.MIDDLECENTER="middle-center",e.MIDDLELEFT="middle-left",e.MIDDLERIGHT="middle-right",e.TOPCENTER="top-center",e.TOPLEFT="top-left",e.TOPRIGHT="top-right"}(_||(_={})),function(e){e.BOTTOMRIGHT="bottom-right",e.TOPLEFT="top-left",e.TRANSPARENT="transparent"}(P||(P={})),function(e){e.RED="red",e.ORANGE="orange",e.YELLOW="yellowColor",e.GREEN="grain",e.BLUE="blue",e.VIOLET="violet",e.GRAY="gray",e.NONE="none"}(S||(S={})),function(e){e.NORMAL="normal",e.DISSOLVE="dissolve",e.DARKEN="darken",e.MULTIPLY="multiply",e.COLORBURN="colorBurn",e.LINEARBURN="linearBurn",e.DARKERCOLOR="darkerColor",e.LIGHTEN="lighten",e.SCREEN="screen",e.COLORDODGE="colorDodge",e.LINEARDODGE="linearDodge",e.LIGHTERCOLOR="lighterColor",e.OVERLAY="overlay",e.SOFTLIGHT="softLight",e.HARDLIGHT="hardLight",e.VIVIDLIGHT="vividLight",e.LINEARLIGHT="linearLight",e.PINLIGHT="pinLight",e.HARDMIX="hardMix",e.DIFFERENCE="difference",e.EXCLUSION="exclusion",e.SUBTRACT="blendSubtraction",e.DIVIDE="blendDivide",e.HUE="hue",e.SATURATION="saturation",e.COLOR="color",e.LUMINOSITY="luminosity",e.PASSTHROUGH="passThrough"}(b||(b={})),function(e){e.BEHIND="behind",e.CLEAR="clearEnum",e.COLOR="color",e.COLORBURN="colorBurn",e.COLORDODGE="colorDodge",e.DARKEN="darken",e.DARKERCOLOR="darkerColor",e.DIFFERENCE="difference",e.DISSOLVE="dissolve",e.EXCLUSION="exclusion",e.HARDLIGHT="hardLight",e.HARDMIXBLEND="hardMix",e.HUE="hue",e.LIGHTEN="lighten",e.LIGHTERCOLOR="lighterColor",e.LINEARBURN="linearBurn",e.LINEARDODGE="linearDodge",e.LINEARLIGHT="linearLight",e.LUMINOSITY="luminosity",e.MULTIPLY="multiply",e.NORMAL="normal",e.OVERLAY="overlay",e.PINLIGHT="pinLight",e.SATURATION="saturation",e.SCREEN="screen",e.SOFTLIGHT="softLight",e.VIVIDLIGHT="vividLight"}(I||(I={})),function(e){e.NORMAL="normal",e.DARKEN="darken",e.MULTIPLY="multiply",e.COLORBURN="colorBurn",e.LINEARBURN="linearBurn",e.DARKERCOLOR="darkerColor",e.LIGHTEN="lighten",e.SCREEN="screen",e.COLORDODGE="colorDodge",e.LINEARDODGE="linearDodge",e.LIGHTERCOLOR="lighterColor",e.OVERLAY="overlay",e.SOFTLIGHT="softLight",e.HARDLIGHT="hardLight",e.VIVIDLIGHT="vividLight",e.LINEARLIGHT="linearLight",e.PINLIGHT="pinLight",e.HARDMIX="hardMix",e.ADD="add",e.SUBTRACT="subtract",e.DIFFERENCE="difference",e.EXCLUSION="exclusion",e.DIVIDE="blendDivide"}(C||(C={})),function(e){e.NORMAL="normal",e.DARKEN="darken",e.MULTIPLY="multiply",e.COLORBURN="colorBurn",e.LINEARBURN="linearBurn",e.DARKERCOLOR="darkerColor",e.LIGHTEN="lighten",e.SCREEN="screen",e.COLORDODGE="colorDodge",e.LINEARDODGE="linearDodge",e.LIGHTERCOLOR="lighterColor",e.OVERLAY="overlay",e.SOFTLIGHT="softLight",e.HARDLIGHT="hardLight",e.VIVIDLIGHT="vividLight",e.LINEARLIGHT="linearLight",e.PINLIGHT="pinLight",e.HARDMIX="hardMix",e.ADD="add",e.SUBTRACT="subtract",e.DIFFERENCE="difference",e.EXCLUSION="exclusion",e.DIVIDE="blendDivide"}(L||(L={})),function(e){e.BITMAP="bitmapMode",e.CMYK="CMYKColorMode",e.DUOTONE="duotoneMode",e.GRAYSCALE="grayscaleMode",e.INDEXEDCOLOR="indexedColorMode",e.LAB="labColorMode",e.MULTICHANNEL="multichannelMode",e.RGB="RGBColorMode"}(D||(D={})),function(e){e.BITMAP="bitmapMode",e.GRAYSCALE="grayscaleMode",e.RGB="RGBColorMode",e.CMYK="CMYKColorMode",e.LAB="labColorMode"}(E||(E={})),function(e){e.CM="cm",e.INCHES="in",e.MM="mm",e.PICAS="pc",e.PIXELS="px",e.POINTS="pt"}(A||(A={})),function(e){e.BITMAP="bitmapMode",e.CMYK="CMYKColorMode",e.GRAYSCALE="grayscaleMode",e.INDEXEDCOLOR="indexedColorMode",e.LAB="labColorMode",e.MULTICHANNEL="multichannelMode",e.RGB="RGBColorMode"}(T||(T={})),function(e){e.WHITE="white",e.BLACK="black",e.BACKGROUNDCOLOR="backgroundColor",e.TRANSPARENT="transparent",e.COLOR="color"}(w||(w={})),function(e){e.NORMAL="pixel",e.GROUP="group",e.SMARTOBJECT="smartObject",e.GRADIENTFILL="gradientFill",e.PATTERNFILL="pattern",e.SOLIDFILL="solidColor",e.TEXT="text",e.LAYER3D="threeD",e.VIDEO="video",e.BLACKANDWHITE="blackAndWhite",e.BRIGHTNESSCONTRAST="brightnessContrast",e.CHANNELMIXER="channelMixer",e.COLORBALANCE="colorBalance",e.COLORLOOKUP="colorLookup",e.CURVES="curves",e.EXPOSURE="exposure",e.GRADIENTMAP="gradientMap",e.HUESATURATION="hueSaturation",e.INVERSION="inversion",e.LEVELS="levels",e.PHOTOFILTER="photoFilter",e.POSTERIZE="posterize",e.SELECTIVECOLOR="selectiveColor",e.THRESHOLD="threshold",e.VIBRANCE="vibrance"}(R||(R={})),function(e){e.PLACEBEFORE="placeBefore",e.PLACEATBEGINNING="placeAtBeginning",e.PLACEATEND="placeAtEnd",e.PLACEAFTER="placeAfter",e.PLACEINSIDE="placeInside"}(O||(O={})),function(e){e.CUSTOM="customEnum",e.NONE="none",e.WORKING="workingSpaceCode"}(M||(M={})),function(e){e.CUSTOMPATTERN="customPattern",e.DIFFUSIONDITHER="diffusionDither",e.HALFTHRESHOLD="halfThreshold",e.HALFTONESCREEN="halfToneScreen",e.PATTERNDITHER="patternDither"}(x||(x={})),function(e){e.CROSS="cross",e.DIAMOND="diamond",e.ELLIPSE="ellipse",e.LINE="lineClass",e.ROUND="round",e.SQUARE="square"}(N||(N={})),function(e){e.ABSOLUTECOLORIMETRIC="absColorimetric",e.PERCEPTUAL="image",e.RELATIVECOLORIMETRIC="colorimetric",e.SATURATION="graphics"}(B||(B={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(k||(k={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(U||(U={})),function(e){e.GRAYSCALE="grayScale",e.HSB="HSBColorEnum",e.CMYK="CMYKColorEnum",e.LAB="labColor",e.RGB="RGBColor",e.NONE="noColor"}(G||(G={})),function(e){e.ENTIRELAYER="entire",e.FILLCONTENT="content",e.LAYERCLIPPINGPATH="clippingPath",e.LINKEDLAYERS="linked",e.SHAPE="shape",e.TEXTCONTENTS="type",e.VECTORMASK="vectorMask",e.PLACED="placed",e.VIDEO="video",e.LAYERSTYLE="layerStyle"}(j||(j={})),function(e){e.ALL="display",e.ERROR="silent",e.NONE="dontDisplay"}(F||(F={})),function(e){e.STRETCHTOFIT="stretchToFit",e.TILE="tile"}(H||(H={})),function(e){e.COMPONENT="component",e.MASKEDAREA="maskedAreas",e.SELECTEDAREA="selectedAreas",e.SPOTCOLOR="spot"}($||($={})),function(e){e.GAUSSIAN="gaussianDistribution",e.UNIFORM="uniformDistribution"}(V||(V={})),function(e){e.EVENFIELDS="eliminateEvenFields",e.ODDFIELDS="eliminateOddFields"}(W||(W={})),function(e){e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.OCTAGON="octagon",e.PENTAGON="pentagon",e.SQUARE="square",e.TRIANGLE="triangle"}(z||(z={})),function(e){e.DUPLICATION="createDroplet",e.INTERPOLATION="createInterpolation"}(K||(K={})),function(e){e.DUPLICATE="duplicate",e.INTERPOLATE="interpolate",e.CLIPPINGPATH="clippingPathEPS",e.NORMALPATH="normalPath",e.TEXTMASK="textShape",e.VECTORMASK="vectorMask",e.WORKPATH="workPathIndex"}(X||(X={})),function(e){e.DIMINISH="subtractFrom",e.EXTEND="addTo",e.INTERSECT="intersectWith",e.REPLACE="set"}(Y||(Y={})),function(e){e.ARTHISTORYBRUSH="artBrushTool",e.BACKGROUNDERASER="backgroundEraserTool",e.BLUR="blurTool",e.BRUSH="paintbrushTool",e.BURN="burnInTool",e.CLONESTAMP="cloneStampTool",e.COLORREPLACEMENTTOOL="colorReplacementBrushTool",e.DODGE="dodgeTool",e.ERASER="eraserTool",e.HEALINGBRUSH="magicStampTool",e.HISTORYBRUSH="historyBrushTool",e.PATTERNSTAMP="patternStampTool",e.PENCIL="pencilTool",e.SHARPEN="sharpenTool",e.SMUDGE="smudgeTool",e.SPONGE="saturationTool"}(q||(q={})),function(e){e.CORNERPOINT="cornerPoint",e.SMOOTHPOINT="smoothPoint"}(Q||(Q={})),function(e){e.SHAPEADD="add",e.SHAPEINTERSECT="intersect",e.SHAPESUBTRACT="subtract",e.SHAPEXOR="xor"}(J||(J={})),function(e){e.BLOCKS="texTypeBlocks",e.CANVAS="texTypeCanvas",e.FROSTED="texTypeFrosted",e.TINYLENS="texTypeTinyLens"}(Z||(Z={})),function(e){e.REPEATEDGEPIXELS="repeatEdgePixels",e.WRAPAROUND="wrapAround"}(ee||(ee={})),function(e){e.POLARTORECTANGULAR="polarToRect",e.RECTANGULARTOPOLAR="rectToPolar"}(te||(te={})),function(e){e.SPIN="spin",e.ZOOM="zoom"}(re||(re={})),function(e){e.DRAFT="draft",e.GOOD="good",e.BEST="best"}(ne||(ne={})),function(e){e.LARGE="large",e.MEDIUM="mediumQuality",e.SMALL="small"}(ae||(ae={})),function(e){e.HIGH="smartBlurQualityHigh",e.LOW="smartBlurQualityLow",e.MEDIUM="smartBlurQualityMedium"}(ie||(ie={})),function(e){e.EDGEONLY="smartBlurModeEdgeOnly",e.NORMAL="smartBlurModeNormal",e.OVERLAYEDGE="smartBlurModeOverlayEdge"}(oe||(oe={})),function(e){e.HORIZONTAL="horizontalOnly",e.NORMAL="normal",e.VERTICAL="verticalOnly"}(se||(se={})),function(e){e.SINE="waveSine",e.SQUARE="waveSquare",e.TRIANGULAR="waveTriangle"}(le||(le={})),function(e){e.AROUNDCENTER="aroundCenter",e.OUTFROMCENTER="outFromCenter",e.PONDRIPPLES="pondRipples"}(ce||(ce={})),function(e){e.MOVIEPRIME="panaVision",e.PRIME105="nikon105",e.PRIME35="nikon",e.ZOOMLENS="zoom"}(de||(de={})),function(e){e.SQUARENESS="squareness",e.ROUNDNESS="roundness"}(ue||(ue={})),function(e){e.SETTOBACKGROUND="background",e.REPEATEDGEPIXELS="repeat",e.WRAPAROUND="wrap"}(pe||(pe={})),function(e){e[e.POINTSAMPLE=0]="POINTSAMPLE",e[e.SAMPLE3X3=1]="SAMPLE3X3",e[e.SAMPLE5X5=2]="SAMPLE5X5",e[e.SAMPLE11X11=5]="SAMPLE11X11",e[e.SAMPLE31X31=15]="SAMPLE31X31",e[e.SAMPLE51X51=25]="SAMPLE51X51",e[e.SAMPLE101X101=50]="SAMPLE101X101"}(he||(he={})),function(e){e.ALWAYSSAVE="queryAlways",e.ASKWHENSAVING="queryAsk",e.NEVERSAVE="queryNever"}(ye||(ye={})),function(e){e.ADOBE="photoshopPicker",e.OSNATIVE="systemPicker",e.PLUGIN="pluginPicker"}(me||(me={})),function(e){e.CONCISE="concise",e.DETAILED="detailed",e.SESSIONONLY="session"}(ge||(ge={})),function(e){e.LARGE="large",e.MEDIUM="medium",e.NONE="none",e.SMALL="small"}(fe||(fe={})),function(e){e.DASHED="dashedLines",e.DOTTED="dots",e.SOLID="lens"}(_e||(_e={})),function(e){e.DASHED="dashedLines",e.SOLID="lens"}(Pe||(Pe={})),function(e){e.ALWAYS="queryAlways",e.ASK="queryAsk",e.NEVER="queryNever"}(ve||(ve={})),function(e){e.PRECISE="precise",e.STANDARD="standard"}(Se||(Se={})),function(e){e.FULLSIZE="fullSize",e.BRUSHSIZE="brushSize",e.PRECISE="precise",e.STANDARD="standard"}(be||(be={})),function(e){e.POSTSCRIPT="POSTSCRIPT",e.TRADITIONAL="TRADITIONAL"}(Ie||(Ie={})),function(e){e.LOGFILE="textFile",e.LOGFILEANDMETADATA="both",e.METADATA="metadata"}(Ce||(Ce={})),function(e){e.TINY="preferTinyPaletteFontType",e.LARGE="preferLargePaletteFontType",e.MEDIUM="preferMediumPaletteFontType",e.SMALL="preferSmallPaletteFontType"}(Le||(Le={})),function(e){e.MILLIMETERS="rulerMm",e.PIXELS="rulerPixels",e.POINTS="rulerPoints"}(De||(De={})),function(e){e.CENTIMETERS="rulerCm",e.INCHES="rulerInches",e.MILLIMETERS="rulerMm",e.PERCENT="rulerPercent",e.PICAS="rulerPicas",e.PIXELS="rulerPixels",e.POINTS="rulerPoints"}(Ee||(Ee={})),function(e){e.DEFAULT="defaultTextInterface",e.EASTASIAN="advancedAsianInterface",e.MIDDLEEASTERN="middleEasternInterface"}(Ae||(Ae={})),function(e){e.NEWDOCUMENT="document",e.NEWCHANNEL="channel",e.SELECTION="selection"}(Te||(Te={})),function(e){e.TRANSPARENCY="transparencyEnum",e.SELECTION="selection",e.GRAY="gray"}(we||(we={})),function(e){e.TRANSPARENCY="transparencyEnum",e.SELECTION="selection",e.RGB="RGB",e.CMYK="CMYK",e.LAB="lab"}(Re||(Re={})),function(e){e.MERGED="merged"}(Oe||(Oe={})),function(e){e.MERGED="merged"}(Me||(Me={})),function(e){e.NONE="antiAliasNone",e.SHARP="antiAliasSharp",e.CRISP="antiAliasCrisp",e.STRONG="antiAliasStrong",e.SMOOTH="antiAliasSmooth"}(xe||(xe={})),function(e){e.ARC="warpArc",e.ARCH="warpArch",e.ARCLOWER="warpArcLower",e.ARCUPPER="warpArcUpper",e.BULGE="warpBulge",e.FISH="warpFish",e.FISHEYE="warpFisheye",e.FLAG="warpFlag",e.INFLATE="warpInflate",e.NONE="warpNone",e.RISE="warpRise",e.SHELLLOWER="warpShellLower",e.SHELLUPPER="warpShellUpper",e.SQUEEZE="warpSqueeze",e.TWIST="warpTwist",e.WAVE="warpWave"}(Ne||(Ne={})),function(e){e.MANUAL="manual",e.METRICS="metricsKern",e.OPTICAL="opticalKern"}(Be||(Be={})),function(e){e.ALLCAPS="allCaps",e.NORMAL="normal",e.SMALLCAPS="smallCaps"}(ke||(ke={})),function(e){e.NORMAL="normal",e.SUPERSCRIPT="superScript",e.SUBSCRIPT="subScript"}(Ue||(Ue={})),function(e){e.NONE="underlineOff",e.RIGHTINVERTICAL="underlineOnRightInVertical",e.LEFTINVERTICAL="underlineOnLeftInVertical"}(Ge||(Ge={})),function(e){e.ENGLISHUSA="englishLanguage",e.ENGLISHUK="ukenglishLanguage",e.ENGLISHCANADA="canadianEnglishLanguage",e.FINNISH="finnishLanguage",e.FRENCH="standardFrenchLanguage",e.CANADIANFRENCH="canadianFrenchLanguage",e.GERMAN="standardGermanLanguage",e.GERMAN1996="germanLanguageReformed1996",e.OLDGERMAN="oldGermanLanguage",e.SWISSGERMAN="swissGermanLanguage",e.OLDSWISSGERMAN="swissGermanLanguageOldRules",e.ITALIAN="italianLanguage",e.NORWEGIAN="bokmalNorwegianLanguage",e.NYNORSKNORWEGIAN="nynorskNorwegianLanguage",e.PORTUGUESE="standardPortugueseLanguage",e.BRAZILLIANPORTUGUESE="brazilianPortugueseLanguage",e.SPANISH="spanishLanguage",e.SWEDISH="swedishLanguage",e.DUTCH="dutchLanguage",e.OLDDUTCH="kdutchLanguageOldRules",e.DANISH="danishLanguage",e.RUSSIAN="russianLanguage",e.SERBIAN="serbianLanguage",e.CZECH="czechLanguage",e.POLISH="polishLanguage",e.GREEK="greekLanguage",e.TURKISH="turkishLanguage",e.ICELANDIC="icelandicLanguage",e.HUNGARIAN="hungarianLanguage",e.CATALAN="catalanLanguage",e.CROATIAN="croatianLanguage",e.ROMANIAN="romanianLanguage",e.UKRAINIAN="ukranianLanguage",e.SLOVENIAN="slovenianLanguage",e.BULGARIAN="bulgarianLanguage",e.LATVIAN="latvianLanguage",e.LITHUANIAN="lithuanianLanguage",e.ESTONIAN="estonianLanguage",e.SLOVAK="slovakLanguage",e.CHINESE="chineseLanguage",e.JAPANESE="japaneseLanguage",e.ARABIC="arabicLanguage",e.HEBREW="hebrewLanguage",e.HINDI="hindiLanguage",e.BANGLAINDIA="bengaliIndiaLanguage",e.TAMIL="tamilLanguage",e.MALAYALAM="malayalamLanguage",e.TELUGU="teluguLanguage",e.KANNADA="kannadaLanguage",e.GUJARATI="gujaratiLanguage",e.MARATHI="marathiLanguage",e.PUNJABI="punjabiLanguage",e.ODIA="oriyaLanguage",e.THAI="thaiLanguage",e.KHMER="khmerLanguage",e.BURMESE="burmeseLanguage",e.LAO="laoLanguage",e.SINHALESE="sinhaleseLanguage",e.INDONESIAN="indonesianLanguage"}(je||(je={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right",e.LEFTJUSTIFIED="justifyLeft",e.CENTERJUSTIFIED="justifyCenter",e.RIGHTJUSTIFIED="justifyRight",e.FULLYJUSTIFIED="justifyAll"}(Fe||(Fe={})),function(e){e.STRIKEBOX="eMBoxStrikethroughOn",e.STRIKEHEIGHT="xHeightStrikethroughOn",e.STRIKEOFF="strikethroughOff"}(He||(He={})),function(e){e.ROMAN="roman",e.EMBOXTOPRIGHT="top",e.EMBOXCENTER="center",e.EMBOXBOTTOMLEFT="bottom",e.ICFBOXTOPRIGHT="icftop",e.ICFBOTTOMLEFT="icfbottom"}($e||($e={})),function(e){e.LATINEASTASIAN="textLatinCJKComposer",e.WORLDREADY="textOptycaComposer"}(Ve||(Ve={})),function(e){e.DEFAULT="defaultTextInterface",e.EASTASIAN="advancedAsianInterface",e.MIDDLEASTERN="middleEasternInterface"}(We||(We={})),function(e){e.DEFAULT="dirOverrideDefault",e.LEFTTORIGHT="dirOverrideLTR",e.RIGHTTOLEFT="dirOverrideRTL"}(ze||(ze={})),function(e){e.LTRARABIC="arabicDigits",e.RTLARABIC="RTLarabicDigits",e.HINDI="hindiDigits",e.FARSI="farsiDigits"}(Ke||(Ke={})),function(e){e.NONE="kashidaWidthNone",e.SHORT="kashidaWidthSmall",e.MEDIUM="kashidaWidthMedium",e.LONG="kashidaWidthLong",e.STYLISTIC="kashidaWidthStylistic"}(Xe||(Xe={})),function(e){e.NONE="None",e.JISWEAK="Soft",e.JISMAXIMUM="Hard"}(Ye||(Ye={})),function(e){e.NONE="None",e.SET1="Photoshop6MojiKumiSet1",e.SET2="Photoshop6MojiKumiSet2",e.SET3="Photoshop6MojiKumiSet3",e.SET4="Photoshop6MojiKumiSet4"}(qe||(qe={}))}},t={};function __webpack_require__(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";let e;__webpack_require__.d(r,{default:()=>er});const getCoreModules=()=>e?{photoshopAction:{batchPlay:(t,r)=>r.synchronousExecution?e?.batchPlaySync(t,r):e?.batchPlay(t,r,"DOM"),batchPlaySync:(t,r)=>e?.batchPlay(t,r,"DOM"),validateReference:t=>e?.callSyncUxpApi("action","validateReference",t),getIDFromString:t=>e?.callSyncUxpApi("action","getIDFromString",t),addNotificationListener:(e,t)=>{},removeNotificationListener:(e,t)=>{},recordAction:(e,t,r)=>{throw new Error("This method can't be used when DOM is a library")}},photoshopCore:{getLayerTreeSync:t=>e?.callSyncUxpApi("core","getLayerTreeSync",t),getLayerGroupContentsSync:t=>e?.callSyncUxpApi("core","getLayerGroupContentsSync",t),translateUIString:e=>{const t=e.match(/\$\$\$.*=(.*)/);return t?t[1]:e},performMenuCommand:(...t)=>e?.callAsyncUxpApi("core","performMenuCommand",...t),getMenuCommandState:(...t)=>e?.callAsyncUxpApi("core","getMenuCommandState",...t),getMenuCommandTitle:(...t)=>e?.callAsyncUxpApi("core","getMenuCommandTitle",...t),getActiveTool:()=>e?.callAsyncUxpApi("core","getActiveTool"),getCPUInfo:()=>e?.callAsyncUxpApi("core","getCPUInfo"),getGPUInfo:()=>e?.callAsyncUxpApi("core","getGPUInfo"),endModalToolState:t=>e?.callAsyncUxpApi("core","endModalToolState",t),showAlert:t=>e?.callAsyncUxpApi("core","showAlert",t),calculateDialogSize:t=>e?.callAsyncUxpApi("core","calculateDialogSize",...t),executeAsModal:()=>{throw new Error("This method can't be used when DOM is a library")},convertColor:(...t)=>e?.callSyncUxpApi("core","convertColor",...t)},UXP:{storage:{localFileSystem:{createSessionToken:e=>e}}}}:{photoshopAction:window?.require("photoshop").action,photoshopCore:window?.require("photoshop").core,UXP:window?.require("uxp")};var t,n;function replaceAndTranslate(e,t){let r=n.translateUIString(e);return Array.isArray(t)?(t.map(((e,t)=>{r=r.replace("^"+t.toString(),n.translateUIString(e))})),r):r}!function(e){e.batchPlay=async function batchPlay(e,t){return getCoreModules().photoshopAction.batchPlay(e,t)},e.batchPlaySync=function batchPlaySync(e,t){return getCoreModules().photoshopAction.batchPlay(e,t)},e.addNotificationListener=async function addNotificationListener(e,t){return getCoreModules().photoshopAction.addNotificationListener(e,t)},e.removeNotificationListener=async function removeNotificationListener(e,t){return getCoreModules().photoshopAction.removeNotificationListener(e,t)},e.validateReference=function validateReference(e){return getCoreModules().photoshopAction.validateReference(e)},e.recordAction=async function recordAction(e,t,r){return getCoreModules().photoshopAction.recordAction(e,t,r)},e.getIDFromString=function getIDFromString(e){return getCoreModules().photoshopAction.getIDFromString(e)}}(t||(t={})),function(e){e.addNotificationListener=async function addNotificationListener(e,t,r){return getCoreModules().photoshopCore.addNotificationListener(e,t,r)},e.calculateDialogSize=async function calculateDialogSize(e,t,r){return getCoreModules().photoshopCore.calculateDialogSize()},e.convertColor=function convertColor(e,t){return getCoreModules().photoshopCore.convertColor(e,t)},e.createTemporaryDocument=function createTemporaryDocument(e){return getCoreModules().photoshopCore.createTemporaryDocument(e)},e.deleteTemporaryDocument=function deleteTemporaryDocument(e){return getCoreModules().photoshopCore.deleteTemporaryDocument(e)},e.endModalToolState=async function endModalToolState(e){return getCoreModules().photoshopCore.endModalToolState(e)},e.executeAsModal=async function executeAsModal(e,t){return getCoreModules().photoshopCore.executeAsModal(e,t)},e.getActiveTool=async function getActiveTool(){return getCoreModules().photoshopCore.getActiveTool()},e.getCPUInfo=function getCPUInfo(){return getCoreModules().photoshopCore.getCPUInfo()},e.getDisplayConfiguration=async function getDisplayConfiguration(e){return getCoreModules().photoshopCore.getDisplayConfiguration(e)},e.getGPUInfo=function getGPUInfo(){return getCoreModules().photoshopCore.getGPUInfo()},e.getLayerGroupContents=async function getLayerGroupContents(e){return getCoreModules().photoshopCore.getLayerGroupContents(e)},e.getLayerGroupContentsSync=function getLayerGroupContentsSync(e){return getCoreModules().photoshopCore.getLayerGroupContentsSync(e)},e.getLayerTree=async function getLayerTree(e){return getCoreModules().photoshopCore.getLayerTree(e)},e.getLayerTreeSync=function getLayerTreeSync(e){return getCoreModules().photoshopCore.getLayerTreeSync(e)},e.getMenuCommandState=async function getMenuCommandState(e){return getCoreModules().photoshopCore.getMenuCommandState(e)},e.getMenuCommandTitle=async function getMenuCommandTitle(e){return getCoreModules().photoshopCore.getMenuCommandTitle(e)},e.getPluginInfo=async function getPluginInfo(){return getCoreModules().photoshopCore.getPluginInfo()},e.getUserIdleTime=async function getUserIdleTime(){return getCoreModules().photoshopCore.getUserIdleTime()},e.historySuspended=async function historySuspended(e){return getCoreModules().photoshopCore.historySuspended(e)},e.isModal=function isModal(){return getCoreModules().photoshopCore.isModal()},e.performMenuCommand=async function performMenuCommand(e){return getCoreModules().photoshopCore.performMenuCommand(e)},e.redrawDocument=async function redrawDocument(e){return getCoreModules().photoshopCore.redrawDocument(e)},e.removeNotificationListener=async function removeNotificationListener(e,t,r){return getCoreModules().photoshopCore.removeNotificationListener(e,t,r)},e.setExecutionMode=async function setExecutionMode(e){return getCoreModules().photoshopCore.setExecutionMode(e)},e.setUserIdleTime=async function setUserIdleTime(e){return getCoreModules().photoshopCore.setUserIdleTime(e)},e.showAlert=async function showAlert(e){return getCoreModules().photoshopCore.showAlert(e)},e.suppressResizeGripper=function suppressResizeGripper(){return getCoreModules().photoshopCore.suppressResizeGripper(options)},e.translateUIString=function translateUIString(e){return getCoreModules().photoshopCore.translateUIString(e)}}(n||(n={}));const a="$$$/ScriptingSupport/Error/CannotChangeFilterMaskParrams=You cannot change filter mask parameters without the filter mask.",i="$$$/ScriptingSupport/Error/CannotChangeLayerMaskParams=You cannot change layer mask parameters without the layer mask.",o="$$$/ScriptingSupport/Error/CannotChangeVectorMaskParams=You cannot change vector mask parameters without the vector mask.",s="$$$/CT/MultiScript/Error/IllegalArgument=Illegal Argument.",l="$$$/ScriptingSupport/Error/NotValidForComponentChannel=The operation is not valid for channels of type component.",c="$$$/PSUXP/Error/SpecifiedTwoKeyDoesNotExist=The requested ^0 ^1 does not exist.",d="$$$/PSUXP/Error/DocumentWIthIDDoesNot=The ^0 with an id of ^1 does not exist.",u="$$$/PSUXP/Error/UnknownColorSpace=Unknown color space: ^0.",p="$$$/PSUXP/Error/InputValueNotAnArrayLayers=Input parameter is not an array.",y="$$$/PSUXP/Error/UXPFileEntry=UXP File entry was not provided. See https://www.adobe.com/go/ps-api-uxp-filesystemprovider.",m="$$$/PSUXP/Error/CouldNotCreateUXPFileToken=Could not create UXP File token: ^0.",g="$$$/PSUXP/Error/InvalidType=Invalid value of ^{^0^} for the type ^{^1^}.",f="$$$/PSUXP/Error/InvalidComponentChannel=Invalid ComponentChannel referenced in PSChannel",_="$$$/PSUXP/Error/InvalidChannelIndex=Cannot instantiate channel with index ^0 and document ID ^1",P="$$$/PSUXP/Error/InvalidLayerID=Invalid layer ID: ^0.",S="$$$/PSUXP/Error/InvalidDocument=Invalid document",b="$$$/PSUXP/Error/InvalidLayer=Invalid layer",I="$$$/PSUXP/Error/InvalidChannel=Invalid channel",C="$$$/PSUXP/Error/InvalidTargetForMove=Invalid target for move.",L="$$$/PSUXP/Error/ImplementedInsideProxy=Implemented inside proxy.",D="$$$/PSUXP/Error/BatchPlaySync=BatchPlay is asynchronous, please use batchPlaySync.",E="$$$/PSUXP/Error/OutsideOfRange=The input '^0' is outside of range ^1^2,^3^4.",A="$$$/PSUXP/Error/IncorrectType='^0' is of type ^1. Expecting type ^2.",T="$$$/PSUXP/Error/InvalidConstant=Invalid constant. Expected '^0' to be one of ^1.",w="$$$/PSUXP/Error/CannotRunFilterOnGroup=Command cannot be applied on group layers.",R="$$$/PSUXP/Error/ColorModeValidation=Command '^0' is not supported in color mode ^1 with depth ^2 bits per channel. Please consider to convert document into different color mode or bit depth. Please read UXP documentation to see supported modes.",O="$$$/PSUXP/Error/CannotAddLayerComp=Cannot add layer comp. This can happen if document has only background layer and no other layers.",M="$$$/PSUXP/Error/NoActiveSelection=The '^0' operation cannot be performed because it requires an active selection.",x="$$$/PSUXP/Error/DocumentSizesMismatchInCalculationsError=Calculations can be performed only on documents with the same dimensions in pixels",N="$$$/PSUXP/Error/UnrecognizedValue=The internal value '^0' is not recognized by '^1'",B="$$$/PSUXP/Error/WrongNumberOfInks=Duotone color mode is expected to have: 1, 2, 3 or 4 inks but found '^0' instead",k={modalBehavior:"execute"};let U=!0;async function batchPlay(e,r=k){if(!0===r.synchronousExecution)throw new Error(n.translateUIString(D));let a=Array.isArray(e)?e:[e];a=a.map((e=>e.hasOwnProperty("_obj")?{...e,_options:{dialogOptions:er.displayDialogs,...e._options}}:{...e,options:{dialogOptions:er.displayDialogs,...e.options}}));const i={...r,skipAnalytics:!0};return t.batchPlay(a,i)}function batchPlaySync(e,r=k){let n=Array.isArray(e)?e:[e];n=n.map((e=>e.hasOwnProperty("_obj")?{...e,_options:{dialogOptions:er.displayDialogs,...e._options}}:{...e,options:{dialogOptions:er.displayDialogs,...e.options}}));const a={...r,synchronousExecution:!0,skipAnalytics:!0};return t.batchPlaySync(n,a)}function validateReference(e){if(!U)return!0;try{return getCoreModules().photoshopAction.validateReference(e)}catch(e){return!1}}var G,j,F=__webpack_require__(548),H=__webpack_require__(235),$=__webpack_require__(593);function selectionDance(e){return Array.isArray(e)||"Document"!==e.typename?function selectionDanceLayer(e){Array.isArray(e)||(e=[e]);if(!e.length)return[];return[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(e[0]._docId)),(0,$.saveLayerSelection)(),(0,$.select)(e.map((e=>$.ref.id(e.id))))]}(e):function selectionDanceDoc(e){return[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(e.id))]}(e)}function validateColorMode(e,t,r){const n=batchPlaySync((0,H.getProperties)(H.ref.id(e.id),["depth","mode"])),[{depth:a,mode:{_value:i}}]=n;let o=!1,s="unknown";switch(i){case"grayScale":case"gray16":o=t?.Gray?.includes(a),s="DocumentMode.GRAYSCALE";break;case"RGBColor":case"RGB48":o=t?.RGB?.includes(a),s="DocumentMode.RGB";break;case"CMYKColorEnum":case"CMYK64":o=t?.CMYK?.includes(a),s="DocumentMode.CMYK";break;case"labColor":case"lab48":o=t?.Lab?.includes(a),s="DocumentMode.LAB";break;case"bitmap":o=t.Bitmap,s="DocumentMode.BITMAP";break;case"indexedColor":o=t.Indexed,s="DocumentMode.INDEXEDCOLOR";break;case"duotone":o=t?.Duotone?.includes(a),s="DocumentMode.DUOTONE";break;case"multichannel":o=t?.Multi?.includes(a),s="DocumentMode.MULTICHANNEL";break;default:{const e=replaceAndTranslate(u,[i]);throw new Error(e)}}if("ALLOWED"===t.rule&&!o||"DISALLOWED"===t.rule&&o){const e=[r,s,a.toString()],t=replaceAndTranslate(R,e);throw new Error(t)}}function validateRange(e,t,r,n,a="closed",i="closed"){validateBasicType(e,t,"number");let o,s,l=!1,c=!1;if("closed"===a?(o="[",e>=r&&(l=!0)):(o="(",e>r&&(l=!0)),"closed"===i?(s="]",e<=n&&(c=!0)):(s=")",e<n&&(c=!0)),!l||!c){const e=[t,o,r.toString(),n.toString(),s],a=replaceAndTranslate(E,e);throw new RangeError(a)}}function validateConstant(e,t,r){if(validateBasicType(e,t,"string"==typeof e?"string":"number"),!Object.values(r).includes(e)){const r=replaceAndTranslate(T,[`${e}`,t]);throw new Error(r)}}function validateBasicType(e,t,r,n=!1){if(n&&void 0===e)return;const a=typeof e;if(a!==r){const e=replaceAndTranslate(A,[t,a,r]);throw new Error(e)}}function validateObjectProperties(e,t,r){r.forEach((n=>{if(!Object.hasOwnProperty.call(e,n)){let n=[t,`{${Object.keys(e).join(", ")}}`,`{${r.join(", ")}}`];const a=replaceAndTranslate(A,n);throw new Error(a)}}))}function retrieveUXPFileToken(e){if(null==e)throw new Error(n.translateUIString(y));let t;try{t=getCoreModules().UXP.storage.localFileSystem.createSessionToken(e)}catch(e){const t=replaceAndTranslate(m,[e.message||e]);throw new Error(t)}return t}class DOMError extends Error{constructor(e,t){super(replaceAndTranslate(e,t))}get name(){return"DomError"}get typename(){return this.name}}!function(e){e.CLOSED="closed",e.OPEN="open"}(G||(G={})),function(e){e.NUMBER="number",e.STRING="string",e.BOOLEAN="boolean"}(j||(j={}));const V={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16]},W={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},z={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},K={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},X={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Y={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,RGB:[32],Gray:[32]},q={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Q={rule:"ALLOWED",RGB:[8],CMYK:[8],Duotone:[8],Gray:[8],Lab:[8],Multi:[8]},J={rule:"ALLOWED",RGB:[8],Duotone:[8],Gray:[8],Multi:[8]},Z={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ee={rule:"ALLOWED",RGB:[8],Duotone:[8],Gray:[8],Multi:[8]},te={rule:"ALLOWED",RGB:[8],Duotone:[8],Gray:[8],Multi:[8]},re={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ne={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ae={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ie={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},oe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},se={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},le={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ce={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},de={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ue={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,RGB:[32],Gray:[32]},pe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,RGB:[32],Gray:[32]},he={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,RGB:[32],Gray:[32]},ye={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},me={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Lab:[8,16]},ge={rule:"ALLOWED",RGB:[8,16,32]},fe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},_e={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,RGB:[32],Gray:[32]},Pe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},ve={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Se={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,CMYK:[8,16],Duotone:[8]},be={rule:"ALLOWED",RGB:[8,16,32]},Ie={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Ce={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Le={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},De={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Ee={rule:"DISALLOWED",Bitmap:!0,Indexed:!0},Ae={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16]},Te={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16]},we={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16]},Re={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16]},Oe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16],Gray:[32],RGB:[32]},Me={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},xe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},Ne={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16]},Be={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},ke={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32],Lab:[8,16]},Ue={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16]},Ge={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8],Gray:[8,16,32],Duotone:[8]},je={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},Fe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},He={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},$e={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},Ve={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},We={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},ze={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[32],RGB:[32]},Ke={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16]},Xe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16],Gray:[32],RGB:[32]},Ye={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16]},qe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Lab:[8,16]},Qe={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},Je={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},Ze={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},et={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},tt={rule:"DISALLOWED",Bitmap:!0,Indexed:!0,Multi:[8,16],Gray:[8,16,32],Duotone:[8]},rt={rule:"DISALLOWED",Bitmap:!0,RGB:[32],Gray:[32]};var nt,at=__webpack_require__(637),it=__webpack_require__(915);class Bounds{constructor(){}get left(){return this._left}set left(e){this._left=e}get right(){return this._right}set right(e){this._right=e}get top(){return this._top}set top(e){this._top=e}get bottom(){return this._bottom}set bottom(e){this._bottom=e}get width(){return this._right-this._left}get height(){return this._bottom-this._top}union(e){const t=new Bounds;return t.top=Math.min(this._top??1/0,e.top??1/0),t.bottom=Math.max(this._bottom??-1/0,e.bottom??-1/0),t.left=Math.min(this._left??1/0,e.left??1/0),t.right=Math.max(this._right??-1/0,e.right??-1/0),t}get typename(){return"Bounds"}}!function(e){e[e.HSB=4]="HSB",e[e.CMYK=5]="CMYK",e[e.Lab=6]="Lab",e[e.RGB=15]="RGB",e[e.Gray=16]="Gray"}(nt||(nt={}));class CMYKColor{constructor(e){e&&(validateConstant(e._obj,"desc._obj",["CMYKColorClass"]),validateRange(e.cyan,"desc.cyan",0,360),validateRange(e.magenta,"desc.magenta",0,100),validateRange(e.yellowColor,"desc.yellowColor",0,100),validateRange(e.black,"desc.black",0,100)),this.desc=e??{_obj:"CMYKColorClass",cyan:0,magenta:0,yellowColor:0,black:0}}get black(){return this.desc.black}set black(e){this.desc.black=e}get cyan(){return this.desc.cyan}set cyan(e){this.desc.cyan=e}get magenta(){return this.desc.magenta}set magenta(e){this.desc.magenta=e}get yellow(){return this.desc.yellowColor}set yellow(e){this.desc.yellowColor=e}get typename(){return"CMYKColor"}}class GrayColor{constructor(e){e&&(validateConstant(e._obj,"desc._obj",["grayscale"]),validateRange(e.gray,"desc.gray",0,100)),this.desc=e??{_obj:"grayscale",gray:0}}get gray(){return this.desc.gray}set gray(e){validateRange(e,"gray",0,100),this.desc.gray=e}get typename(){return"GrayColor"}}class HSBColor{constructor(e){e&&(validateConstant(e._obj,"desc._obj",["HSBColorClass"]),validateRange(e.hue._value,"desc.hue._value",0,360),validateRange(e.saturation,"desc.saturation",0,100),validateRange(e.brightness,"desc.brightness",0,100)),this.desc=e??{_obj:"HSBColorClass",hue:{_unit:"angleUnit",_value:0},saturation:0,brightness:100}}get brightness(){return this.desc.brightness}set brightness(e){validateRange(e,"brightness",0,100),this.desc.brightness=e}get hue(){return this.desc.hue._value}set hue(e){validateRange(e,"hue",0,360),this.desc.hue._value=e}get saturation(){return this.desc.saturation}set saturation(e){validateRange(e,"saturation",0,100),this.desc.saturation=e}get typename(){return"HSBColor"}}class LabColor{constructor(e){e&&(validateConstant(e._obj,"desc._obj",["labColor"]),validateRange(e.luminance,"desc.luminance",0,100),validateRange(e.a,"desc.a",-128,127),validateRange(e.b,"desc.b",-128,127)),this.desc=e??{_obj:"labColor",luminance:100,a:0,b:0}}get a(){return this.desc.a}set a(e){validateRange(e,"a",-128,127),this.desc.a=e}get b(){return this.desc.b}set b(e){validateRange(e,"b",-128,127),this.desc.b=e}get l(){return this.desc.luminance}set l(e){validateRange(e,"l",0,100),this.desc.luminance=e}get typename(){return"LabColor"}}class RGBColor{constructor(e){"redFloat"in(e=e??{_obj:"RGBColor",red:255,green:255,blue:255})&&"blueFloat"in e&&"greenFloat"in e&&(e.blueFloat=Math.min(Math.max(e.blueFloat,0),1),e.greenFloat=Math.min(Math.max(e.greenFloat,0),1),e.redFloat=Math.min(Math.max(e.redFloat,0),1),e=n.convertColor(e,nt.RGB),console.warn("RGB with 32 bits per channels is not supported. Color values were rounded to the nearest range valid for RGB with 16 bits per channel")),e&&void 0!==e.grain&&delete(e={...e,green:e.grain}).grain,e&&(validateConstant(e._obj,"desc._obj",["RGBColor"]),validateRange(e.blue,"desc.blue",0,255),validateRange(e.red,"desc.red",0,255),validateRange(e.green,"desc.green",0,255)),this.desc=e}get blue(){return this.desc.blue}set blue(e){validateRange(e,"blue",0,255),this.desc.blue=e}get green(){return this.desc.green}set green(e){validateRange(e,"green",0,255),this.desc.green=e}get red(){return this.desc.red}set red(e){validateRange(e,"red",0,255),this.desc.red=e}get hexValue(){return(Math.round(this.desc.red).toString(16).padStart(2,"0")+Math.round(this.desc.green).toString(16).padStart(2,"0")+Math.round(this.desc.blue).toString(16).padStart(2,"0")).toUpperCase()}set hexValue(e){if(!e.match(/#?[0-9a-fA-F]{6}/))throw new Error(n.translateUIString("$$$/PSUXP/Error/InvalidHexCode=Invalid hex code provided to RGBColor.hexValue setter. Please provide a 6 character hexadecimal string with or without # symbol at the beginning."));const t=e.slice(-6);this.desc.red=Number.parseInt(t.substring(0,2),16),this.desc.green=Number.parseInt(t.substring(2,4),16),this.desc.blue=Number.parseInt(t.substring(4,6),16)}get typename(){return"RGBColor"}}class NoColor{constructor(){}get typename(){return"NoColor"}}function mapRGBToNearestWebColor(e){return{_obj:"RGBColor",red:51*Math.round(e.red/255*5),green:51*Math.round(e.green/255*5),blue:51*Math.round(e.blue/255*5)}}class SolidColor{constructor(e){switch(e){case F.ColorModel.CMYK:this.base=new CMYKColor;break;case F.ColorModel.GRAYSCALE:this.base=new GrayColor;break;case F.ColorModel.HSB:this.base=new HSBColor;break;case F.ColorModel.LAB:this.base=new LabColor;break;default:this.base=new RGBColor}}get model(){switch(this.base.typename){case"CMYKColor":return F.ColorModel.CMYK;case"GrayColor":return F.ColorModel.GRAYSCALE;case"HSBColor":return F.ColorModel.HSB;case"LabColor":return F.ColorModel.LAB;case"RGBColor":return F.ColorModel.RGB}throw new Error(replaceAndTranslate(N,[this.base.typename,"SolidColor.model"]))}get typename(){return"SolidColor"}get rgb(){if("RGBColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.RGB);this.base=new RGBColor(e)}return this.base}set rgb(e){this.base=e}get cmyk(){if("CMYKColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.CMYK);this.base=new CMYKColor(e)}return this.base}set cmyk(e){this.base=e}get hsb(){if("HSBColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.HSB);this.base=new HSBColor(e)}return this.base}set hsb(e){this.base=e}get lab(){if("LabColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.Lab);this.base=new LabColor(e)}return this.base}set lab(e){this.base=e}get gray(){if("GrayColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.Gray);e.gray=100-e.gray,this.base=new GrayColor(e)}return this.base}set gray(e){this.base=e}get nearestWebColor(){if("RGBColor"!==this.base.typename){const e=n.convertColor(this.base.desc,nt.RGB),t=mapRGBToNearestWebColor(SolidColor.fromDesc(e).rgb.desc);return new RGBColor(t)}{const e=mapRGBToNearestWebColor(this.base.desc);return new RGBColor(e)}}isEqual(e){const t="LabColor"===this.base.typename?this.base.desc:n.convertColor(this.base.desc,nt.Lab),r="LabColor"===e.base.typename?e.base.desc:n.convertColor(e.base.desc,nt.Lab);return(((t.luminance-r.luminance)/100)**2+((t.a-r.a)/255)**2+((t.b-r.b)/255)**2)/3<35e-7}static fromDesc(e){let t=new SolidColor;switch(e._obj){case"RGBColor":if("redFloat"in e&&"blueFloat"in e&&"greenFloat"in e)throw new DOMError("$$$/PSUXP/Error/unsupportedRGB32=RGB in 32 bits per channel precisions is currently not supported");t.rgb=new RGBColor(e);break;case"labColor":t.lab=new LabColor(e);break;case"CMYKColorClass":t.cmyk=new CMYKColor(e);break;case"grayscale":t.gray=new GrayColor(e);break;case"HSBColorClass":t.hsb=new HSBColor(e);break;default:throw Error(replaceAndTranslate(N,[e._obj,"SolidColor.fromDesc()"]))}return t}}function validateSolidColor(e,t){if("SolidColor"!==e.typename){const r=replaceAndTranslate(A,[t,typeof e,"SolidColor"]);throw new Error(r)}}const ot={textGridding:{_enum:"textGridding",_value:"none"},orientation:{_enum:"orientation",_value:"horizontal"},antiAlias:{_enum:"antiAliasType",_value:"antiAliasSharp"},textStyleRange:[{_obj:"textStyleRange",textStyle:{_obj:"textStyle",styleSheetHasParent:!0,fontPostScriptName:"MyriadPro-Regular",fontName:"Myriad Pro",fontStyleName:"Regular",fontScript:0,fontTechnology:0,fontAvailable:!0,size:{_unit:"pointsUnit",_value:12},impliedFontSize:{_unit:"pointsUnit",_value:12},horizontalScale:100,verticalScale:100,syntheticBold:!1,syntheticItalic:!1,autoLeading:!0,tracking:0,baselineShift:{_unit:"pointsUnit",_value:0},impliedBaselineShift:{_unit:"pointsUnit",_value:0},autoKern:{_enum:"autoKern",_value:"metricsKern"},fontCaps:{_enum:"fontCaps",_value:"normal"},digitSet:{_enum:"digitSet",_value:"arabicDigits"},kashidas:{_enum:"kashidas",_value:"kashidaDefault"},diacXOffset:{_unit:"pointsUnit",_value:0},diacYOffset:{_unit:"pointsUnit",_value:0},markYDistFromBaseline:{_unit:"pointsUnit",_value:0},baseline:{_enum:"baseline",_value:"normal"},otbaseline:{_enum:"otbaseline",_value:"normal"},strikethrough:{_enum:"strikethrough",_value:"strikethroughOff"},underline:{_enum:"underline",_value:"underlineOff"},ligature:!0,altligature:!1,contextualLigatures:!0,fractions:!1,ordinals:!1,swash:!1,titling:!1,connectionForms:!0,stylisticAlternates:!1,stylisticSets:0,ornaments:!1,justificationAlternates:!1,figureStyle:{_enum:"figureStyle",_value:"normal"},proportionalMetrics:!1,kana:!1,italics:!1,baselineDirection:{_enum:"baselineDirection",_value:"withStream"},textLanguage:{_enum:"textLanguage",_value:"englishLanguage"},japaneseAlternate:{_enum:"japaneseAlternate",_value:"defaultForm"},mojiZume:0,gridAlignment:{_enum:"gridAlignment",_value:"roman"},noBreak:!1,color:{_obj:"RGBColor",red:0,grain:0,blue:0},strokeColor:{_obj:"RGBColor",red:0,grain:0,blue:0},baseParentStyle:{_obj:"textStyle",fontPostScriptName:"MyriadPro-Regular",fontName:"Myriad Pro",fontStyleName:"Regular",fontScript:0,fontTechnology:0,fontAvailable:!0,size:{_unit:"pointsUnit",_value:12},impliedFontSize:{_unit:"pointsUnit",_value:12},horizontalScale:100,verticalScale:100,syntheticBold:!1,syntheticItalic:!1,autoLeading:!0,tracking:0,baselineShift:{_unit:"pointsUnit",_value:0},impliedBaselineShift:{_unit:"pointsUnit",_value:0},characterRotation:0,autoKern:{_enum:"autoKern",_value:"metricsKern"},fontCaps:{_enum:"fontCaps",_value:"normal"},digitSet:{_enum:"digitSet",_value:"defaultDigits"},dirOverride:{_enum:"dirOverride",_value:"dirOverrideDefault"},kashidas:{_enum:"kashidas",_value:"kashidaDefault"},diacVPos:{_enum:"diacVPos",_value:"diacVPosOpenType"},diacXOffset:{_unit:"pointsUnit",_value:0},diacYOffset:{_unit:"pointsUnit",_value:0},markYDistFromBaseline:{_unit:"pointsUnit",_value:100},baseline:{_enum:"baseline",_value:"normal"},otbaseline:{_enum:"otbaseline",_value:"normal"},strikethrough:{_enum:"strikethrough",_value:"strikethroughOff"},underline:{_enum:"underline",_value:"underlineOff"},underlineOffset:{_unit:"pointsUnit",_value:0},ligature:!0,altligature:!1,contextualLigatures:!1,alternateLigatures:!1,oldStyle:!1,fractions:!1,ordinals:!1,swash:!1,titling:!1,connectionForms:!1,stylisticAlternates:!1,stylisticSets:0,ornaments:!1,justificationAlternates:!1,figureStyle:{_enum:"figureStyle",_value:"normal"},proportionalMetrics:!1,kana:!1,italics:!1,ruby:!1,baselineDirection:{_enum:"baselineDirection",_value:"rotated"},textLanguage:{_enum:"textLanguage",_value:"englishLanguage"},japaneseAlternate:{_enum:"japaneseAlternate",_value:"defaultForm"},mojiZume:0,gridAlignment:{_enum:"gridAlignment",_value:"roman"},enableWariChu:!1,wariChuCount:2,wariChuLineGap:0,wariChuScale:.5,wariChuWidow:2,wariChuOrphan:2,wariChuJustification:{_enum:"wariChuJustification",_value:"wariChuAutoJustify"},tcyUpDown:0,tcyLeftRight:0,leftAki:-1,rightAki:-1,jiDori:0,noBreak:!1,color:{_obj:"RGBColor",red:0,grain:0,blue:0},strokeColor:{_obj:"RGBColor",red:0,grain:0,blue:0},fill:!0,stroke:!1,fillFirst:!0,fillOverPrint:!1,strokeOverPrint:!1,lineCap:{_enum:"lineCap",_value:"buttCap"},lineJoin:{_enum:"lineJoin",_value:"miterJoin"},lineWidth:{_unit:"pointsUnit",_value:1},miterLimit:{_unit:"pointsUnit",_value:4},lineDashoffset:0}}}],kerningRange:[]};var st=__webpack_require__(664),lt=__webpack_require__(596);class CharacterStyle{constructor(e){this._parent=e}getCharacterPropertyDesc(e){const t=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]));let r=t[0].textKey?.textStyleRange[0]?.textStyle?.[e];return null==r&&(r=t[0].textKey?.textStyleRange[0]?.textStyle?.baseParentStyle?.[e]),r}getCharacterPropertyValue(e){const t=this.getCharacterPropertyDesc(e);return t?.hasOwnProperty("_value")?t._value:"RGBColor"===t?._obj?SolidColor.fromDesc(t):"boolean"==typeof t||"string"==typeof t||"number"==typeof t?t:null}get font(){return this.getCharacterPropertyValue("fontPostScriptName")}set font(e){validateBasicType(e,"font","string"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"fontPostScriptName",e)])}get size(){return unitDescToPixelUnitValue(this.getCharacterPropertyDesc("size"),this._parent.parent._docId)}set size(e){validateRange(e,"size",.01,normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"size",{_unit:"pixelsUnit",_value:e})])}get horizontalScale(){return this.getCharacterPropertyValue("horizontalScale")}set horizontalScale(e){validateRange(e,"horizontalScale",0,1e3),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"horizontalScale",e)])}get verticalScale(){return this.getCharacterPropertyValue("verticalScale")}set verticalScale(e){validateRange(e,"verticalScale",0,1e3),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"verticalScale",e)])}get fauxBold(){return this.getCharacterPropertyValue("syntheticBold")}set fauxBold(e){validateBasicType(e,"fauxBold","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"syntheticBold",e)])}get fauxItalic(){return this.getCharacterPropertyValue("syntheticItalic")}set fauxItalic(e){validateBasicType(e,"fauxItalic","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"syntheticItalic",e)])}get useAutoLeading(){return this.getCharacterPropertyValue("autoLeading")}set useAutoLeading(e){validateBasicType(e,"autoLeading","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"autoLeading",e)])}get leading(){let e=this.getCharacterPropertyDesc("leading");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set leading(e){validateRange(e,"leading",0,normalizePixels(this._parent.parent._docId,4999.99)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.selected(),"leading",{_unit:"pixelsUnit",_value:e})])}get tracking(){return this.getCharacterPropertyValue("tracking")}set tracking(e){validateRange(e,"tracking",-1e3,1e4),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"tracking",e)])}get baselineShift(){return unitDescToPixelUnitValue(this.getCharacterPropertyDesc("baselineShift"),this._parent.parent._docId)}set baselineShift(e){validateRange(e,"baselineShift",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"baselineShift",{_unit:"pixelsUnit",_value:e})])}get horizontalDiacriticPosition(){return unitDescToPixelUnitValue(this.getCharacterPropertyDesc("diacXOffset"),this._parent.parent._docId)}set horizontalDiacriticPosition(e){validateRange(e,"horizontalDiacriticPosition",-1e3,1e3),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"diacXOffset",{_unit:"pixelsUnit",_value:e})])}get verticalDiacriticPosition(){return unitDescToPixelUnitValue(this.getCharacterPropertyDesc("markYDistFromBaseline"),this._parent.parent._docId)}set verticalDiacriticPosition(e){validateRange(e,"verticalDiacriticPosition",-1e3,1e3),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"markYDistFromBaseline",{_unit:"pixelsUnit",_value:e})])}get autoKerning(){return this.getCharacterPropertyValue("autoKern")}set autoKerning(e){validateConstant(e,"Constants.AutoKernType",F.AutoKernType),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"autoKern",{_enum:"autoKern",_value:e})])}get capitalization(){return this.getCharacterPropertyValue("fontCaps")}set capitalization(e){validateConstant(e,"Constants.TextCase",F.TextCase),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"fontCaps",{_enum:"fontCaps",_value:e})])}get baseline(){return this.getCharacterPropertyValue("baseline")}set baseline(e){validateConstant(e,"Constants.Baseline",F.Baseline),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"baseline",{_enum:"baseline",_value:e})])}get strikeThrough(){return this.getCharacterPropertyValue("strikethrough")}set strikeThrough(e){validateConstant(e,"Constants.StrikeThrough",F.StrikeThrough),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"strikethrough",{_enum:"strikethrough",_value:e})])}get underline(){return this.getCharacterPropertyValue("underline")}set underline(e){validateConstant(e,"Constants.Underline",F.Underline),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"underline",{_enum:"underline",_value:e})])}get ligatures(){return this.getCharacterPropertyValue("ligature")}set ligatures(e){validateBasicType(e,"ligatures","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"ligature",e)])}get alternateLigatures(){return this.getCharacterPropertyValue("altligature")}set alternateLigatures(e){validateBasicType(e,"alternateLigatures","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"altligature",e)])}get fractions(){return this.getCharacterPropertyValue("fractions")}set fractions(e){validateBasicType(e,"fractions","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"fractions",e)])}get ordinals(){return this.getCharacterPropertyValue("ordinals")}set ordinals(e){validateBasicType(e,"ordinals","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"ordinals",e)])}get swash(){return this.getCharacterPropertyValue("swash")}set swash(e){validateBasicType(e,"swash","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"swash",e)])}get titlingAlternates(){return this.getCharacterPropertyValue("titling")}set titlingAlternates(e){validateBasicType(e,"titlingAlternates","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"titling",e)])}get stylisticAlternates(){return this.getCharacterPropertyValue("stylisticAlternates")}set stylisticAlternates(e){validateBasicType(e,"stylisticAlternates","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"stylisticAlternates",e)])}get language(){return this.getCharacterPropertyValue("textLanguage")}set language(e){validateConstant(e,"Constants.Language",F.Language),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"textLanguage",{_enum:"textLanguage",_value:e})])}get characterAlignment(){return this.getCharacterPropertyValue("gridAlignment")}set characterAlignment(e){validateConstant(e,"Constants.CharacterAlignment",F.CharacterAlignment),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"gridAlignment",{_enum:"gridAlignment",_value:e})])}get noBreak(){return this.getCharacterPropertyValue("noBreak")}set noBreak(e){validateBasicType(e,"noBreak","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"noBreak",e)])}get color(){return this.getCharacterPropertyValue("color")}set color(e){if(e instanceof SolidColor==!1){const t=replaceAndTranslate(A,["color",""+typeof e,"SolidColor"]);throw new Error(t)}batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"color",e.base.desc)])}get kashidas(){return"kashidaDefault"===this.getCharacterPropertyValue("kashidas")}set kashidas(e){validateBasicType(e,"kashidas","boolean"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.id(this._parent.parent.id),"kashidas",{_enum:"kashidas",_value:e?"kashidaDefault":"kashidaOff"})])}get middleEasternTextDirection(){return this.getCharacterPropertyValue("dirOverride")}set middleEasternTextDirection(e){validateConstant(e,"Constants.MiddleEasternTextDirection",F.MiddleEasternTextDirection),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.selected(),"dirOverride",{_enum:"dirOverride",_value:e},{typeStyleOperationType:3,textOverrideFeatureName:808466489})])}get middleEasternDigitsType(){return this.getCharacterPropertyValue("digitSet")}set middleEasternDigitsType(e){validateConstant(e,"Constants.MiddleEasternDigitsType",F.MiddleEasternDigitsType),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setCharacterStyleProperty)(lt.i.selected(),"digitSet",{_enum:"digitSet",_value:e},{typeStyleOperationType:3})])}get fractionalWidths(){return"none"===batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey.textGridding._value}set fractionalWidths(e){validateBasicType(e,"fractionalWidths","boolean");let t=e?"none":"round";batchPlaySync([...selectionDance(this._parent.parent),(0,st.setTextItemProperty)(lt.i.id(this._parent.parent.id),"textGridding",t)])}get antiAliasMethod(){return batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey.antiAlias._value}set antiAliasMethod(e){validateConstant(e,"Constants.AntiAlias",F.AntiAlias),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setTextItemProperty)(lt.i.id(this._parent.parent.id),"antiAlias",e)])}async reset(){const e=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey;["textGridding","orientation","antiAlias","kerningRange"].forEach((t=>{e[t]=ot[t]})),e.textStyleRange.forEach((e=>{e.textStyle=ot.textStyleRange[0].textStyle})),batchPlaySync([...selectionDance(this._parent.parent),{_obj:"set",_target:lt.i.selected(),to:e},(0,st.setCharacterStyleProperty)(lt.i.selected(),"digitSet",{_enum:"digitSet",_value:F.MiddleEasternTextDirection.DEFAULT},{typeStyleOperationType:3,textOverrideFeatureName:808466489})])}}class ParagraphStyle{constructor(e){this._parent=e}getParagraphPropertyDesc(e){const t=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey?.paragraphStyleRange[0]?.paragraphStyle?.[e];return t}getParagraphPropertyValue(e){const t=this.getParagraphPropertyDesc(e);return t?.hasOwnProperty("_value")?t._value:"boolean"==typeof t||"string"==typeof t||"number"==typeof t?t:null}get justification(){return this.getParagraphPropertyValue("align")}set justification(e){validateConstant(e,"Constants.Justification",F.Justification),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"align",{_enum:"align",_value:e})])}get justificationFeatures(){const e=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey;if(e.paragraphStyleRange[0].paragraphStyle.hasOwnProperty("justificationWordMinimum")){const t=e.paragraphStyleRange[0].paragraphStyle;return{wordSpacingMinimum:100*t.justificationWordMinimum,wordSpacingDesired:100*t.justificationWordDesired,wordSpacingMaximum:100*t.justificationWordMaximum,letterSpacingMinimum:100*t.justificationLetterMinimum,letterSpacingDesired:100*t.justificationLetterDesired,letterSpacingMaximum:100*t.justificationLetterMaximum,glyphScalingMinimum:100*t.justificationGlyphMinimum,glyphScalingDesired:100*t.justificationGlyphDesired,glyphScalingMaximum:100*t.justificationGlyphMaximum,autoLeadingAmount:100*t.autoLeadingPercentage}}return null}set justificationFeatures(e){const t={wordSpacingMinimum:80,wordSpacingDesired:100,wordSpacingMaximum:133,letterSpacingMinimum:0,letterSpacingDesired:0,letterSpacingMaximum:0,glyphScalingMinimum:100,glyphScalingDesired:100,glyphScalingMaximum:100,autoLeadingAmount:120};for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);validateRange(t.wordSpacingMinimum,"wordSpacingMinimum",0,t.wordSpacingMaximum),validateRange(t.wordSpacingDesired,"wordSpacingDesired",t.wordSpacingMinimum,t.wordSpacingMaximum),validateRange(t.wordSpacingMaximum,"wordSpacingMaximum",t.wordSpacingMinimum,1e3),validateRange(t.letterSpacingMinimum,"letterSpacingMinimum",-100,t.letterSpacingMaximum),validateRange(t.letterSpacingDesired,"letterSpacingDesired",t.letterSpacingMinimum,t.letterSpacingMaximum),validateRange(t.letterSpacingMaximum,"letterSpacingMaximum",t.letterSpacingMinimum,500),validateRange(t.glyphScalingMinimum,"glyphScalingMinimum",50,t.glyphScalingMaximum),validateRange(t.glyphScalingDesired,"glyphScalingDesired",t.glyphScalingMinimum,t.glyphScalingMaximum),validateRange(t.glyphScalingMaximum,"glyphScalingMaximum",t.glyphScalingMinimum,200),validateRange(t.autoLeadingAmount,"autoLeadingAmount",0,500);const r=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey,n={autoLeadingPercentage:t.autoLeadingAmount/100,justificationWordMinimum:t.wordSpacingMinimum/100,justificationWordDesired:t.wordSpacingDesired/100,justificationWordMaximum:t.wordSpacingMaximum/100,justificationLetterMinimum:t.letterSpacingMinimum/100,justificationLetterDesired:t.letterSpacingDesired/100,justificationLetterMaximum:t.letterSpacingMaximum/100,justificationGlyphMinimum:t.glyphScalingMinimum/100,justificationGlyphDesired:t.glyphScalingDesired/100,justificationGlyphMaximum:t.glyphScalingMaximum/100};r.paragraphStyleRange.forEach(((e,t,r)=>{for(let e in n)n.hasOwnProperty(e)&&(r[t].paragraphStyle[e]=n[e])})),batchPlaySync([...selectionDance(this._parent.parent),{_obj:"set",_target:lt.i.selected(),to:r}])}get leftIndent(){const e=this.getParagraphPropertyDesc("startIndent");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set leftIndent(e){validateRange(e,"leftIndent",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),validateBasicType(e,"leftIndent","number"),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"startIndent",{_unit:"pixelsUnit",_value:e})])}get rightIndent(){const e=this?.getParagraphPropertyDesc("endIndent");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set rightIndent(e){validateRange(e,"rightIndent",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"endIndent",{_unit:"pixelsUnit",_value:e})])}get firstLineIndent(){const e=this.getParagraphPropertyDesc("firstLineIndent");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set firstLineIndent(e){validateRange(e,"firstLineIndent",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"firstLineIndent",{_unit:"pixelsUnit",_value:e})])}get spaceBefore(){const e=this.getParagraphPropertyDesc("spaceBefore");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set spaceBefore(e){validateRange(e,"spaceBefore",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"spaceBefore",{_unit:"pixelsUnit",_value:e})])}get kashidaWidth(){return this.getParagraphPropertyValue("kashidaWidthType")}set kashidaWidth(e){validateConstant(e,"Constants.KashidaWidthType",F.KashidaWidthType),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"kashidaWidthType",{_enum:"kashidaWidthType",_value:e})])}get kinsoku(){return this.getParagraphPropertyValue("kinsokuSetName")}set kinsoku(e){validateConstant(e,"Constants.Kinsoku",F.Kinsoku),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"kinsokuSetName",{_enum:"kinsokuSetName",_value:e})])}get mojikumi(){return this.getParagraphPropertyValue("mojiKumiName")??F.Mojikumi.NONE}set mojikumi(e){validateConstant(e,"Constants.Mojikumi",F.Mojikumi),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"mojiKumiName",{_enum:"mojiKumiName",_value:e})])}get spaceAfter(){const e=this.getParagraphPropertyDesc("spaceAfter");return e?unitDescToPixelUnitValue(e,this._parent.parent._docId):null}set spaceAfter(e){validateRange(e,"spaceAfter",normalizePixels(this._parent.parent._docId,-1296),normalizePixels(this._parent.parent._docId,1296)),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"spaceAfter",{_unit:"pixelsUnit",_value:e})])}get hyphenation(){return this.getParagraphPropertyValue("hyphenate")}set hyphenation(e){validateBasicType(e,"hyphenation","boolean");const t=[(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenateWordSize",6),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenatePreLength",2),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenatePostLength",2),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenateLimit",2),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenateCapitalized",!0),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenationZone",36)],r=null===this.getParagraphPropertyValue("hyphenateWordsLongerThan");batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.selected(),"hyphenate",e),...r?t:[]])}get hyphenationFeatures(){const e=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey;if(e.paragraphStyleRange[0].paragraphStyle.hasOwnProperty("hyphenateWordSize")){const t=e.paragraphStyleRange[0].paragraphStyle;return{wordsLongerThan:t.hyphenateWordSize-1,afterFirst:t.hyphenatePreLength,beforeLast:t.hyphenatePostLength,limit:t.hyphenateLimit,zone:unitDescToPixelUnitValue({_unit:"pointsUnit",_value:t.hyphenationZone},this._parent.parent._docId),capitalWords:t.hyphenateCapitalized}}return null}set hyphenationFeatures(e){if(null===e||"object"!=typeof e||Array.isArray(e)){const t=replaceAndTranslate(A,["features",""+typeof e,"Object with the following (optional) properties: wordsLongerThan, afterFirst, beforeLast, limit, zone, capitalWords"]);throw new Error(t)}const t={wordsLongerThan:5,afterFirst:2,beforeLast:2,limit:2,zone:36,capitalWords:!0};for(let r in e)if(e.hasOwnProperty(r)){if("zone"===r){const t=PSDocument(this._parent.parent._docId).resolution;e[r]=kt[F.Units.PIXELS][F.Units.POINTS](e[r],t)}t[r]=e[r]}validateRange(t.wordsLongerThan,"wordsLongerThan",2,25),validateRange(t.afterFirst,"afterFirst",1,15),validateRange(t.beforeLast,"beforeLast",1,15),validateRange(t.limit,"limit",2,25),validateRange(t.zone,"zone",2,unitDescToPixelUnitValue({_unit:"pointsUnit",_value:8640},this._parent.parent._docId)),validateBasicType(t.capitalWords,"capitalWords","boolean");const r=batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey,n={hyphenate:!0,hyphenateWordSize:t.wordsLongerThan+1,hyphenatePreLength:t.afterFirst,hyphenatePostLength:t.beforeLast,hyphenateLimit:t.limit,hyphenationZone:t.zone,hyphenateCapitalized:t.capitalWords};r.paragraphStyleRange.forEach(((e,t,r)=>{for(let e in n)n.hasOwnProperty(e)&&(r[t].paragraphStyle[e]=n[e])})),batchPlaySync([...selectionDance(this._parent.parent),{_obj:"set",_target:lt.i.selected(),to:r}])}get layoutMode(){return this.getParagraphPropertyValue("textComposerEngine")}set layoutMode(e){validateConstant(e,"Constants.ParagraphLayout",F.ParagraphLayout),batchPlaySync([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.id(this._parent.parent.id),"textComposerEngine",{_enum:"textComposerEngine",_value:e})])}get features(){return er.preferences.type.showTextFeatures}set features(e){validateConstant(e,"Constants.TypeInterfaceFeatures",F.TypeInterfaceFeatures),er.preferences.type.showTextFeatures=e}async reset(){await batchPlay([...selectionDance(this._parent.parent),(0,st.setParagraphStyleProperty)(lt.i.selected(),"styleSheetName",{},{styleSheetName:"Basic Paragraph",typeStyleOperationType:9})])}}class WarpStyle{constructor(e){this._parent=e}getWarpDesc(){return batchPlaySync((0,$.getProperties)(_directRef(this._parent),["textKey"]))[0].textKey?.warp}getWarpPropertyDesc(e){return this.getWarpDesc()[e]}getWarpPropertyValue(e){const t=this.getWarpPropertyDesc(e);return t.hasOwnProperty("_value")?t._value:"number"==typeof t?t:null}getEditAndPutWarpDesc(e,t,r){let n=this.getWarpDesc();n[e]=void 0!==r?{_enum:r,_value:t}:t,batchPlaySync([...selectionDance(this._parent.parent),(0,st.setWarpStyle)(lt.i.id(this._parent.parent.id),n)])}get style(){return this.getWarpPropertyValue("warpStyle")}set style(e){validateConstant(e,"Constants.WarpStyle",F.WarpStyle),this.getEditAndPutWarpDesc("warpStyle",e,"warpStyle")}get direction(){return this.getWarpPropertyValue("warpRotate")}set direction(e){validateConstant(e,"Constants.Direction",F.Direction),this.getEditAndPutWarpDesc("warpRotate",e,"orientation")}get bend(){return this.getWarpPropertyValue("warpValue")}set bend(e){validateRange(e,"bend",-100,100),this.getEditAndPutWarpDesc("warpValue",e)}get horizontalDistortion(){return this.getWarpPropertyValue("warpPerspective")}set horizontalDistortion(e){validateRange(e,"horizontalDistortion",-100,100),this.getEditAndPutWarpDesc("warpPerspective",e)}get verticalDistortion(){return this.getWarpPropertyValue("warpPerspectiveOther")}set verticalDistortion(e){validateRange(e,"verticalDistortion",-100,100),this.getEditAndPutWarpDesc("warpPerspectiveOther",e)}async reset(){await batchPlay([...selectionDance(this._parent.parent),(0,st.setWarpStyle)(lt.i.id(this._parent.parent.id),(0,st.defaultWarpDesc)())])}}function _directRef(e){return[$.ref.id(e.parent.id),H.ref.id(e.parent._docId)]}function normalizePixels(e,t,r=2){const{resolution:n}=PSDocument(e);return parseInt((n/72*t).toFixed(r))}class TextItem{constructor(e,t){this.characterStyle=new CharacterStyle(this),this.paragraphStyle=new ParagraphStyle(this),this.warpStyle=new WarpStyle(this),this._parent=PSLayer(t,e)}get parent(){return this._parent}getTextItemProperty(e){return{[e]:batchPlaySync((0,$.getProperties)(_directRef(this),["textKey"]))[0].textKey[e]}}get typename(){return"TextItem"}get contents(){return this.getTextItemProperty("textKey").textKey}set contents(e){batchPlaySync([...selectionDance(this.parent),(0,st.setTextLayerContents)(lt.i.id(this.parent.id),e)])}get textClickPoint(){let e=this.getTextItemProperty("textClickPoint");const{width:t,height:r}=PSDocument(this.parent._docId);return{x:e.textClickPoint.horizontal._value/100*t,y:e.textClickPoint.vertical._value/100*r}}set textClickPoint(e){const{width:t,height:r}=PSDocument(this.parent._docId);batchPlaySync([...selectionDance(this.parent),(0,st.setTextLayerClickPoint)(lt.i.id(this.parent.id),e.x/t*100,e.y/r*100)])}get orientation(){return this.getTextItemProperty("orientation").orientation._value}set orientation(e){validateConstant(e,"Constants.Direction",F.Direction),batchPlaySync([...selectionDance(this.parent),(0,st.setTextItemProperty)(lt.i.id(this.parent.id),"orientation",e)])}get isPointText(){return"paint"===this.getTextItemProperty("textShape").textShape[0].char._value}get isParagraphText(){return"box"===this.getTextItemProperty("textShape").textShape[0].char._value}async convertToParagraphText(){return"paint"===this.getTextItemProperty("textShape").textShape[0].char._value&&await batchPlay([...selectionDance(this.parent),(0,st.setTextItemProperty)(lt.i.id(this.parent.id),"char","box")]),this}async convertToPointText(){return"box"===this.getTextItemProperty("textShape").textShape[0].char._value&&await batchPlay([...selectionDance(this.parent),(0,st.setTextItemProperty)(lt.i.id(this.parent.id),"char","paint")]),this}async convertToShape(){await batchPlay([...selectionDance(this.parent),(0,st.convertToShape)(lt.i.id(this.parent.id))])}async createWorkPath(){await batchPlay([...selectionDance(this.parent),(0,st.makeWorkPathFromCurrentLayer)()])}}var ct=__webpack_require__(419);const dt={};function PSChannel(e,t){if(dt.hasOwnProperty(e)||(dt[e]={}),dt[e].hasOwnProperty(t))return dt[e][t];if("number"==typeof t)dt[e][t]=new AlphaChannel(e,t);else if("string"==typeof t){const r=t;if(!isOfTypeChannelEnumValue(r))throw new Error(n.translateUIString(f));dt[e][t]=new ComponentChannel(e,r)}return dt[e][t]}function PSChannelFromIndex(e,t){const r=getImageModeChannelEnums(PSDocument(e));if(t<=r.length&&t>0){return PSChannel(e,r[t-1])}const n=batchPlaySync((0,ct.getProperties)([ct.ref.index(t),H.ref.id(e)],["ID"]));if("ID"in n[0]){return PSChannel(e,n[0].ID)}throw new DOMError(_,[t.toString(),e.toString()])}function validateChannel(e){if(!validateReference(e.directRef)){const t=replaceAndTranslate(d,["$$$/Actions/Class/Channel=channel",String(e.directRef)]);throw new Error(t)}}class Channel{constructor(e){this._docId=e}get parent(){validateChannel(this);return PSDocument(this._docId)}get kind(){validateChannel(this);const e=batchPlaySync((0,ct.getProperties)(this.directRef,["alphaChannelOptions"]))[0];return e.hasOwnProperty("alphaChannelOptions")?e.alphaChannelOptions.colorIndicates._value:F.ChannelType.COMPONENT}set kind(e){if(e===F.ChannelType.COMPONENT)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotConvertToComponentChannel=You cannot convert a channel into a component channel."));if(validateChannel(this),this.kind===F.ChannelType.SPOTCOLOR)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotConvertSpotChannel=You cannot convert a spot channel into another channel."));if(this.kind===F.ChannelType.COMPONENT)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotConvertFromComponentChannel=You cannot convert a component channel into another channel."));let t={};t=e===F.ChannelType.SPOTCOLOR?(0,ct.setProperty)(this.activeDocRef,{},!0):(0,ct.setProperty)(this.activeDocRef,{colorIndicates:{_enum:"maskIndicator",_value:e}});const r=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),t,(0,H.select)(H.ref.id(r.id))])}get visible(){validateChannel(this);return batchPlaySync((0,ct.getProperties)(this.directRef,["visible"]))[0].visible}set visible(e){validateChannel(this);const t=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),e?(0,ct.show)([this.activeDocRef]):(0,ct.hide)([this.activeDocRef]),(0,H.select)(H.ref.id(t.id))])}async duplicate(e){if(validateChannel(this),e&&(validateDocument(e),e.id===this._docId))throw new Error(n.translateUIString("$$$/PSUXP/Error/TargetDocumentShouldNotMatch=The target document should not be the same as this document."));const t=void 0!==e?H.ref.id(e.id):void 0,r=er.activeDocument,a={to:t};batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.duplicate)(this.activeDocRef,a),(0,H.select)(H.ref.id(r.id))])}}class ComponentChannel extends Channel{constructor(e,t){super(e),this._enumValue=t}get typename(){return"ComponentChannel"}get directRef(){return[ct.ref.enum(this._enumValue),H.ref.id(this._docId)]}get activeDocRef(){return ct.ref.enum(this._enumValue)}get name(){validateChannel(this);return batchPlaySync([(0,ct.getProperties)(this.directRef,["channelName"])])[0].channelName}set name(e){throw new Error(n.translateUIString(l))}get histogram(){throw new Error(n.translateUIString(l))}get color(){throw new Error(n.translateUIString(l))}set color(e){throw new Error(n.translateUIString(l))}get opacity(){throw new Error(n.translateUIString(l))}set opacity(e){throw new Error(n.translateUIString(l))}async remove(){throw new Error(n.translateUIString(l))}async merge(){throw new Error(n.translateUIString(l))}}class AlphaChannel extends Channel{constructor(e,t){super(e),this._id=t}get typename(){return"AlphaChannel"}get directRef(){return[ct.ref.id(this._id),H.ref.id(this._docId)]}get activeDocRef(){return ct.ref.id(this._id)}get name(){validateChannel(this);return batchPlaySync([(0,ct.getProperties)(this.directRef,["channelName"])])[0].channelName}set name(e){validateChannel(this);const t=this.kind===F.ChannelType.SPOTCOLOR,r=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.setProperty)(this.activeDocRef,{name:e},t),(0,H.select)(H.ref.id(r.id))])}get histogram(){if(validateChannel(this),!this.visible)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/HistogramRequiresVisible=You can only get a histogram for visible channels."));return batchPlaySync([(0,ct.getProperties)(this.directRef,["histogram"])])[0].histogram}get color(){validateChannel(this);const e=batchPlaySync([(0,ct.getProperties)(this.directRef,["alphaChannelOptions"])])[0]?.alphaChannelOptions;return SolidColor.fromDesc(e.color)}set color(e){validateChannel(this);const t=this.kind===F.ChannelType.SPOTCOLOR,r=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.setProperty)(this.activeDocRef,{color:e.hsb.desc},t),(0,H.select)(H.ref.id(r.id))])}get opacity(){validateChannel(this);const e=batchPlaySync([(0,ct.getProperties)(this.directRef,["alphaChannelOptions"])])[0]?.alphaChannelOptions;return e.opacity}set opacity(e){validateChannel(this);const t=this.kind===F.ChannelType.SPOTCOLOR,r=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.setProperty)(this.activeDocRef,{opacity:{_unit:"percentUnit",_value:e}},t),(0,H.select)(H.ref.id(r.id))])}async remove(){if(validateChannel(this),1===this.parent.channels.length)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotDeleteLastChannel=You cannot delete the last channel in a document."));batchPlaySync([(0,ct.remove)(this.directRef)])}async merge(){if(this.kind!==F.ChannelType.SPOTCOLOR)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/YouCanOnlyMergeSpotChannels=Only spot channels can be merged."));const e=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.select)(this.activeDocRef),(0,ct.mergeSpotChannel)(),(0,H.select)(H.ref.id(e.id))])}}function isOfTypeChannelEnumValue(e){return ct.channelEnumValues.includes(e)}function getImageModeChannelEnums(e){let t=[];const r=F.DocumentMode,n=e.mode;switch(n){case r.RGB:t=["red","green","blue"];break;case r.CMYK:t=["cyan","magenta","yellow","black"];break;case r.LAB:t=["lightness","a","b"];break;case r.GRAYSCALE:t=["gray"];break;case r.DUOTONE:{const r=batchPlaySync((0,H.getProperties)(H.ref.id(e.id),["duotoneInk"]))[0]?.duotoneInk;switch(r){case 1:t=["monotone"];break;case 2:t=["duotone"];break;case 3:t=["tritone"];break;case 4:t=["quadtone"];break;default:throw new DOMError(B,[r.toString()])}break}case r.BITMAP:case r.INDEXEDCOLOR:t=["RGB"];break;case r.MULTICHANNEL:t=[];break;default:throw new Error("Can't solve color mode for component channels: "+n)}return t}function validateCalculationsSource(e,t=!1){try{validateDocument(e.document)}catch(e){throw new DOMError(S)}if(t){if("string"==typeof e.layer)validateConstant(e.layer,"Constants.ApplyImageLayer",F.ApplyImageLayer);else try{validateLayer(e.layer)}catch(e){throw new DOMError(b)}if("string"==typeof e.channel)validateConstant(e.channel,"Constants.ApplyImageChannel",F.ApplyImageChannel);else try{validateChannel(e.channel)}catch(e){throw new DOMError(I)}"invert"in e&&validateBasicType(e.invert,"invert","boolean")}else{if("string"==typeof e.layer)validateConstant(e.layer,"Constants.CalculationsLayer",F.CalculationsLayer);else try{validateLayer(e.layer)}catch(e){throw new DOMError(b)}if("string"==typeof e.channel)validateConstant(e.channel,"Constants.CalculationsChannel",F.CalculationsChannel);else try{validateChannel(e.channel)}catch(e){throw new DOMError(I)}"invert"in e&&validateBasicType(e.invert,"invert","boolean")}}function extractCalculationsSourceRefs(e){return[H.ref.id(e.document.id),"string"==typeof e.layer?$.ref.mergedData():$.ref.id(e.layer.id),function extractChannelRef(e){let t;return t="string"==typeof e?"selection"===e?ct.ref.selection():ct.ref.enum(e):e.activeDocRef,t}(e.channel),e?.invert??!1]}var ut;!function(e){e.all="protectAll",e.artboard="protectArtboardAutonest",e.pixels="protectComposite",e.position="protectPosition",e.transparency="protectTransparency"}(ut||(ut={}));const findCorrespondingGroupEnd=(e,t)=>{const r=batchPlaySync(allLayerInfo(null!==e.backgroundLayer,H.ref.id(e.id)))[0].list.reverse();let n=-1,a=0;for(const e of r)if(e.layerKind===ht.group)e.layerID===t&&(n=a),a++;else if(e.layerKind===ht.groupEnd&&(a--,a<=n))return e;return null},allLayerInfo=(e,t)=>{const r=void 0===t?H.ref.active():t;return(0,$.getPropertiesRange)(r,["name","layerID","layerKind","itemIndex"],e?0:1,-1,{failOnMissingProperty:!0,failOnMissingElement:!1})};function _unit(e,t){return{_unit:e+"Unit",_value:t}}_unit.bind(null,"density"),_unit.bind(null,"pixels"),_unit.bind(null,"percent"),_unit.bind(null,"angle"),_unit.bind(null,"inches"),_unit.bind(null,"centimeters"),_unit.bind(null,"picas"),_unit.bind(null,"degrees"),_unit.bind(null,"number"),_unit.bind(null,"seconds"),_unit.bind(null,"points"),_unit.bind(null,"millimeters"),_unit.bind(null,"distance");function hasSameUnits(e){const t=e[0]?._unit||-1;return t&&e.every((e=>t===e._unit))}var pt=__webpack_require__(749);function getTransformCenterKeyFromAnchor(e){switch(e){case pt.default.AnchorPosition.TOPLEFT:return"QCSCorner0";case pt.default.AnchorPosition.TOPCENTER:return"QCSSide0";case pt.default.AnchorPosition.TOPRIGHT:return"QCSCorner1";case pt.default.AnchorPosition.MIDDLELEFT:return"QCSSide3";case pt.default.AnchorPosition.MIDDLECENTER:return"QCSAverage";case pt.default.AnchorPosition.MIDDLERIGHT:return"QCSSide1";case pt.default.AnchorPosition.BOTTOMLEFT:return"QCSCorner3";case pt.default.AnchorPosition.BOTTOMCENTER:return"QCSSide2";case pt.default.AnchorPosition.BOTTOMRIGHT:return"QCSCorner2";default:{const t=replaceAndTranslate(g,[e,"Constants.AnchorPosition"]);throw new Error(t)}}}var ht,yt=__webpack_require__(966),mt=__webpack_require__(463),gt=__webpack_require__(114),ft=__webpack_require__(466);function validateLayer(e){if(!validateReference([$.ref.id(e.id),H.ref.id(e._docId)])){const t=replaceAndTranslate(d,["$$$/Actions/Class/Layer=layer",String(e.id)]);throw new Error(t)}}function validateNotLayerGroup(e){if(e.kind===F.LayerKind.GROUP)throw new Error(n.translateUIString(w))}!function(e){e[e.any=0]="any",e[e.pixel=1]="pixel",e[e.adjustment=2]="adjustment",e[e.text=3]="text",e[e.vector=4]="vector",e[e.smartObject=5]="smartObject",e[e.video=6]="video",e[e.group=7]="group",e[e.threeD=8]="threeD",e[e.gradient=9]="gradient",e[e.pattern=10]="pattern",e[e.solidColor=11]="solidColor",e[e.background=12]="background",e[e.groupEnd=13]="groupEnd"}(ht||(ht={}));const _t={};function PSLayer(e,t,r){_t.hasOwnProperty(t)||(_t[t]={});switch(r??batchPlaySync((0,$.getProperties)([$.ref.id(e),H.ref.id(t)],["layerKind"]))[0].layerKind){case ht.groupEnd:{const t=replaceAndTranslate(P,[String(e)]);throw new Error(t)}case ht.group:case ht.pixel:default:_t[t][e]=new Layer(e,t)}return _t[t][e]}function Layer_directRef(e){return[$.ref.id(e.id),H.ref.id(e._docId)]}class Layer{constructor(e,t){this._id=e,this._docId=t}setLocking(e,t){if(validateLayer(this),this.isBackgroundLayer){if(!0===e)return;const t=batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),{_obj:"set",_target:$.ref.id(this._id),to:{}}])[2].layerID;delete _t[this._docId][this._id],this._id=t}else{const r={_obj:"layerLocking"};r[t]=e,batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",layerLocking:r})])}}get typename(){return"Layer"}get locked(){validateLayer(this);const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerLocking"]))[0].layerLocking;return(t=e).protectAll||t.protectArtboardAutonest||t.protectComposite||t.protectPosition||t.protectTransparency;var t}get allLocked(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerLocking"]))[0].layerLocking.protectAll}set allLocked(e){this.setLocking(e,ut.all)}get pixelsLocked(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerLocking"]))[0].layerLocking.protectComposite}set pixelsLocked(e){this.setLocking(e,ut.pixels)}get positionLocked(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerLocking"]))[0].layerLocking.protectPosition}set positionLocked(e){this.setLocking(e,ut.position)}get transparentPixelsLocked(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerLocking"]))[0].layerLocking.protectTransparency}set transparentPixelsLocked(e){this.setLocking(e,ut.transparency)}get isBackgroundLayer(){return validateLayer(this),1===this._id}get visible(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["visible"]))[0].visible}set visible(e){validateLayer(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),e?(0,$.show)([$.ref.id(this._id)]):(0,$.hide)([$.ref.id(this._id)])])}get kind(){if(validateLayer(this),this.isBackgroundLayer)return F.LayerKind.NORMAL;const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["adjustment"]))[0].adjustment;if(e){const t=e[0]._obj;switch(t){case"levels":return F.LayerKind.LEVELS;case"curves":return F.LayerKind.CURVES;case"colorBalance":return F.LayerKind.COLORBALANCE;case"brightnessContrast":case"brightnessEvent":return F.LayerKind.BRIGHTNESSCONTRAST;case"hueSaturation":return F.LayerKind.HUESATURATION;case"selectiveColor":return F.LayerKind.SELECTIVECOLOR;case"channelMixer":return F.LayerKind.CHANNELMIXER;case"gradientMapClass":return F.LayerKind.GRADIENTMAP;case"invert":return F.LayerKind.INVERSION;case"thresholdClassEvent":return F.LayerKind.THRESHOLD;case"posterize":case"posterization":return F.LayerKind.POSTERIZE;case"exposure":return F.LayerKind.EXPOSURE;case"blackAndWhite":return F.LayerKind.BLACKANDWHITE;case"patternLayer":return F.LayerKind.PATTERNFILL;case"gradientLayer":return F.LayerKind.GRADIENTFILL;case"solidColorLayer":return F.LayerKind.SOLIDFILL;case"photoFilter":return F.LayerKind.PHOTOFILTER;case"vibrance":return F.LayerKind.VIBRANCE;case"colorLookup":return F.LayerKind.COLORLOOKUP;default:{const e=replaceAndTranslate(g,[t]);throw new Error(e)}}}else{const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["layerKind"]))[0].layerKind;if(e===ht.text)return F.LayerKind.TEXT;if(e===ht.smartObject)return F.LayerKind.SMARTOBJECT;if(e===ht.threeD)return F.LayerKind.LAYER3D;if(e===ht.video)return F.LayerKind.VIDEO;if(e===ht.group)return F.LayerKind.GROUP}return F.LayerKind.NORMAL}get bounds(){if(validateLayer(this),this.kind!==F.LayerKind.GROUP){const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["bounds"]))[0].bounds;let t=new Bounds;return t.left=at.FromPixel(e.left),t.top=at.FromPixel(e.top),t.bottom=at.FromPixel(e.bottom),t.right=at.FromPixel(e.right),t}{let e=new Bounds;const t=this.layers.length;for(let r=0;r<t;r++){const t=this.layers[r].bounds;e=e.union(t)}return e}}get boundsNoEffects(){if(validateLayer(this),this.kind!==F.LayerKind.GROUP){const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["boundsNoEffects"]))[0].boundsNoEffects;let t=new Bounds;return t.left=at.FromPixel(e.left),t.top=at.FromPixel(e.top),t.bottom=at.FromPixel(e.bottom),t.right=at.FromPixel(e.right),t}{let e=new Bounds;const t=this.layers.length;for(let r=0;r<t;r++){const t=this.layers[r].boundsNoEffects;e=e.union(t)}return e}}get opacity(){validateLayer(this);return 100*batchPlaySync((0,$.getProperties)(Layer_directRef(this),["opacity"]))[0].opacity/255}set opacity(e){validateLayer(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",opacity:at.Percent(e)})])}get fillOpacity(){validateLayer(this);return 100*batchPlaySync((0,$.getProperties)(Layer_directRef(this),["fillOpacity"]))[0].fillOpacity/255}set fillOpacity(e){validateLayer(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",fillOpacity:at.Percent(e)})])}get filterMaskDensity(){validateLayer(this);return 100*batchPlaySync((0,$.getProperties)(Layer_directRef(this),["filterMaskDensity"]))[0].filterMaskDensity/255}set filterMaskDensity(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasFilterMask"]))[0].hasFilterMask)throw new Error(n.translateUIString(a));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",filterMaskDensity:at.Percent(e)})])}get filterMaskFeather(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["filterMaskFeather"]))[0].filterMaskFeather}set filterMaskFeather(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasFilterMask"]))[0].hasFilterMask)throw new Error(n.translateUIString(a));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",filterMaskFeather:at.Pixel(e)})])}get layerMaskDensity(){validateLayer(this);return 100*batchPlaySync((0,$.getProperties)(Layer_directRef(this),["userMaskDensity"]))[0].userMaskDensity/255}set layerMaskDensity(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasUserMask"]))[0].hasUserMask)throw new Error(n.translateUIString(i));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",userMaskDensity:at.Percent(e)})])}get layerMaskFeather(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["userMaskFeather"]))[0].userMaskFeather}set layerMaskFeather(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasUserMask"]))[0].hasUserMask)throw new Error(n.translateUIString(i));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",userMaskFeather:at.Pixel(e)})])}get vectorMaskDensity(){validateLayer(this);return 100*batchPlaySync((0,$.getProperties)(Layer_directRef(this),["vectorMaskDensity"]))[0].vectorMaskDensity/255}set vectorMaskDensity(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasVectorMask"]))[0].hasVectorMask)throw new Error(n.translateUIString(o));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",vectorMaskDensity:at.Percent(e)})])}get vectorMaskFeather(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["vectorMaskFeather"]))[0].vectorMaskFeather}set vectorMaskFeather(e){validateLayer(this);if(!batchPlaySync((0,$.getProperties)(Layer_directRef(this),["hasVectorMask"]))[0].hasVectorMask)throw new Error(n.translateUIString(o));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",vectorMaskFeather:at.Pixel(e)})])}get isClippingMask(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["group"]))[0].group}set isClippingMask(e){validateLayer(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",group:e})])}get blendMode(){validateLayer(this);const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["mode"]))[0]?.mode;return e._value}set blendMode(e){if(validateLayer(this),validateConstant(e,"blendMode",F.BlendMode),this.isBackgroundLayer)throw new DOMError("$$$/ScriptingSupport/Error/CannotSetBlendModeBackgroundLayer=You cannot change the Background layer's blend mode.");if(e===F.BlendMode.PASSTHROUGH&&this.kind!==F.LayerKind.GROUP)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/PassThroughOnlyAvailableForLayerSets=The 'Pass Through' blend mode is only available for layer sets."));const t={[F.BlendMode.NORMAL]:[Ae,"Blend mode normal"],[F.BlendMode.DISSOLVE]:[Te,"Blend mode dissolve"],[F.BlendMode.DARKEN]:[we,"Blend mode darken"],[F.BlendMode.MULTIPLY]:[Re,"Blend mode multiply"],[F.BlendMode.COLORBURN]:[Oe,"Blend mode color burn"],[F.BlendMode.LINEARBURN]:[Me,"Blend mode linear burn"],[F.BlendMode.DARKERCOLOR]:[xe,"Blend mode darker color"],[F.BlendMode.LIGHTEN]:[Ne,"Blend mode lighten"],[F.BlendMode.SCREEN]:[Be,"Blend mode screen"],[F.BlendMode.COLORDODGE]:[ke,"Blend mode color dodge"],[F.BlendMode.LINEARDODGE]:[Ue,"Blend mode linear dodge"],[F.BlendMode.LIGHTERCOLOR]:[Ge,"Blend mode lighter color"],[F.BlendMode.OVERLAY]:[je,"Blend mode overlay"],[F.BlendMode.SOFTLIGHT]:[Fe,"Blend mode soft light"],[F.BlendMode.HARDLIGHT]:[He,"Blend mode hard light"],[F.BlendMode.VIVIDLIGHT]:[$e,"Blend mode vivid light"],[F.BlendMode.LINEARLIGHT]:[Ve,"Blend mode linear light"],[F.BlendMode.PINLIGHT]:[We,"Blend mode pin light"],[F.BlendMode.HARDMIX]:[ze,"Blend mode hard mix"],[F.BlendMode.DIFFERENCE]:[Ke,"Blend mode difference"],[F.BlendMode.EXCLUSION]:[Xe,"Blend mode exclusion"],[F.BlendMode.SUBTRACT]:[Ye,"Blend mode subtract"],[F.BlendMode.DIVIDE]:[qe,"Blend mode divide"],[F.BlendMode.HUE]:[Qe,"Blend mode hue"],[F.BlendMode.SATURATION]:[Je,"Blend mode saturation"],[F.BlendMode.COLOR]:[Ze,"Blend mode color"],[F.BlendMode.LUMINOSITY]:[et,"Blend mode luminosity"],[F.BlendMode.PASSTHROUGH]:[tt,"Blend mode passthrough"]};validateColorMode(this.document,...t[e]),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.set)($.ref.id(this._id),{_obj:"layer",mode:{_enum:"blendMode",_value:e}})])}get linkedLayers(){validateLayer(this);const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["linkedLayerIDs"]))[0].linkedLayerIDs;if(Array.isArray(e)){return new Layers(this._docId,e)}return new Layers(this._id,[])}get adjustmentInfo(){validateLayer(this);let e=[];if(this.kind===F.LayerKind.GROUP){let t=this.layers,r=[];for(let e=0;e<t.length;e++)r.push(t[e].adjustmentInfo);e[F.LayerKind.GROUP]=r}else this.kind===F.LayerKind.NORMAL||(e[this.kind]=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["adjustment"])));return e}get name(){validateLayer(this);return batchPlaySync((0,$.getProperties)(Layer_directRef(this),["name"]))[0].name}set name(e){if(validateLayer(this),this.isBackgroundLayer)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotRenameBackgroundLayer=You cannot change the Background layer's name."));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.saveLayerSelection)(),(0,$.select)([$.ref.id(this._id)]),(0,$.set)($.ref.id(this._id),{_obj:"layer",name:e})])}get id(){return this._id}get document(){return PSDocument(this._docId)}get parent(){validateLayer(this);const e=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["parentLayerID"]))?.[0]?.parentLayerID;return e&&e>=0?PSLayer(e,this._docId,ht.group):null}get selected(){validateLayer(this);const e=PSDocument(this._docId);let t;try{t=e.activeLayers}catch(e){throw new Error(n.translateUIString(S))}return t.some((e=>e._id===this._id))}set selected(e){validateLayer(this);let t=batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.select)([$.ref.id(this._id)],e?$.SelectionModifier.add:$.SelectionModifier.deselect)])[2];t?._obj||e||(t=batchPlaySync((0,$.selectNoLayers)()),t.message&&console.warn(t.message))}get textItem(){return validateLayer(this),this.kind===F.LayerKind.TEXT?new TextItem(this._docId,this._id):null}async applyAddNoise(e,t,r){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,de,"Add Noise filter"),validateBasicType(r,"monochromatic","boolean"),validateConstant(t,"Constants.NoiseDistribution",F.NoiseDistribution),validateRange(e,"amount",.1,400),await batchPlay([...selectionDance(this),(0,gt.LE)(e,t,r)])}async applyAverage(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,W,"Average filter"),await batchPlay([...selectionDance(this),(0,gt.gS)()])}async applyBlur(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,z,"Blur filter"),await batchPlay([...selectionDance(this),(0,gt.x)()])}async applyBlurMore(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,K,"More filter"),await batchPlay([...selectionDance(this),(0,gt.MM)()])}async applyClouds(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ye,"Clouds filter"),await batchPlay([...selectionDance(this),(0,gt.qh)()])}async applyCustomFilter(e,t,r){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Ie,"Custom filter");if(validateBasicType(t,"scale","number"),validateBasicType(r,"offset","number"),25!==e.length)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CustomFilterNotFiveSquared=Custom filter requires 25 elements."));for(let t=0;t<25;t++)validateBasicType(e[t],`characteristics[${t}]`,"number");await batchPlay([...selectionDance(this),(0,gt.Pf)(e,t,r)])}async applyDeInterlace(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Se,"De-Interlace filter"),validateConstant(e,"Constants.EliminateFields",F.EliminateFields),validateConstant(t,"Constants.CreateFields",F.CreateFields),await batchPlay([...selectionDance(this),(0,gt.PO)(e,t)])}async applyDespeckle(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ue,"Despeckle filter"),await batchPlay([...selectionDance(this),(0,gt.jp)()])}async applyDifferenceClouds(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,me,"Difference Clouds filter"),await batchPlay([...selectionDance(this),(0,gt.Xb)()])}async applyDiffuseGlow(e,t,r){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,J,"Diffuse Glow filter"),validateRange(e,"graininess",0,10),validateRange(t,"glowAmount",0,20),validateRange(r,"clearAmount",0,20),await batchPlay([...selectionDance(this),(0,gt.og)(e,t,r)])}async applyDisplace(e,t,r,n,a){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Z,"Displace filter"),validateConstant(r,"Constants.DisplacementMapType",F.DisplacementMapType),validateConstant(n,"Constants.UndefinedAreas",F.UndefinedAreas),validateRange(e,"horizontalScale",-999,999),validateRange(t,"verticalScale",-999,999);const i=retrieveUXPFileToken(a);await batchPlay([...selectionDance(this),(0,gt.Or)(e,t,r,n,i)])}async applyDustAndScratches(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,pe,"Dust & Scratches filter"),validateRange(e,"radius",1,100),validateRange(t,"threshold",0,255),await batchPlay([...selectionDance(this),(0,gt.wf)(e,t)])}async applyGaussianBlur(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,X,"Gaussian Blur filter"),validateRange(e,"radius",.1,250),await batchPlay([...selectionDance(this),(0,gt.Ry)(e)])}async applyGlassEffect(e,t,r,n=!1,a=F.TextureType.CANVAS,i){let o;validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ee,"Glass filter"),validateBasicType(n,"invert","boolean"),void 0!==i&&(o=retrieveUXPFileToken(i)),validateConstant(a,"Constants.TextureType",F.TextureType),validateRange(e,"distortion",0,20),validateRange(t,"smoothness",1,15),validateRange(r,"scaling",50,200),await batchPlay([...selectionDance(this),(0,gt._$)(e,t,r,n,a,o)])}async applyHighPass(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Ce,"High Pass filter"),validateRange(e,"radius",.1,1e3),await batchPlay([...selectionDance(this),(0,gt.Jj)(e)])}async applyLensBlur(e=F.DepthMapSource.NONE,t=0,r=!1,n=F.Geometry.HEXAGON,a=15,i=0,o=0,s=0,l=0,c=0,d=F.NoiseDistribution.UNIFORM,u=!1){let p;switch(validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Y,"Lens Blur filter"),validateBasicType(r,"invertDepthMask","boolean"),validateBasicType(u,"monochromatic","boolean"),validateRange(t,"focalDistance",0,255),validateRange(a,"radius",0,100),validateRange(i,"bladeCurvature",0,100),validateRange(o,"rotation",0,360),validateRange(s,"brightness",0,100),validateRange(l,"threshold",0,255),validateRange(c,"amount",0,100),validateConstant(e,"Constants.DepthMapSource",F.DepthMapSource),validateConstant(n,"Constants.Geometry",F.Geometry),validateConstant(d,"Constants.NoiseDistribution",F.NoiseDistribution),n){case"triangle":p="$BeS3";break;case"square":p="$BeS4";break;case"pentagon":p="$BeS5";break;case"heptagon":p="$BeS7";break;case"octagon":p="$BeS8";break;default:p="$BeS6"}await batchPlay([...selectionDance(this),(0,gt.ne)(e,t,r,p,a,i,o,s,l,c,d,u)])}async applyLensFlare(e,t,r=F.LensType.ZOOMLENS){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ge,"Lens Flare filter"),validateObjectProperties(t,"flareCenter",["x","y"]),validateRange(t.x,"flareCenter.x",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),validateRange(t.y,"flareCenter.y",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),validateConstant(r,"Constants.LensType",F.LensType),validateRange(e,"brightness",10,300);let{width:n,height:a}=this.document,i=t.x/n,o=t.y/a;await batchPlay([...selectionDance(this),(0,gt.rQ)(e,i,o,r)])}async applyMaximum(e,t=F.PreserveShape.SQUARENESS){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Le,"Maximum filter"),validateConstant(t,"Constants.PreserveShape",F.PreserveShape),t===F.PreserveShape.SQUARENESS?validateRange(e,"radius",1,500):validateRange(e,"radius",.2,500),await batchPlay([...selectionDance(this),(0,gt.bc)(e,t)])}async applyMinimum(e,t=F.PreserveShape.SQUARENESS){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,De,"Minimum filter"),validateConstant(t,"Constants.PreserveShape",F.PreserveShape),t===F.PreserveShape.SQUARENESS?validateRange(e,"radius",1,500):validateRange(e,"radius",.2,500),await batchPlay([...selectionDance(this),(0,gt.jf)(e,t)])}async applyMedianNoise(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,he,"Median filter"),validateRange(e,"radius",1,500),await batchPlay([...selectionDance(this),(0,gt.YB)(e)])}async applyMotionBlur(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,q,"Motion Blur filter"),validateRange(e,"angle",-360,360),validateRange(t,"distance",1,2e3);let r=(e%180+180)%180;r>=90&&(r=180-r),await batchPlay([...selectionDance(this),(0,gt.WJ)(e,t)])}async applyNTSC(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,be,"NTSC Colors filter"),await batchPlay([...selectionDance(this),(0,gt.eO)()])}async applyOceanRipple(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,te,"Ocean Ripple filter"),validateRange(e,"size",1,15),validateRange(t,"magnitude",0,20),await batchPlay([...selectionDance(this),(0,gt.xZ)(e,t)])}async applyOffset(e,t,r=F.OffsetUndefinedAreas.WRAPAROUND){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Ee,"Offset filter"),validateConstant(r,"Constants.OffsetUndefinedAreas",F.OffsetUndefinedAreas);let{width:n,height:a,resolution:i}=this.document;n*=i/72,a*=i/72,validateRange(e,"horizontal",-2*n,2*n),validateRange(t,"vertical",-2*a,2*a),await batchPlay([...selectionDance(this),(0,gt.wQ)(e,t,r)])}async applyTwirl(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,se,"Twirl filter"),validateRange(e,"angle",-999,999),await batchPlay([...selectionDance(this),(0,gt.Gj)(e)])}async applyPinch(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,re,"Pinch filter"),validateRange(e,"amount",-100,100),await batchPlay([...selectionDance(this),(0,gt.iH)(e)])}async applyPolarCoordinates(e){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ne,"Polar Coordinates filter"),validateConstant(e,"Constants.PolarConversionType",F.PolarConversionType),await batchPlay([...selectionDance(this),(0,gt.tF)(e)])}async applyRipple(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ae,"Ripple filter"),validateRange(e,"amount",-999,999),validateConstant(t,"Constants.RippleSize",F.RippleSize);await batchPlay([...selectionDance(this),(0,gt.YL)(e,t)])}async applySharpen(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,fe,"Sharpen filter"),await batchPlay([...selectionDance(this),(0,gt.zs)()])}async applySharpenEdges(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,_e,"Sharpen Edges filter"),await batchPlay([...selectionDance(this),(0,gt.rC)()])}async applySharpenMore(){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Pe,"Sharpen More filter"),await batchPlay([...selectionDance(this),(0,gt.SE)()])}async applyShear(e,t){if(validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ie,"Shear filter"),validateConstant(t,"Constants.UndefinedAreas",F.UndefinedAreas),!Array.isArray(e)||e.length<2||e.some((e=>"object"!=typeof e||!("x"in e)||!("y"in e))))throw new Error(n.translateUIString("$$$/PSUXP/Error/ApplyShearArgumentArray=Curve argument must be an array with at least 2 items, and each item must be an object with properties 'x' and 'y' as coordinates. E.g. [{x:-63, y:1}, {x:64, y:128}]."));await batchPlay([...selectionDance(this),(0,gt.sH)(e,t)])}async applySmartBlur(e,t,r,n){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,Q,"Smart Blur filter"),validateRange(e,"radius",.1,100),validateRange(t,"threshold",.1,100),validateConstant(r,"Constants.SmartBlurQuality",F.SmartBlurQuality),validateConstant(n,"Constants.SmartBlurMode",F.SmartBlurMode),await batchPlay([...selectionDance(this),(0,gt.rG)(e,t,r,n)])}async applySpherize(e,t){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,oe,"Spherize filter"),validateRange(e=Math.trunc(e),"amount",-100,100),validateConstant(t,"Constants.SpherizeMode",F.SpherizeMode),await batchPlay([...selectionDance(this),(0,gt.$Y)(e,t)])}async applyUnSharpMask(e,t,r){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ve,"Unsharp Mask filter"),e=Math.trunc(e),r=Math.trunc(r),validateRange(e,"amount",1,500),validateRange(t,"radius",.1,250),validateRange(r,"threshold",0,255),await batchPlay([...selectionDance(this),(0,gt.f0)(e,t,r)])}async applyWave(e,t,r,n,a,i,o,s=F.WaveType.SINE,l=F.UndefinedAreas.WRAPAROUND,c=Date.now()){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,le,"Wave filter"),e=Math.trunc(e),t=Math.trunc(t),r=Math.trunc(r),n=Math.trunc(n),a=Math.trunc(a),i=Math.trunc(i),o=Math.trunc(o),c=Math.trunc(c),validateRange(e,"generatorNumber",1,999),validateBasicType(t,"minimumWavelength","number"),validateBasicType(r,"maximumWavelength","number"),validateRange(t,"minimumWavelength",1,r,"closed","open"),validateRange(r,"maximumWavelength",t,999,"open","closed"),validateBasicType(n,"minimumAmplitude","number"),validateBasicType(a,"maximumAmplitude","number"),validateRange(n,"minimumAmplitude",1,a,"closed","open"),validateRange(a,"maximumAmplitude",n,999,"open","closed"),validateRange(i,"horizontalScale",1,100),validateRange(o,"verticalScale",1,100),validateConstant(s,"Constants.WaveType",F.WaveType),validateConstant(l,"Constants.UndefinedAreas",F.UndefinedAreas),validateBasicType(c,"randomSeed","number"),await batchPlay([...selectionDance(this),(0,gt.ei)(e,t,r,n,a,i,o,s,l,c)])}async applyZigZag(e,t,r){validateLayer(this),validateNotLayerGroup(this),validateColorMode(this.document,ce,"ZigZag filter"),e=Math.trunc(e),t=Math.trunc(t),validateRange(e,"amount",-100,100),validateRange(t,"ridges",0,20),validateConstant(r,"Constants.ZigZagType",F.ZigZagType),await batchPlay([...selectionDance(this),(0,gt.$b)(e,t,r)])}async applyImage(e){validateColorMode(this.document,V,"Apply Image"),validateLayer(this),validateNotLayerGroup(this),function validateApplyImageOptions(e,t){validateObjectProperties(e,"applyImageOptions",["source"]),validateObjectProperties(e.source,"applyImageOptions.source",["document","layer","channel"]),validateCalculationsSource(e.source,!0),"mask"in e&&validateCalculationsSource(e.mask);const r=e.source.document;if(t.width!==r.width||t.height!==r.height)throw new Error(n.translateUIString(x));"opacity"in e&&validateRange(e.opacity,"applyImageOptions.opacity",0,100),"preserveTransparency"in e&&validateBasicType(e.preserveTransparency,"applyImageOptions.preserveTransparency","boolean"),"blending"in e&&validateConstant(e.blending,"Constants.ApplyImageBlendMode",F.ApplyImageBlendMode)}(e,this.document);const[t,r,a,i]=extractCalculationsSourceRefs(e.source),o=e?.blending??F.ApplyImageBlendMode.MULTIPLY,s=e?.opacity??100,l=e?.preserveTransparency??!1;var c,d,u,p;e?.mask&&([c,d,u,p]=extractCalculationsSourceRefs(e.mask));const y=(0,ft.applyApplyImage)([a,r,t],i,o,s,l,e?.mask&&[u,d,c],p),m=await batchPlay([...selectionDance(this),y]);if("error"===m[4]?._obj)throw new Error(m[4].message)}delete(){validateLayer(this),batchPlaySync([...selectionDance(this),(0,$.deleteLayer)([$.ref.id(this._id)],!1)])}async duplicate(e,t,r){validateLayer(this),void 0===e&&(e=PSLayer(this.id,this._docId),t=F.ElementPlacement.PLACEBEFORE),void 0===t&&(t="Document"===e.typename?F.ElementPlacement.PLACEATBEGINNING:F.ElementPlacement.PLACEBEFORE);const a=this.visible;let i=!1;if("Document"===e.typename){if(i=!0,t===F.ElementPlacement.PLACEINSIDE&&(t=F.ElementPlacement.PLACEATBEGINNING),t!==F.ElementPlacement.PLACEATBEGINNING&&t!==F.ElementPlacement.PLACEATEND)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/DuplicateToDocumentPosWrong=When duplicating a layer to a document, you may only specify ElementPlacement.PLACEATBEGINNING or ElementPlacement.PLACEATEND."))}else if(e.kind===F.LayerKind.GROUP){if(this.kind===F.LayerKind.GROUP&&(t===F.ElementPlacement.PLACEATBEGINNING||t===F.ElementPlacement.PLACEATEND||t===F.ElementPlacement.PLACEINSIDE))throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/DuplicateLayerSetInsideLayerSet=You cannot duplicate a layer set to inside another layer set."))}else{if(t===F.ElementPlacement.PLACEINSIDE)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/DuplicateToInsideArtLayer=You cannot duplicate to inside an art layer."));if(t===F.ElementPlacement.PLACEATBEGINNING||t===F.ElementPlacement.PLACEATEND)throw new Error(n.translateUIString("$$$/CT/MultiScript/Error/IllegalArgumentForMoveLayer=You cannot specify ElementPlacement.PLACEATBEGINNING or ElementPlacement.PLACEATEND if target layer is an art layer."))}const o=PSDocument(i?e.id:this._docId);validateDocument(o);const s=await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.duplicate)([$.ref.id(this._id)],H.ref.id(o.id),r),(0,H.getProperties)(H.ref.id(o.id),["targetLayersIDs"])]),l=s[2],c=er.activeDocument.activeLayers[0];let d;if(t===F.ElementPlacement.PLACEAFTER||t===F.ElementPlacement.PLACEBEFORE||t===F.ElementPlacement.PLACEINSIDE?await c.move(e,t):t===F.ElementPlacement.PLACEATBEGINNING?i?await PSDocument(e.id).layers[0].bringToFront():await c.bringToFront():t===F.ElementPlacement.PLACEATEND&&(i?await PSDocument(e.id).layers[0].sendToBack():await c.sendToBack()),l?.ID&&Array.isArray(l.ID))d=1===l.ID.length?PSLayer(l.ID[0],o.id):PSLayer(s[3].targetLayersIDs[0]._id,o.id);else{if(1!==this._id&&"background"!==l?._target?.[0]?._property)return null;d=PSLayer(s[3].targetLayersIDs[0]._id,o.id)}return d.visible=a,d}link(e){if(validateLayer(this),validateLayer(e),this._docId!==e._docId)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/TryingToLinkLayersAcrossDocuments=You cannot link to a layer that is in a different document."));return batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.link)($.ref.id(this._id),[$.ref.id(e.id)])]),[e.id,this._id].map((e=>PSLayer(e,this._docId)))}async unlink(){validateLayer(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.unlink)($.ref.id(this._id))])}move(e,t){if(void 0===e)throw new Error(n.translateUIString("$$$/PSUXP/Error/TargetLayerCannotBe=Target layer cannot be undefined."));if(validateLayer(this),validateLayer(e),this._docId!==e._docId)throw new Error(n.translateUIString("$$$/PSUXP/Error/MoveLayersSameDocument=You can only move layers in the same document."));switch(t){case F.ElementPlacement.PLACEAFTER:this.moveBelow(e);break;case F.ElementPlacement.PLACEBEFORE:this.moveAbove(e);break;case F.ElementPlacement.PLACEINSIDE:this.moveInside(e);break;default:{const e=replaceAndTranslate(g,[t,"Constants.ElementPlacement"]);throw new Error(e)}}}moveAbove(e){let t,r,a=-1;const i=this.parent;if(void 0!==e){if(this.id===e.id)return;let n,o;n=i&&i.kind===F.LayerKind.GROUP?i.layers:PSDocument(this._docId).layers,o=e.parent&&e.parent.kind===F.LayerKind.GROUP?e.parent.layers:PSDocument(this._docId).layers;const s=n.findIndex((e=>e._id===this._id));if(r=o.findIndex((t=>t._id===e._id)),this.parent===e.parent&&r-s==1)return;a=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["itemIndex"]))[0].itemIndex<batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex||e.kind===F.LayerKind.GROUP?-1:0,t=e}else{const e=1;if(i&&i.kind===F.LayerKind.GROUP){const r=i.layers,n=r.findIndex((e=>e._id===this._id));let a=n-e;if(a=Math.max(a,0),a===n)return;t=r[a]}else{const r=PSDocument(this._docId).layers,n=r.findIndex((e=>e._id===this._id));let a=n-e;if(a=Math.max(a,0),a===n)return;t=r[a]}}r=this.kind===F.LayerKind.GROUP?batchPlaySync((0,$.getProperties)(Layer_directRef(t),["itemIndex"]))[0].itemIndex:batchPlaySync((0,$.getProperties)(Layer_directRef(t),["itemIndex"]))[0].itemIndex+a;if("error"===batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.move)([$.ref.id(this._id)],r)])[2]._obj)throw new Error(n.translateUIString(C))}bringToFront(){let e,t;validateLayer(this);const r=this.parent;if(r&&r.kind===F.LayerKind.GROUP){const t=r.layers;let n=0;if(n===t.findIndex((e=>e._id===this._id)))return;e=t[n]}else{const t=PSDocument(this._docId).layers;let r=0;if(r===t.findIndex((e=>e._id===this._id)))return;e=t[r]}t=this.kind===F.LayerKind.GROUP?batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex:batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex+-1;if("error"===batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.move)([$.ref.id(this._id)],t)])[2]._obj)throw new Error(n.translateUIString(C))}moveBelow(e){let t,r,a=-1;const i=this.parent;if(void 0!==e){if(this.id===e.id)return;if(e.isBackgroundLayer)throw new Error(n.translateUIString("$$$/PSUXP/Error/InvalidTargetForMoveBelow=Invalid target for move below. Cannot move below the Background layer."));let o,s;o=i&&i.kind===F.LayerKind.GROUP?i.layers:PSDocument(this._docId).layers,s=e.parent&&e.parent.kind===F.LayerKind.GROUP?e.parent.layers:PSDocument(this._docId).layers;const l=o.findIndex((e=>e._id===this._id));if(t=s.findIndex((t=>t._id===e._id)),this.parent===e.parent&&l-t==1)return;a=batchPlaySync((0,$.getProperties)(Layer_directRef(this),["itemIndex"]))[0].itemIndex<batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex?-2:-1,r=e}else{const e=1;if(i&&i.kind===F.LayerKind.GROUP){const t=i.layers,n=t.findIndex((e=>e._id===this._id));let a=n+e;if(a=Math.min(a,t.length-1),a===n)return;r=t[a]}else{const t=PSDocument(this._docId).layers,n=t.findIndex((e=>e._id===this._id));let a=n+e;if(a=Math.min(a,t.length-1),t[a].isBackgroundLayer&&(a-=1),a===n)return;r=t[a]}}r.kind===F.LayerKind.GROUP?t=findCorrespondingGroupEnd(PSDocument(this._docId),r._id).itemIndex-1:(t=batchPlaySync((0,$.getProperties)(Layer_directRef(r),["itemIndex"]))[0].itemIndex,t+=a);if("error"===batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.move)([$.ref.id(this._id)],t)])[2]._obj)throw new Error(n.translateUIString(C))}sendToBack(){let e,t;validateLayer(this);const r=this.parent;if(r&&r.kind===F.LayerKind.GROUP){const e=r.layers,n=e.findIndex((e=>e._id===this._id));let a=e.length-1;if(a===n)return;t=e[a]}else{const e=PSDocument(this._docId).layers,r=e.findIndex((e=>e._id===this._id));let n=e.length-1;if(e[n].isBackgroundLayer&&(n-=1),n===r)return;t=e[n]}e=t.kind===F.LayerKind.GROUP?findCorrespondingGroupEnd(PSDocument(this._docId),t._id).itemIndex-1:batchPlaySync((0,$.getProperties)(Layer_directRef(t),["itemIndex"]))[0].itemIndex+-1;if("error"===batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.move)([$.ref.id(this._id)],e)])[2]._obj)throw new Error(n.translateUIString(C))}moveInside(e){let t;if(void 0===e)throw new Error(n.translateUIString("$$$/PSUXP/Error/LayerMustBeSpecified=Target layer must be specified if PLACEINSIDE is specified."));if(this.id===e.id)throw new Error(n.translateUIString("$$$/PSUXP/Error/GroupLayerCannotMoveHere=Group layer cannot be moved inside itself."));if(e.kind!==F.LayerKind.GROUP)throw new Error(n.translateUIString("$$$/PSUXP/Error/LayerMustBeAGroup=Target layer must be a group layer."));const r=e.layers;if(0===r.length)t=batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex-1;else{const e=r[0];t=batchPlaySync((0,$.getProperties)(Layer_directRef(e),["itemIndex"]))[0].itemIndex}if("error"===batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.move)([$.ref.id(this._id)],t,!1)])[2]._obj)throw new Error(n.translateUIString(C))}async translate(e,t){let r,a;if(validateLayer(this),"number"==typeof e&&"number"==typeof t)r=at.Pixel(e),a=at.Pixel(t);else{if(!hasSameUnits([e,t]))throw new Error(n.translateUIString("$$$/PSUXP/Error/HorizontalVerticalMustBeSame=horizontal and vertical must be of the same type (percent, pixel)."));if(!at.isPercentValue(e)&&!at.isPixelValue(e))throw new Error(n.translateUIString("$$$/PSUXP/Error/HorizontalVerticalMustBe=horizontal and vertical must be percent or pixel values."));r=e,a=t}await batchPlay((0,mt.transform)($.ref.id(this._id),{offset:{_obj:"offset",horizontal:r,vertical:a},freeTransformCenterState:{_enum:"quadCenterState",_value:"QCSAverage"}}))}async flip(e){if(!["horizontal","vertical","both"].includes(e))throw new Error(n.translateUIString("$$$/PSUXP/Error/AxisMustBe=axis must be ^{horizontal^}, ^{vertical^}, ^{both^}."));const flipDesc=e=>(0,$.flip)($.ref.id(this._id),{_enum:"orientation",_value:e}),t="both"===e?[flipDesc("horizontal"),flipDesc("vertical")]:[flipDesc(e)];await batchPlay(t)}async scale(e,t,r,a){let i,o;if(validateLayer(this),"number"==typeof e&&"number"==typeof t)i=at.Percent(e),o=at.Percent(t);else{if(!hasSameUnits([e,t])||!at.isPercentValue(e))throw new Error(n.translateUIString("$$$/PSUXP/Error/WidthAndHeightMustBeSame=width and height must be of same type (percent)."));i=e,o=t}let s=it.sz.bilinear;if(void 0!==a&&"interpolation"in a){if(!(a.interpolation in it.sz)){const e=replaceAndTranslate(g,[a.interpolation,"PsCommon.InterpolationMethod"]);throw new Error(e)}s=a.interpolation}let l="QCSAverage";void 0!==r&&(l=getTransformCenterKeyFromAnchor(r)),await batchPlay((0,mt.transform)($.ref.id(this._id),{width:i,height:o,interpolation:{_enum:"interpolationType",_value:s},freeTransformCenterState:{_enum:"quadCenterState",_value:l}}))}async rotate(e,t,r){if(validateLayer(this),"number"!=typeof e&&!at.isAngleValue(e))throw new Error(n.translateUIString("$$$/PSUXP/Error/AngleUnexpected=angle is of unexpected type."));let a=it.sz.bilinear;if(void 0!==r&&"interpolation"in r){if(!(r.interpolation in it.sz)){const e=replaceAndTranslate(g,[r.interpolation,"PsCommon.InterpolationMethod"]);throw new Error(e)}a=r.interpolation}let i="QCSAverage";void 0!==t&&(i=getTransformCenterKeyFromAnchor(t)),await batchPlay((0,mt.transform)($.ref.id(this._id),{angle:"number"==typeof e?at.Angle(e):e,interpolation:{_enum:"interpolationType",_value:a},freeTransformCenterState:{_enum:"quadCenterState",_value:i}}))}async skew(e,t,r){let a,i;if(validateLayer(this),"number"==typeof e&&"number"==typeof t)a=at.Angle(e),i=at.Angle(t);else{if(!hasSameUnits([e,t])||!at.isAngleValue(e))throw new Error(n.translateUIString("$$$/PSUXP/Error/ParamsMustBeSameType=parameters must be of same type (angle)."));a=e,i=t}let o=it.sz.bilinear;if(void 0!==r&&"interpolation"in r){if(!(r.interpolation in it.sz)){const e=replaceAndTranslate(g,[r.interpolation,"PsCommon.InterpolationMethod"]);throw new Error(e)}o=r.interpolation}await batchPlay((0,mt.transform)($.ref.id(this._id),{skew:{_obj:"point",horizontal:a,vertical:i},interpolation:{_enum:"interpolationType",_value:o},freeTransformCenterState:{_enum:"quadCenterState",_value:"QCSAverage"}}))}async clear(){validateLayer(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["selection"]))[0].selection;await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.saveLayerSelection)(),(0,$.select)([$.ref.id(this._id)]),e?(0,yt.idle)():(0,H.selectAll)(),(0,$.clear)()])}async copy(e){validateLayer(this),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.saveLayerSelection)(),(0,$.select)([$.ref.id(this._id)]),(0,$.copy)(e)])}async cut(){validateLayer(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["selection"]))[0].selection;await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.saveLayerSelection)(),(0,$.select)([$.ref.id(this._id)]),e?(0,yt.idle)():(0,H.selectAll)(),(0,$.cut)()])}async merge(){validateLayer(this);const e=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,$.select)([$.ref.id(this._id)]),(0,$.merge)()]);const t=er.activeDocument.activeLayers[0].id;return batchPlaySync((0,H.select)(H.ref.id(e.id))),PSLayer(t,this._docId)}async rasterize(e){validateLayer(this),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,$.saveLayerSelection)(),(0,$.select)([$.ref.id(this._id)]),(0,$.rasterize)(e,this._id)])}get layers(){validateLayer(this);PSDocument(this._docId).backgroundLayer;if(this.kind!==F.LayerKind.GROUP)return null;let e=n.getLayerGroupContentsSync({documentID:this._docId,layerID:this._id}).list.map((e=>e.layerID));return new Layers(this._docId,e)}}class Layers extends Array{constructor(e,t){return super(),Object.setPrototypeOf(this,Layers.prototype),this.proxy=new Proxy([],this.handler()),this.parentDocID=e,this.layerIDs=t,this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"Layers";if("length"===t)return this.layerIDs?this.layerIDs.length:0;if("getByName"===t)return e=>{const t=this.layerIDs.find((t=>PSLayer(t,this.parentDocID).name===e));return t?PSLayer(t,this.parentDocID):null};if("add"===t)return Document.prototype.createLayer.bind(PSDocument(this.parentDocID));if("typename"===t)return"Layers";if("function"==typeof Array.prototype[t])return Array.prototype[t].bind(this.layerIDs.map((e=>PSLayer(e,this.parentDocID))));if(t===parseInt(t).toString()){const e=parseInt(t);return e>=0&&e<this.layerIDs.length?PSLayer(this.layerIDs[e],this.parentDocID):void 0}}}}getByName(e){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get typename(){throw new Error(n.translateUIString(L))}async add(){throw new Error(n.translateUIString(L))}}var Pt=__webpack_require__(916);function Guide_directRef(e){return[Pt.ref.id(e.id),H.ref.id(e.parent.id)]}const vt={};function validateGuide(e){if(!validateReference([Pt.ref.id(e.id),H.ref.id(e.docId)])){const t=replaceAndTranslate(d,["$$$/Actions/Class/Guide=guide",String(e.id)]);throw new Error(t)}}function PSGuide(e,t){return vt.hasOwnProperty(t)||(vt[t]={}),vt[t].hasOwnProperty(e)||(vt[t][e]=new Guide(e,t)),vt[t][e]}class Guide{constructor(e,t){this._id=e,this._docId=t}get typename(){return"Guide"}get id(){return this._id}get docId(){return this._docId}get parent(){validateGuide(this);return PSDocument(this._docId)}get direction(){validateGuide(this);const e=batchPlaySync((0,Pt.getProperties)(Guide_directRef(this),["orientation"]))[0].orientation._value;switch(e){case"horizontal":case"vertical":return e;default:throw new Error(n.translateUIString("$$$/PSUXP/Error/InvalidDirectionType=Invalid direction for a guide."))}}set direction(e){validateGuide(this),validateConstant(e,"direction",F.Direction);const t=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,Pt.setProperty)(Guide_directRef(this),"orientation",e),(0,H.select)(H.ref.id(t.id))])}get coordinate(){validateGuide(this);const e=batchPlaySync((0,Pt.getProperties)(Guide_directRef(this),["position"]))[0].position;let t;switch(e._unit){case"distanceUnit":const r=this.parent.resolution;t=e._value*(r/72);break;case"pixelsUnit":t=e._value;break;case"percentUnit":if(this.direction===F.Direction.VERTICAL){t=this.parent.width*(e._value/100)}else{t=this.parent.height*(e._value/100)}break;default:{const t=replaceAndTranslate("$$$/PSUXP/Error/CantConvertToPixels=Unit: ^0 cannot be converted to pixels.",[e._unit]);throw new Error(t)}}return function fixFloat(e){return Math.round(1e5*e)/1e5}(t)}set coordinate(e){validateGuide(this),validateBasicType(e,"coordinate","number");const t=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,Pt.setProperty)(Guide_directRef(this),"position",e),(0,H.select)(H.ref.id(t.id))])}delete(){validateGuide(this);const e=er.activeDocument;batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,Pt.deleteGuide)(Guide_directRef(this)),(0,H.select)(H.ref.id(e.id))])}}class Guides{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"Guides";if("length"===t)return batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfGuides"]))[0].numberOfGuides;if("add"===t)return(e,t)=>{validateConstant(e,"direction",F.Direction),validateBasicType(t,"coordinate","number");return PSGuide(batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Pt.newGuide)(e,t)])[2].ID,this._docId)};if("typename"===t)return"Guides";if("parent"===t)return PSDocument(this._docId);if("removeAll"===t)return()=>{batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Pt.clearAllGuides)(H.ref.id(this._docId))])};if("function"==typeof Array.prototype[t]){const e=batchPlaySync((0,Pt.getPropertiesRange)(H.ref.id(this._docId),["ID"]))[0].list;return Array.prototype[t].bind(e.map((e=>PSGuide(e.ID,this._docId))))}if(t===parseInt(t).toString()){const e=batchPlaySync((0,Pt.getProperties)([Pt.ref.index(parseInt(t)+1),H.ref.id(this._docId)],["ID"]))[0].ID;return e?PSGuide(e,this._docId):void 0}}}}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}add(e,t){throw new Error(n.translateUIString(L))}removeAll(){throw new Error(n.translateUIString(L))}}var St=__webpack_require__(362);const bt={},It={add:e=>(bt[e]=It.getAll(e),bt[e][bt[e].length-1]),removeAll:e=>{bt[e]=[]},getByIndex:(e,t)=>(bt[e]=It.getAll(e),bt[e][t]),getAll:e=>{const t=batchPlaySync((0,H.getProperties)(H.ref.id(e),["colorSamplerList"]))[0]?.colorSamplerList;return(t||[]).map(((t,r)=>new ColorSampler(e,r,{x:t.position.horizontal._value,y:t.position.vertical._value},t.hasOwnProperty("color")?SolidColor.fromDesc(t.color):new NoColor)))},remove:(e,t)=>{bt.hasOwnProperty(e)&&(bt[e].splice(t,1),bt[e].forEach(((e,t)=>e._setIndex(t))))}};class ColorSampler{constructor(e,t,r,n){this._docId=e,this._position=r,this._index=t,this._color=n}_setIndex(e){this._index=e}_getIndex(){return this._index}_setPosition(e){this._position=e}get typename(){return"ColorSampler"}get docId(){return this._docId}get parent(){return PSDocument(this._docId)}get position(){return this._position}get color(){return this._color}remove(){batchPlaySync([...selectionDance(this.parent),(0,St.deleteColorSampler)(St.ref.index(this._index+1))]),It.remove(this._docId,this._index)}move(e){let{width:t,height:r}=PSDocument(this._docId);validateRange(e.x,"position.x",0,t-1),validateRange(e.y,"position.y",0,r-1);let n=batchPlaySync([...selectionDance(this.parent),(0,St.setPosition)(St.ref.index(this._index+1),e)]);if("error"===n[2]?._obj)throw new Error(n[2].message);this._position={x:n[2].to.horizontal._value,y:n[2].to.vertical._value}}}class ColorSamplers{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"ColorSamplers";if("length"===t)return batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["colorSamplerList"]))[0]?.colorSamplerList?.length??0;if("add"===t)return e=>{validateBasicType(e.x,"position.x","number"),validateBasicType(e.y,"position.y","number");let{width:t,height:r}=PSDocument(this._docId);validateRange(e.x,"position.x",0,t-1),validateRange(e.y,"position.y",0,r-1);if("error"===batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,St.newColorSampler)(e)])[2]?._obj){const e=replaceAndTranslate("$$$/ColorTools/TooManyColorSamplers=Could not create a new sampler because the maximum number of samplers is ^0.",["10"]);throw new RangeError(e)}return It.add(this._docId)};if("typename"===t)return"ColorSamplers";if("parent"===t)return PSDocument(this._docId);if("removeAll"===t)return()=>{batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,St.removeAllColorSamplers)()]),It.removeAll(this._docId)};if("function"==typeof Array.prototype[t]){const e=It.getAll(this._docId);return Array.prototype[t].bind(e)}return t===parseInt(t,10).toString()?It.getByIndex(this._docId,parseInt(t,10)):void 0}}}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}add(e){throw new Error(n.translateUIString(L))}removeAll(){throw new Error(n.translateUIString(L))}}var Ct=__webpack_require__(44);function validateLayerComp(e){if(!validateReference([Ct.ref.id(e.id),H.ref.id(e.docId)])){const t=replaceAndTranslate(d,["LayerComp",String(e.id)]);throw new Error(t)}}const Lt={};function PSLayerComp(e,t){return Lt.hasOwnProperty(t)||(Lt[t]={}),Lt[t].hasOwnProperty(e)||(Lt[t][e]=new LayerComp(e,t)),Lt[t][e]}class LayerComp{constructor(e,t){this._id=e,this._docId=t}get _directRef(){return[Ct.ref.id(this._id),H.ref.id(this._docId)]}get typename(){return"LayerComp"}get id(){return this._id}get docId(){return this._docId}get parent(){return PSDocument(this._docId)}get name(){validateLayerComp(this);return getCompData(this._docId,this._id).title}set name(e){validateLayerComp(this),validateBasicType(e,"name","string"),batchPlaySync(setLayerCompWrapper(this._directRef,{title:e},this.parent))}get comment(){validateLayerComp(this);const e=getCompData(this._docId,this._id);return e.comment?e.comment:null}set comment(e){validateLayerComp(this),null===e&&(e=""),validateBasicType(e,"comment","string"),batchPlaySync(setLayerCompWrapper(this._directRef,{comment:e},this.parent))}get selected(){validateLayerComp(this);return getCompData(this._docId,this._id).selection}get appearance(){validateLayerComp(this);return getCompData(this._docId,this._id).useAppearance}set appearance(e){validateLayerComp(this),validateBasicType(e,"appearance","boolean"),batchPlaySync(setLayerCompWrapper(this._directRef,{useAppearance:e},this.parent))}get position(){validateLayerComp(this);return getCompData(this._docId,this._id).usePosition}set position(e){validateLayerComp(this),validateBasicType(e,"position","boolean"),batchPlaySync(setLayerCompWrapper(this._directRef,{usePosition:e},this.parent))}get visibility(){validateLayerComp(this);return getCompData(this._docId,this._id).useVisibility}set visibility(e){validateLayerComp(this),validateBasicType(e,"visibility","boolean"),batchPlaySync(setLayerCompWrapper(this._directRef,{useVisibility:e},this.parent))}get childComp(){validateLayerComp(this);return getCompData(this._docId,this._id).useChildLayerCompState}set childComp(e){validateLayerComp(this),validateBasicType(e,"childComp","boolean"),batchPlaySync(setLayerCompWrapper(this._directRef,{useChildLayerCompState:e},this.parent))}async apply(){validateLayerComp(this),await batchPlay([...selectionDance(this.parent),(0,Ct.applyLayerComp)(this._directRef)])}async recapture(e,t){if(validateLayerComp(this),e){const{appearance:r,childComp:n,position:a,visibility:i}=e;let o=[];if(0===t?.length)return;if(t?.length>0){if(!t.every((e=>e._docId===t[0]._docId)))throw new Error(replaceAndTranslate("$$$/PSUXP/Error/RecaptureLayersArg=All layers must be a part of the same document."));o=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(t[0]._docId)),(0,$.saveLayerSelection)(),(0,$.select)(t.map((e=>$.ref.id(e.id))),$.SelectionModifier.select,!1)]}await batchPlay([...o,(0,Ct.recaptureLayerComp)(this._directRef,i,a,r,n,Boolean(t))])}else await batchPlay([...selectionDance(this.parent),(0,Ct.recaptureLayerComp)(this._directRef)])}async remove(){validateLayerComp(this),await batchPlay([...selectionDance(this.parent),(0,Ct.deleteLayerComp)(this._directRef)])}async resetLayerComp(){await batchPlay([...selectionDance(this.parent),(0,Ct.resetLayerComp)()])}async duplicate(){validateLayerComp(this);const e=getCompData(this._docId).map((e=>e.ID));await batchPlay([...selectionDance(this.parent),(0,Ct.duplicateLayerComp)(this._directRef)]);const t=getCompData(this._docId).map((e=>e.ID)).find((t=>!e.includes(t)));if("number"==typeof t)return PSLayerComp(t,this._docId);throw new Error(replaceAndTranslate(O))}}function setLayerCompWrapper(e,t,r){return[...selectionDance(r),(0,Ct.setLayerCompProperty)(e,t)]}class LayerComps{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"LayerComps";if("length"===t)return validateDocument(PSDocument(this._docId)),getCompData(this._docId).length;if("add"===t)return async(e={})=>{validateDocument(PSDocument(this._docId));const t=batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfLayers","hasBackgroundLayer"])),{numberOfLayers:r,hasBackgroundLayer:n}=t[0];if(0===r&&n)throw new Error(replaceAndTranslate(O));const a=getCompData(this._docId).map((e=>e.ID));await batchPlay((0,Ct.addLayerComp)(H.ref.id(this._docId),e.name??"",e.comment??"",e.visibility??!0,e.position??!1,e.appearance??!1,e.childComp??!1));const i=getCompData(this._docId).map((e=>e.ID)).find((e=>!a.includes(e)));if("number"==typeof i)return PSLayerComp(i,this._docId);throw new Error(replaceAndTranslate(O))};if("typename"===t)return"LayerComps";if("parent"===t)return validateDocument(PSDocument(this._docId)),PSDocument(this._docId);if("removeAll"===t)return validateDocument(PSDocument(this._docId)),async()=>{const e=getCompData(this._docId).map((e=>(0,Ct.deleteLayerComp)([Ct.ref.id(e.ID),H.ref.id(this._docId)])));await batchPlay([...selectionDance(PSDocument(this._docId)),...e])};if("getAllByName"===t)return validateDocument(PSDocument(this._docId)),e=>{validateBasicType(e,"name","string");return getCompData(this._docId).filter((t=>t.title===e)).map((e=>PSLayerComp(e.ID,this._docId)))};if("function"==typeof Array.prototype[t]){validateDocument(PSDocument(this._docId));const e=getCompData(this._docId).map((e=>e.ID));return Array.prototype[t].bind(e.map((e=>PSLayerComp(e,this._docId))))}if(t===parseInt(t).toString()){validateDocument(PSDocument(this._docId));const e=getCompData(this._docId).find((e=>e.itemIndex-1===parseInt(t)));if(!e)return;return PSLayerComp(e.ID,this._docId)}}}}get typename(){throw new Error(replaceAndTranslate(L))}get length(){throw new Error(replaceAndTranslate(L))}get parent(){throw new Error(replaceAndTranslate(L))}async add(e={}){throw new Error(replaceAndTranslate(L))}async removeAll(){throw new Error(replaceAndTranslate(L))}getAllByName(e){throw new Error(replaceAndTranslate(L))}}function getCompData(e,t){const r=batchPlaySync((0,Ct.getAllDocumentLayerComps)(H.ref.id(e)))[0]?.compsList;if(!r)return"number"==typeof t?null:[];if("number"==typeof t){return r.find((e=>e.ID===t))||null}return r}var Dt=__webpack_require__(202);class CountItem{constructor(e,t,r,n){this._docId=e,this.itemIndex=t,this.groupIndex=r,this._position=n,this._document=PSDocument(e)}get typename(){return"CountItem"}get parent(){return new CountItems(this._docId)}get position(){return{...this._position}}move(e){validateRange(e.x,"position.x",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),validateRange(e.y,"position.y",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);const t=batchPlaySync([...selectionDance(this._document),(0,Dt.AJ)(this.itemIndex,this.groupIndex,e.x,e.y)]);if("error"===t[2]?._obj){const e=replaceAndTranslate(t[2].message);throw new Error(e)}this._position.x=t[2].x,this._position.y=t[2].y}remove(){const e=batchPlaySync([...selectionDance(this._document),(0,Dt.Lq)(this.itemIndex,this.groupIndex)]);if("error"===e[2]?._obj){const t=replaceAndTranslate(e[2].message);throw new Error(t)}}}function getCountItemsList(e){return batchPlaySync([(0,Dt.qD)(e)])[0]?.countClass}class CountItems{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"CountItems";if("typename"===t)return"CountItems";if("length"===t)return getCountItemsList(H.ref.id(this._docId))?.length??0;if("parent"===t)return PSDocument(this._docId);if("add"===t)return e=>{if(getCountItemsList(H.ref.id(this._docId))?.length>=25e3){const e=replaceAndTranslate("$$$/Error/TooManyCountItems=Could not create a new Count Item because the maximum number allowed is ^0.",["25,000"]);throw new RangeError(e)}let{width:t,height:r}=PSDocument(this._docId);validateRange(e.x,"position.x",0,t-1),validateRange(e.y,"position.y",0,r-1);const n=batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.eO)(e.x,e.y),(0,Dt.qD)(H.ref.id(this._docId))]);if("countAdd"===n[2]?._obj){const e=n[3].countClass[n[3].countClass.length-1];return new CountItem(this._docId,e.itemIndex,e.group,{x:e.x._value,y:e.y._value})}};if("removeAllFromActiveGroup"===t)return()=>{batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.S4)()]);return this};if("getAll"===t)return()=>{const e=batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.qD)(H.ref.id(this._docId))]);return void 0===e[2].countClass?null:e[2].countClass.map((e=>new CountItem(this._docId,e.itemIndex,e.group,{x:e.x._value,y:e.y._value})))};if("createGroup"===t)return e=>{validateBasicType(e,"groupName","string");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.mz)(e)]);return this};if("renameActiveGroup"===t)return e=>{validateBasicType(e,"groupName","string");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.Yy)(e)]);return this};if("removeGroupByIndex"===t)return e=>{validateBasicType(e,"index","number");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.l_)(e)]);return this};if("toggleActiveGroupVisibility"===t)return e=>{validateBasicType(e,"isVisible","boolean");return batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.QP)(e)])[2]};if("activateGroupByIndex"===t)return e=>{validateBasicType(e,"index","number");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.W2)(e)]);return this};if("removeGroupByIndex"===t)return e=>{validateBasicType(e,"index","number");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.l_)(e)]);return this};if("setActiveMarkerSize"===t)return e=>{validateRange(e,"size",1,10);batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.RC)(e)]);return this};if("setActiveLabelSize"===t)return e=>{validateRange(e,"size",8,72);batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.iD)(e)]);return this};if("setActiveColor"===t)return e=>{validateSolidColor(e,"color");batchPlaySync([...selectionDance(PSDocument(this._docId)),(0,Dt.Xd)(e.rgb.red,e.rgb.green,e.rgb.blue)]);return this};if("function"==typeof Array.prototype[t]){const e=getCountItemsList(H.ref.id(this._docId));return Array.prototype[t].bind(e.map((e=>new CountItem(this._docId,e.itemIndex,e.group,{x:e.x._value,y:e.y._value}))))}if(t===parseInt(t,10).toString()){const e=getCountItemsList(H.ref.id(this._docId))?.[parseInt(t,10)];return e?new CountItem(this._docId,e.itemIndex,e.group,{x:e.x._value,y:e.y._value}):this}}}}get typename(){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}add(e){throw new Error(n.translateUIString(L))}removeAllFromActiveGroup(){throw new Error(n.translateUIString(L))}getAll(){throw new Error(n.translateUIString(L))}createGroup(e){throw new Error(n.translateUIString(L))}renameActiveGroup(e){throw new Error(n.translateUIString(L))}removeGroupByIndex(e){throw new Error(n.translateUIString(L))}toggleActiveGroupVisibility(e){throw new Error(n.translateUIString(L))}activateGroupByIndex(e){throw new Error(n.translateUIString(L))}setActiveMarkerSize(e){throw new Error(n.translateUIString(L))}setActiveLabelSize(e){throw new Error(n.translateUIString(L))}setActiveColor(e){throw new Error(n.translateUIString(L))}}var Et=__webpack_require__(388);const At={};function PSHistoryState(e,t){return At.hasOwnProperty(t)||(At[t]={}),At[t].hasOwnProperty(e)||(At[t][e]=new HistoryState(e,t)),At[t][e]}function HistoryState_directRef(e){return[Et.ref.id(e.id),H.ref.id(e.parent.id)]}function validateHistoryState(e){if(!validateReference([Et.ref.id(e.id),H.ref.id(e.docId)])){const t=replaceAndTranslate(d,["$$$/Actions/Class/HistoryState=history state",String(e.id)]);throw new Error(t)}}class HistoryState{constructor(e,t){this._id=e,this._docId=t}get typename(){return"HistoryState"}get id(){return this._id}get docId(){return this._docId}get name(){validateHistoryState(this);return batchPlaySync((0,Et.getProperties)(HistoryState_directRef(this),["name"]))[0].name}get parent(){validateHistoryState(this);return PSDocument(this._docId)}get snapshot(){validateHistoryState(this);return!batchPlaySync((0,Et.getProperties)(HistoryState_directRef(this),["auto"]))[0].auto}}class HistoryStates{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"HistoryStates";if("length"===t)return batchPlaySync((0,Et.getProperties)([Et.ref.active(),H.ref.id(this._docId)],["count"]))[0].count;if("getByName"===t)return e=>{const t=batchPlaySync((0,Et.getProperties)([Et.ref.name(e),H.ref.id(this._docId)],["ID"]))[0].ID;return t?PSHistoryState(t,this._docId):null};if("parent"===t)return PSDocument(this._docId);if("function"==typeof Array.prototype[t]){const e=batchPlaySync((0,Et.getProperties)([Et.ref.active(),H.ref.id(this._docId)],["count"]))[0].count,r=Array.from({length:e},((e,t)=>PSHistoryState(batchPlaySync((0,Et.getProperties)([Et.ref.index(t+1),H.ref.id(this._docId)],["ID"]))[0].ID,this._docId)));return Array.prototype[t].bind(r)}if(t===parseInt(t).toString()){const e=batchPlaySync((0,Et.getProperties)([Et.ref.index(parseInt(t)+1),H.ref.id(this._docId)],["ID"]))[0].ID;return e?PSHistoryState(e,this._docId):void 0}}}}getByName(e){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}}var Tt=__webpack_require__(405);function PathPoint_directRef(e){return[Tt.iH.id(e.id),H.ref.id(e.parent.id)]}class PathPoint{constructor(e,t,r,n){this._index=e,this._subPathIndex=t,this._pathId=r,this._docId=n}get typename(){return"PathPoint"}get parent(){return new SubPathItem(this._subPathIndex,this._pathId,this._docId)}get anchor(){const e=batchPlaySync([(0,Tt.vw)(PathPoint_directRef(new PathItem(this._pathId,this._docId)),["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points[this._index].anchor;return[e.horizontal._value,e.vertical._value]}get kind(){const e=batchPlaySync([(0,Tt.vw)(PathPoint_directRef(new PathItem(this._pathId,this._docId)),["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points[this._index];return e.hasOwnProperty("forward")||e.hasOwnProperty("backward")?F.PointKind.SMOOTHPOINT:F.PointKind.CORNERPOINT}get leftDirection(){const e=batchPlaySync([(0,Tt.vw)(PathPoint_directRef(new PathItem(this._pathId,this._docId)),["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points[this._index],t=e.forward??e.anchor;return[t.horizontal._value,t.vertical._value]}get rightDirection(){const e=batchPlaySync([(0,Tt.vw)(PathPoint_directRef(new PathItem(this._pathId,this._docId)),["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points[this._index],t=e.backward??e.anchor;return[t.horizontal._value,t.vertical._value]}}class PathPoints{constructor(e,t,r){return this._subPathIndex=e,this._pathId=t,this._docId=r,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"PathPoints";if("length"===t){return batchPlaySync([(0,Tt.vw)([Tt.iH.id(this._pathId),H.ref.id(this._docId)],["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points.length}if("typename"===t)return"PathPoints";if("parent"===t)return new SubPathItem(this._subPathIndex,this._pathId,this._docId);if("function"==typeof Array.prototype[t]){const e=batchPlaySync([(0,Tt.vw)([Tt.iH.id(this._pathId),H.ref.id(this._docId)],["pathContents"])])[0].pathContents.pathComponents[this._subPathIndex].subpathListKey[0].points.map(((e,t)=>new PathPoint(t,this._subPathIndex,this._pathId,this._docId)));return Array.prototype[t].bind(e)}return t===parseInt(t).toString()?new PathPoint(parseInt(t),this._subPathIndex,this._pathId,this._docId):void 0}}}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}}function SubPathItem_directRef(e){return[Tt.iH.id(e.id),H.ref.id(e.parent.id)]}class SubPathItem{constructor(e,t,r){this._index=e,this._pathId=t,this._docId=r}get typename(){return"SubPathItem"}get parent(){return PSPathItem(this._pathId,this._docId)}get operation(){const e=batchPlaySync([(0,Tt.vw)(SubPathItem_directRef(this.parent),["pathContents"])])[0].pathContents.pathComponents[this._index];let t=e.shapeOperation._value;return"interfaceIconFrameDimmed"===t&&(t="intersect"),e.shapeOperation._value}get closed(){return batchPlaySync([(0,Tt.vw)(SubPathItem_directRef(this.parent),["pathContents"])])[0].pathContents.pathComponents[this._index].subpathListKey[0].closedSubpath??!1}get pathPoints(){return new PathPoints(this._index,this._pathId,this._docId)}}class SubPathItems{constructor(e,t){return this._pathId=e,this._docId=t,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"SubPathItems";if("length"===t){return batchPlaySync([(0,Tt.vw)([Tt.iH.id(this._pathId),H.ref.id(this._docId)],["pathContents"])])[0].pathContents.pathComponents.length}if("typename"===t)return"SubPathItems";if("parent"===t)return new PathItem(this._pathId,this._docId);if("function"==typeof Array.prototype[t]){const e=batchPlaySync([(0,Tt.vw)([Tt.iH.id(this._pathId),H.ref.id(this._docId)],["pathContents"])])[0].pathContents.pathComponents.map(((e,t)=>new SubPathItem(t,this._pathId,this._docId)));return Array.prototype[t].bind(e)}return t===parseInt(t).toString()?new SubPathItem(parseInt(t),this._pathId,this._docId):void 0}}}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}}function PathItem_directRef(e){return[Tt.iH.id(e.id),H.ref.id(e.parent.id)]}const wt={};function validatePath(e){if(!validateReference([Tt.iH.id(e.id),H.ref.id(e.docId)])){const t=replaceAndTranslate(d,["$$$/Actions/Class/Path=path",String(e.id)]);throw new Error(t)}}function PSPathItem(e,t){return wt.hasOwnProperty(t)||(wt[t]={}),wt[t].hasOwnProperty(e)||(wt[t][e]=new PathItem(e,t)),wt[t][e]}class PathItem{constructor(e,t){this._id=e,this._docId=t}get typename(){return"PathItem"}get id(){return this._id}get docId(){return this._docId}get parent(){validatePath(this);return PSDocument(this._docId)}get kind(){validatePath(this);return batchPlaySync((0,Tt.vw)(PathItem_directRef(this),["kind"]))[0].kind._value}set kind(e){if([F.PathKind.WORKPATH,F.PathKind.VECTORMASK,F.PathKind.TEXTMASK].includes(e))throw new Error(n.translateUIString(s));validatePath(this),e===F.PathKind.CLIPPINGPATH?batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.aT)(Tt.iH.id(this._id))]):batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.ZH)(Tt.iH.id(this._id))])}get name(){validatePath(this);return batchPlaySync((0,Tt.vw)(PathItem_directRef(this),["pathName"]))[0].pathName}set name(e){validatePath(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.PQ)(PathItem_directRef(this),e)])}get subPathItems(){return validatePath(this),new SubPathItems(this._id,this._docId)}async deselect(){validatePath(this),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt._H)(PathItem_directRef(this))])}async duplicate(e){validatePath(this);const t=(await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.OM)(PathItem_directRef(this),e),(0,H.getProperties)(H.ref.id(this.docId),["numberOfPaths"])]))[3].numberOfPaths-1;return PSPathItem((await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.vw)(Tt.iH.index(t),["ID"])]))[2].ID,this._docId)}async fillPath(e,t,r=100,a=!1,i=0,o=!0,l=!0){if(validatePath(this),r<0||r>100||i<0||i>250)throw new Error(n.translateUIString(s));await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.Ys)(PathItem_directRef(this)),(0,Tt.hl)(PathItem_directRef(this),o,e.base.desc,r,t,a,i,l)])}async makeClippingPath(e){if(validatePath(this),void 0!==e&&(e<0||e>100))throw new Error(n.translateUIString(s));await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.aT)(Tt.iH.id(this._id),e)])}async makeSelection(e,t,r){if(validatePath(this),void 0!==e&&(e<0||e>250))throw new Error(n.translateUIString(s));await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.P_)(Tt.iH.id(this._id),r??F.SelectionType.REPLACE,e,t)])}async remove(){validatePath(this),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.Od)(PathItem_directRef(this))])}async select(){validatePath(this),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.Ys)(PathItem_directRef(this))])}async strokePath(e=F.ToolType.PENCIL,t=!1,r,a){validatePath(this);let i=!1;if([F.ToolType.CLONESTAMP,F.ToolType.HEALINGBRUSH].includes(e)&&(i=!0),i&&void 0===r)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/InvalidSourceArray=A number array of length two is needed for specifying source coordinates."));const o=this.parent.activeLayers;if(o.length>1)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotHaveMoreThanOneSource=You cannot have more than one layer active for strokePath."));if(0===o.length)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/NoActiveLayersForSource=You must have one layer active for strokePath."));i&&void 0===a&&(a=o[0]),i&&validateLayer(a),await batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),i?(0,Tt.uy)(r.x,r.y,$.ref.id(a.id)):(0,yt.idle)(),(0,Tt.Go)(PathItem_directRef(this),e,t)])}}class PathItems{constructor(e){return this._docId=e,this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"PathItems";if("length"===t)return batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfPaths"]))[0].numberOfPaths;if("add"===t)return(e,t)=>batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),(0,Tt.nc)(t),(0,Tt.PQ)(Tt.iH.selected(),e)]);if("typename"===t)return"PathItems";if("parent"===t)return PSDocument(this._docId);if("getByName"===t)return e=>{const t=batchPlaySync((0,Tt.vw)([Tt.iH.name(e),H.ref.id(this._docId)],["ID","pathName"]));if(t[0].pathName===e)return new PathItem(t[0].ID,this._docId);const r=batchPlaySync([(0,Tt.cD)()]);if(r[0].pathName===e)return new PathItem(r[0].ID,this._docId);const n=batchPlaySync([(0,Tt.OG)()]);if(n[0].pathName===e)return new PathItem(n[0].ID,this._docId);const a=batchPlaySync([(0,Tt.ks)()]);return a[0].pathName===e?new PathItem(a[0].ID,this._docId):null};if("removeAll"===t)return()=>{const e=batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfPaths"]))[0].numberOfPaths,t=Array.from({length:e},(()=>(0,Tt.Od)([Tt.iH.index(1)])));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this._docId)),...t])};if("function"==typeof Array.prototype[t]){const e=batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfPaths"]))[0].numberOfPaths,r=Array.from({length:e},((e,t)=>new PathItem(batchPlaySync((0,Tt.vw)([Tt.iH.index(t+1),H.ref.id(this._docId)],["ID"]))[0].ID,this._docId)));return Array.prototype[t].bind(r)}if(t===parseInt(t).toString()){const e=batchPlaySync((0,Tt.vw)([Tt.iH.index(parseInt(t)+1),H.ref.id(this._docId)],["ID"]))[0].ID;return e?new PathItem(e,this._docId):void 0}}}}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}add(e,t){throw new Error(n.translateUIString(L))}removeAll(){throw new Error(n.translateUIString(L))}getByName(e){throw new Error(n.translateUIString(L))}}class Channels extends Array{constructor(e){return super(),this._docId=e,Object.setPrototypeOf(this,Channels.prototype),this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"Channels";if("length"===t)return batchPlaySync((0,H.getProperties)(H.ref.id(this._docId),["numberOfChannels"]))[0].numberOfChannels;if("getByName"===t)return e=>{validateDocument(PSDocument(this._docId));const t=H.ref.id(this._docId),r=batchPlaySync((0,ct.getPropertiesRange)(["itemIndex","channelName","ID"],t))[0]?.list?.find((t=>t.channelName===e));if(!r)return null;return PSChannelFromIndex(this._docId,r.itemIndex)};if("add"===t)return()=>{const e=er.activeDocument,t=batchPlaySync([(0,H.select)(H.ref.id(this._docId)),(0,ct.createChannel)(),(0,H.select)(H.ref.id(e.id))])[1]?.new?.alphaChannelId;return t?PSChannel(this._docId,t):null};if("removeAll"===t)return()=>{const e=batchPlaySync((0,ct.getPropertiesRange)(["itemIndex","ID"],H.ref.id(this._docId)))[0].list.filter((e=>"ID"in e)).reverse(),t=H.ref.id(this._docId);batchPlaySync(e.map((e=>(0,ct.remove)([ct.ref.id(e.ID),t]))))};if("parent"===t)return PSDocument(this._docId);if("typename"===t)return"Channels";if("function"==typeof Array.prototype[t]){const e=batchPlaySync((0,ct.getPropertiesRange)(["itemIndex","ID"],H.ref.id(this._docId)))[0],r=Array.from(e.list,(e=>"ID"in e?PSChannel(this._docId,e.ID):PSChannelFromIndex(this._docId,e.itemIndex)));return Array.prototype[t].bind(r)}if(t===parseInt(t).toString()){const e=batchPlaySync((0,ct.getPropertiesRange)(["itemIndex","ID"],H.ref.id(this._docId),parseInt(t)+1,1))[0]?.list?.[0];if(!e)return;if("ID"in e)return PSChannel(this._docId,e.ID);if("itemIndex"in e)return PSChannelFromIndex(this._docId,e.itemIndex)}}}}add(){throw new Error(n.translateUIString(L))}getByName(e){throw new Error(n.translateUIString(L))}removeAll(){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}get typename(){throw new Error(n.translateUIString(L))}}var Rt=__webpack_require__(104);function validatePixelSelection(e,t){const r=batchPlaySync((0,H.getProperties)(H.ref.id(e),["selection"]))?.[0]?.selection;if(!r){const e=replaceAndTranslate(M,[t]);throw new Error(e)}}class Selection{constructor(e){this._docId=e}get typename(){return"Selection"}get docId(){return this._docId}get parent(){return PSDocument(this._docId)}get bounds(){validateDocument(this.parent);const e=batchPlaySync(Rt.getSelection(this._docId))[0]?.selection;if(e){let t=new Bounds;return t.left=at.FromPixel(e.left),t.top=at.FromPixel(e.top),t.bottom=at.FromPixel(e.bottom),t.right=at.FromPixel(e.right),t}return null}get solid(){validateDocument(this.parent);return batchPlaySync(Rt.getSelection(this._docId))[0]?.solid??null}async contract(e,t=!1){validateDocument(this.parent),validateRange(e,"by",1,500),validateBasicType(t,"applyEffectAtCanvasBounds","boolean"),validatePixelSelection(this._docId,"contract"),await batchPlay([...selectionDance(this.parent),Rt.contract(e,t)])}async deselect(){validateDocument(this.parent),await batchPlay([...selectionDance(this.parent),Rt.deselect()])}async expand(e,t=!1){validateDocument(this.parent),validateRange(e,"by",1,500),validateBasicType(t,"applyEffectAtCanvasBounds","boolean"),validatePixelSelection(this._docId,"expand"),await batchPlay([...selectionDance(this.parent),Rt.expand(e,t)])}async feather(e,t=!1){validateDocument(this.parent),validateRange(e,"by",.1,1e3),validateBasicType(t,"applyEffectAtCanvasBounds","boolean"),validatePixelSelection(this._docId,"feather"),await batchPlay([...selectionDance(this.parent),Rt.feather(e,t)])}async grow(e,t=!0){validateDocument(this.parent),validatePixelSelection(this._docId,"grow"),validateRange(e,"tolerance",0,255),validateBasicType(t,"antiAlias","boolean"),validateColorMode(this.parent,rt,"grow"),await batchPlay([...selectionDance(this.parent),Rt.grow(e,t)])}async inverse(){validateDocument(this.parent),validatePixelSelection(this._docId,"invert"),await batchPlay([...selectionDance(this.parent),Rt.inverse()])}async load(e,t=F.SelectionType.REPLACE,r=!1){if(validateDocument(this.parent),"Layer"===e.typename?validateLayer(e):validateChannel(e),validateBasicType(r,"invert","boolean"),validateConstant(t,"Constants.SelectionType",F.SelectionType),this._validateSelectionType(t),"Layer"===e.typename){const n=[ct.ref.enum("transparencyEnum"),$.ref.id(e.id),H.ref.id(e.document.id)];await batchPlay([...selectionDance(this.parent),Rt.loadSelection(n,t,r)])}else await batchPlay([...selectionDance(this.parent),Rt.loadSelection(e.directRef,t,r)])}async makeWorkPath(e=2){validateDocument(this.parent),validateRange(e,"tolerance",.5,10),validatePixelSelection(this._docId,"makeWorkPath"),await batchPlay([...selectionDance(this.parent),Rt.makeWorkPath(e)]);return function PSWorkPath(e){return PSPathItem(batchPlaySync((0,Tt.vw)([Tt.iH.workPath(),H.ref.id(e)],["ID"]))[0].ID,e)}(this._docId)}async selectAll(){validateDocument(this.parent),await batchPlay([...selectionDance(this.parent),Rt.selectAll()])}async selectRectangle(e,t=F.SelectionType.REPLACE,r=0,n=!0){validateDocument(this.parent),validateConstant(t,"Constants.SelectionType",F.SelectionType),validateRange(r,"feather",0,1e3),validateBasicType(n,"antiAlias","boolean"),this._validateSelectionType(t);const{top:a,left:i,bottom:o,right:s}=e;validateBasicType(a,"bounds.top","number"),validateBasicType(i,"bounds.left","number"),validateBasicType(s,"bounds.right","number"),validateBasicType(o,"bounds.bottom","number");const l=Rt.selectRectangle(e,t,r,n);await batchPlay([...selectionDance(this.parent),l])}async selectEllipse(e,t=F.SelectionType.REPLACE,r=0,n=!0){validateDocument(this.parent),validateConstant(t,"Constants.SelectionType",F.SelectionType),validateRange(r,"feather",0,1e3),validateBasicType(n,"antiAlias","boolean"),this._validateSelectionType(t);const{top:a,left:i,bottom:o,right:s}=e;validateBasicType(a,"bounds.top","number"),validateBasicType(i,"bounds.left","number"),validateBasicType(s,"bounds.right","number"),validateBasicType(o,"bounds.bottom","number");await batchPlay([...selectionDance(this.parent),Rt.selectEllipse(e,t,r,n)])}async selectPolygon(e,t=F.SelectionType.REPLACE,r=0,n=!0){validateDocument(this.parent),validateConstant(t,"Constants.SelectionType",F.SelectionType),validateRange(r,"feather",0,1e3),validateBasicType(n,"antiAlias","boolean"),this._validateSelectionType(t),await batchPlay([...selectionDance(this.parent),Rt.selectPolygon(e,t,r,n)])}async selectRow(e,t=F.SelectionType.REPLACE){validateDocument(this.parent),validateConstant(t,"Constants.SelectionType",F.SelectionType),validateRange(e,"y",0,this.parent.height-1),this._validateSelectionType(t),await batchPlay([...selectionDance(this.parent),Rt.selectRow(e,t)])}async selectColumn(e,t=F.SelectionType.REPLACE){validateDocument(this.parent),validateRange(e,"x",0,this.parent.width-1),await batchPlay([...selectionDance(this.parent),Rt.selectColumn(e,t)])}async save(e){validateDocument(this.parent),validatePixelSelection(this._docId,"store"),validateBasicType(e,"channelName","string",!0),await batchPlay([...selectionDance(this.parent),Rt.saveSelectionToNewChannel(e)])}async saveTo(e,t=F.SelectionType.REPLACE){if(validateDocument(this.parent),validateChannel(e),validateConstant(t,"Constants.SelectionType",F.SelectionType),validatePixelSelection(this._docId,"store"),isOfTypeChannelEnumValue(e.name.toLowerCase()))throw new Error(replaceAndTranslate(l));await batchPlay([...selectionDance(this.parent),Rt.saveSelectionToChannel(e.directRef,t)])}async selectBorder(e){validateDocument(this.parent),validateRange(e,"width",1,200),validatePixelSelection(this._docId,"selectBorder");const t=[...selectionDance(this.parent),Rt.border(e)];await batchPlay(t)}async smooth(e,t=!1){validateDocument(this.parent),validateRange(e,"radius",1,500),validateBasicType(t,"applyEffectAtCanvasBounds","boolean"),validatePixelSelection(this._docId,"smooth");const r=[...selectionDance(this.parent),Rt.smoothness(e,t)];await batchPlay(r)}async translateBoundary(e,t){validateRange(e,"deltaX",-3e5,3e5),validateRange(t,"deltaY",-3e5,3e5),validateDocument(this.parent),validatePixelSelection(this._docId,"translateBoundary");const r=[...selectionDance(this.parent),(0,mt.translate)(e,t,ct.ref.selection())];await batchPlay(r)}async resizeBoundary(e=100,t=100,r=F.AnchorPosition.MIDDLECENTER,n=F.InterpolationMethod.BICUBIC){validateDocument(this.parent),validatePixelSelection(this._docId,"translateBoundary"),validateConstant(r,"anchor",F.AnchorPosition),validateConstant(n,"interpolation",F.InterpolationMethod);const a=this.bounds,{width:i,height:o}=a;validateRange(i*(e/100),"horizontal",-3e5,3e5),validateRange(o*(t/100),"vertical",-3e5,3e5),batchPlay([...selectionDance(this.parent),(0,mt.resize)(e,t,getTransformCenterKeyFromAnchor(r),n,ct.ref.selection())])}async rotateBoundary(e,t=F.AnchorPosition.MIDDLECENTER,r=F.InterpolationMethod.BICUBIC){validateDocument(this.parent),validatePixelSelection(this._docId,"translateBoundary"),validateConstant(t,"anchor",F.AnchorPosition),validateConstant(r,"interpolation",F.InterpolationMethod),validateRange(e,"angle",-180,180),batchPlay([...selectionDance(this.parent),(0,mt.rotate)(e,getTransformCenterKeyFromAnchor(t),r,ct.ref.selection())])}_validateSelectionType(e){if(!this.bounds&&e!=F.SelectionType.REPLACE){const t=replaceAndTranslate(M,[`${e}`]);throw new Error(t)}}}var Ot=__webpack_require__(182);function isNumber(e){return"number"==typeof e}function validateDocument(e){if(!validateReference(H.ref.id(e.id))){const t=replaceAndTranslate(d,["$$$/Actions/Class/Document=document",String(e.id)]);throw new Error(t)}}const Mt={};function PSDocument(e){return Mt.hasOwnProperty(e)||(Mt[e]=new Document(e)),Mt[e]}class Document{constructor(e){this.saveAs={async psd(e,t,r=!1){const n=retrieveUXPFileToken(e),a=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.psd(this.id,n,{...t,annotType:t?.annotations,embedProfiles:t?.embedColorProfile,copy:r})];await batchPlay(a)},async psb(e,t,r=!1){const n=retrieveUXPFileToken(e),a=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.psb(this.id,n,{...t,annotType:t?.annotations,embedProfiles:t?.embedColorProfile,copy:r})];await batchPlay(a)},async jpg(e,t,r=!1){const n=retrieveUXPFileToken(e);let a,i;switch(t?.formatOptions??F.JPEGFormatOptions.STANDARDBASELINE){case F.JPEGFormatOptions.OPTIMIZEDBASELINE:i=!0;break;case F.JPEGFormatOptions.PROGRESSIVE:a=t?.scans??3;case F.JPEGFormatOptions.STANDARDBASELINE:}const o=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.jpg(this.id,n,{...t,...t?.color&&{color:t.color.base.desc},...t?.customMatte&&{customMatte:t.customMatte.base.desc},extendedQuality:t?.quality,embedProfiles:t?.embedColorProfile,scans:a,optimized:i,copy:r})];await batchPlay(o)},async gif(e,t,r=!1){const n=retrieveUXPFileToken(e),a=t?.palette??"selective",i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.gif(this.id,n,{...t,palette:a,copy:r})];await batchPlay(i)},async png(e,t,r=!1){const n=retrieveUXPFileToken(e),a=t?.interlaced?"PNGInterlaceAdam7":void 0,i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.png(this.id,n,{method:t?.method,PNGInterlaceType:a,compression:t?.compression,copy:r})];await batchPlay(i)},async bmp(e,t,r=!1){const n=retrieveUXPFileToken(e),a=t?.osType??"windows",i=t?.depth??"bitDepth24",o=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),H.saveAs.bmp(this.id,n,{platform:a,bitDepth:i,flipVertical:t?.flipRowOrder,compression:t?.rleCompression,alphaChannels:t?.alphaChannels,copy:r})];await batchPlay(o)}},this._id=e,this.selection=new Selection(e),this.saveAs.jpg=this.saveAs.jpg.bind(this),this.saveAs.gif=this.saveAs.gif.bind(this),this.saveAs.png=this.saveAs.png.bind(this),this.saveAs.bmp=this.saveAs.bmp.bind(this),this.saveAs.psd=this.saveAs.psd.bind(this),this.saveAs.psb=this.saveAs.psb.bind(this)}get typename(){return"Document"}get id(){return this._id}get saved(){validateDocument(this);return!batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["isDirty"]))[0].isDirty}get activeLayers(){validateDocument(this);let e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["targetLayersIDs"]))[0].targetLayersIDs;return e=e.map((e=>e._id)),new Layers(this.id,e)}get artboards(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["artboards"]))[0].artboards.list.map((e=>e.layerID));return new Layers(this.id,e)}get name(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["title"]))[0].title}get histogram(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["histogram"]))[0].histogram}get quickMaskMode(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["quickMask"]))[0].quickMask}set quickMaskMode(e){if(validateDocument(this),this.quickMaskMode===e)return;batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.quickMaskModeEvent)(H.ref.active(),e)])}get guides(){return validateDocument(this),new Guides(this._id)}get countItems(){return validateDocument(this),new CountItems(this._id)}get colorSamplers(){return validateDocument(this),new ColorSamplers(this._id)}get mode(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["mode"]))[0].mode._value;switch(e){case"grayScale":case"gray16":return F.DocumentMode.GRAYSCALE;case"RGBColor":case"RGB48":return F.DocumentMode.RGB;case"CMYKColorEnum":case"CMYK64":return F.DocumentMode.CMYK;case"labColor":case"lab48":return F.DocumentMode.LAB;case"bitmap":return F.DocumentMode.BITMAP;case"indexedColor":return F.DocumentMode.INDEXEDCOLOR;case"duotone":return F.DocumentMode.DUOTONE;case"multichannel":return F.DocumentMode.MULTICHANNEL;default:{const t=replaceAndTranslate(u,[e]);throw new Error(t)}}}get bitsPerChannel(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["depth"]))[0].depth;let t;switch(e){case 1:t=F.BitsPerChannelType.ONE;break;case 8:t=F.BitsPerChannelType.EIGHT;break;case 16:t=F.BitsPerChannelType.SIXTEEN;break;case 32:t=F.BitsPerChannelType.THIRTYTWO;break;default:{const t=replaceAndTranslate("$$$/PSUXP/Error/UnknownBitDepth=^0 bits/channel is not a known bit depth.",[String(e)]);throw new Error(t)}}return t}set bitsPerChannel(e){let t;switch(validateDocument(this),e){case F.BitsPerChannelType.ONE:if(this.bitsPerChannel!==F.BitsPerChannelType.ONE)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotSetDepthTo1Bit=You cannot set the bit depth property to one bit. To change a document to one bit, change the document mode to Bitmap."));t=1;break;case F.BitsPerChannelType.EIGHT:t=8;break;case F.BitsPerChannelType.SIXTEEN:t=16;break;case F.BitsPerChannelType.THIRTYTWO:const r=this.mode;if(r!==F.DocumentMode.GRAYSCALE&&r!==F.DocumentMode.RGB)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/CannotSetDepthTo32Bit=You cannot set the bit depth property to thirty two bit. To change a document to thirty two bit, change the document mode to Grayscale or RGB."));t=32;break;default:{const t=replaceAndTranslate("$$$/PSUXP/Error/UnsupportedBitDepth=A bit depth of ^0 is not supported.",[e]);throw new Error(t)}}if(1!==t){batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.convertBitDepth)(t)])}}get cloudDocument(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["isCloudDoc"]))[0].isCloudDoc}get cloudWorkAreaDirectory(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["cloudDocument"]))[0].cloudDocument;if(void 0===e)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/NoWorkAreaForLocalDocumentError=Only cloud documents have the cloudWorkAreaDirectory property."));return e.cloudWorkareaDirectory._path}get layers(){validateDocument(this);const e=n.getLayerTreeSync({documentID:this.id}).list.map((e=>e.layerID));return new Layers(this.id,e)}get layerComps(){return validateDocument(this),new LayerComps(this._id)}get backgroundLayer(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["hasBackgroundLayer"]))[0].hasBackgroundLayer?PSLayer(1,this.id,ht.background):null}get path(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["fileReference"]))[0];if(!e.fileReference)return"";if("local"===e.fileReference._kind)return e.fileReference._path;if("cloud"===e.fileReference._kind){return JSON.parse(e.fileReference._path).cloud_id}return""}get pathItems(){return validateDocument(this),new PathItems(this.id)}get historyStates(){return validateDocument(this),new HistoryStates(this.id)}get activeHistoryState(){validateDocument(this);const e=batchPlaySync((0,Et.getProperties)([Et.ref.active(),H.ref.id(this.id)],["ID"]));return new HistoryState(e[0].ID,this.id)}set activeHistoryState(e){validateDocument(this),validateHistoryState(e);batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,Et.select)([Et.ref.id(e.id)])])}get activeHistoryBrushSource(){return validateDocument(this),this.historyStates.find((e=>batchPlaySync((0,Et.getProperties)([Et.ref.id(e.id),H.ref.id(this.id)],["historyBrushSource"]))[0].historyBrushSource))}set activeHistoryBrushSource(e){validateDocument(this),validateHistoryState(e);batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,Et.setProperty)("historyBrushSource",Et.ref.id(e.id))])}get title(){validateDocument(this);return batchPlaySync([(0,H.getProperties)(H.ref.id(this.id),["title"])])[0].title}get resolution(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["resolution"]))[0].resolution._value}get width(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["width","resolution"])),t=e[0].width._value*(e[0].resolution._value/72);return Number(t.toFixed(0))}get height(){validateDocument(this);const e=batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["height","resolution"])),t=e[0].height._value*(e[0].resolution._value/72);return Number(t.toFixed(0))}get zoom(){validateDocument(this);return 100*batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["zoom"]))[0].zoom._value}get pixelAspectRatio(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["pixelScaleFactor"]))[0].pixelScaleFactor._value}set pixelAspectRatio(e){validateDocument(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),{_obj:"set",_target:[{_property:"pixelScaleFactor",_ref:"property"},H.ref.id(this.id)],to:{value:e}}])}get colorProfileName(){validateDocument(this);if(this.colorProfileType===F.ColorProfileType.NONE)return"None";return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["profile"]))[0].profile}set colorProfileName(e){validateDocument(this),batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),{_obj:"assignProfile",_target:H.ref.id(this.id),profile:e}])}get colorProfileType(){validateDocument(this);return batchPlaySync((0,H.getProperties)(H.ref.id(this.id),["manage"]))[0].manage._value}set colorProfileType(e){if(validateDocument(this),e===F.ColorProfileType.CUSTOM)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/DontSetColorProfileCustom=To set the document to custom color management, assign the name of the desired color profile to the 'color profile name' property."));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),{_obj:"assignProfile",_target:H.ref.id(this.id),manage:e===F.ColorProfileType.WORKING}])}async close(e=F.SaveOptions.PROMPTTOSAVECHANGES){validateDocument(this);const t=er.activeDocument,r=this.id===t.id;if(e===F.SaveOptions.PROMPTTOSAVECHANGES){const e=(0,H.close)();e._options={dialogOptions:"display"};const t=[r?(0,yt.idle)():(0,H.saveDocumentSelection)(),r?(0,yt.idle)():(0,H.select)(H.ref.id(this.id)),e];await batchPlay(t,{dialogOptions:"display"})}else{const t=e===F.SaveOptions.SAVECHANGES,n=[r?(0,yt.idle)():(0,H.saveDocumentSelection)(),r?(0,yt.idle)():(0,H.select)(H.ref.id(this.id)),(0,H.close)(t)];await batchPlay(n)}}closeWithoutSaving(){validateDocument(this);batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.close)(!1)],{dialogOptions:"dontDisplay",modalBehavior:"execute"})}async crop(e,t=0,r=0,n=0){validateDocument(this);const a=["left","right","bottom","top"];for(const t of a)if(!e.hasOwnProperty(t))throw Error(`Rectangle does not contain key: ${t}`);const i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.crop)(e,t,r,n)];await batchPlay(i)}async flatten(){validateDocument(this);const e=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.flattenImage)()];await batchPlay(e)}async duplicate(e,t){validateDocument(this);const r=[(0,H.select)(H.ref.id(this.id)),(0,H.duplicate)(H.ref.id(this.id),e,!1,t)];return PSDocument((await batchPlay(r))[1].documentID)}async mergeVisibleLayers(){validateDocument(this);const e=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.mergeVisible)()];await batchPlay(e)}async splitChannels(){const e=er.activeDocument,t=this.id===e.id,r=[t?(0,yt.idle)():(0,H.saveDocumentSelection)(),t?(0,yt.idle)():(0,H.select)(H.ref.id(this.id)),(0,H.splitChannels)()];return(await batchPlay(r))[2].documentIDs.map((e=>PSDocument(e)))}async revealAll(){validateDocument(this);const e=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.revealAll)()];await batchPlay(e)}async rasterizeAllLayers(){validateDocument(this);const e=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.rasterizeAll)()];await batchPlay(e)}async changeMode(e,t){validateDocument(this);let r={_obj:"convertMode",flatten:!1,to:{_class:e}},a={_obj:"idle"};if(e===F.ChangeMode.GRAYSCALE)r.ratio=1;else if(e===F.ChangeMode.BITMAP){if(!t)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/ConvertToBitmapRequiresOptions=The specified conversion to bitmap mode requires conversion options."));const e=function createBitmapConversionDescriptor(e){const t={resolution:{_unit:"densityUnit",_value:e.resolution},method:{_enum:"method",_value:e.method}};switch(e.method){case F.BitmapConversionType.CUSTOMPATTERN:Object.assign(t,{name:e.patternName});break;case F.BitmapConversionType.HALFTONESCREEN:Object.assign(t,{frequency:{_unit:"densityUnit",_value:e.frequency},angle:{_unit:"angleUnit",_value:e.angle},shape:{_enum:"shape",_value:e.shape}})}return t}(t);Object.assign(r,e)}else if(e===F.ChangeMode.INDEXEDCOLOR){a=(0,H.flattenImage)();const e=this.mode;if(!t&&e!=F.DocumentMode.DUOTONE&&e!=F.DocumentMode.GRAYSCALE&&e!=F.DocumentMode.INDEXEDCOLOR)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/ConvertToIndexedRequiresOptions=The specified conversion to indexed color mode requires conversion options."));if(t){const e=function createIndexedConversionDescriptor(e){let t={};const r={palette:{_enum:"colorPalette",_value:e.palette}};if(Object.assign(t,r),e.colors&&Object.assign(t,{colors:e.colors}),e.forced&&Object.assign(t,{forcedColors:{_enum:"forcedColors",_value:e.forced}}),e.transparency&&Object.assign(t,{transparency:e.transparency}),e.matte&&Object.assign(t,{matteColor:{_enum:"matteColor",_value:e.matte}}),e.dither){switch(e.dither){case F.Dither.NONE:break;case F.Dither.PATTERN:case F.Dither.DIFFUSION:case F.Dither.NOISE:Object.assign(t,{dither:{_enum:"dither",_value:e.dither}});break;default:{const t=replaceAndTranslate(g,[e.dither,"Constants.Dither"]);throw new Error(t)}}e.dither===F.Dither.DIFFUSION&&Object.assign(t,{ditherAmount:e.ditherAmount})}return e.preserveExactColors&&Object.assign(t,{ditherPreserve:e.preserveExactColors}),t}(t);Object.assign(r,e)}}const i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),a,r];await batchPlay(i)}async convertProfile(e,t,r,n){if(e===this.colorProfileName)return;void 0===n&&(n=!0);const a={_obj:"convertToProfile",_target:H.ref.id(this.id),flatten:!1,dither:n,intent:{_enum:"intent",_value:t}};switch(e){case"Working RGB":a.toMode={_class:"RGBColorMode"};break;case"Working CMYK":a.toMode={_class:"CMYKColorMode"};break;case"Working Gray":a.toMode={_class:"grayscaleMode"};break;case"Lab Color":a.toMode={_class:"labColorMode"};break;default:a.to=e}void 0!==r&&(a.mapBlack=r);const i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),a];await batchPlay(i)}async trap(e){const t=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.flattenImage)(),{_obj:"trap",width:{_unit:"pixelsUnit",_value:e}}];await batchPlay(t)}async resizeCanvas(e,t,r){validateDocument(this);const n=isNumber(e)?at.Pixel(e):e,a=isNumber(t)?at.Pixel(t):t,i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.resizeCanvas)({width:n,height:a},(e=>{const h=e=>({_enum:"horizontalLocation",_value:e}),v=e=>({_enum:"verticalLocation",_value:e});switch(e){case F.AnchorPosition.BOTTOMCENTER:return{horizontal:h("center"),vertical:v("bottomEnum")};case F.AnchorPosition.BOTTOMLEFT:return{horizontal:h("left"),vertical:v("bottomEnum")};case F.AnchorPosition.BOTTOMRIGHT:return{horizontal:h("right"),vertical:v("bottomEnum")};case F.AnchorPosition.MIDDLECENTER:return{horizontal:h("center"),vertical:v("center")};case F.AnchorPosition.MIDDLELEFT:return{horizontal:h("left"),vertical:v("center")};case F.AnchorPosition.MIDDLERIGHT:return{horizontal:h("right"),vertical:v("center")};case F.AnchorPosition.TOPCENTER:return{horizontal:h("center"),vertical:v("top")};case F.AnchorPosition.TOPLEFT:return{horizontal:h("left"),vertical:v("top")};case F.AnchorPosition.TOPRIGHT:return{horizontal:h("right"),vertical:v("top")};default:return{horizontal:h("center"),vertical:v("center")}}})(r))];await batchPlay(i)}async resizeImage(e,t,r,a,i){let o,s,l;validateDocument(this);const c=void 0!==a&&Object.values(F.ResampleMethod).includes(a)?a:F.ResampleMethod.AUTOMATIC;if(c===F.ResampleMethod.NONE)throw new Error(n.translateUIString("$$$/PSUXP/Error/UnsupportedSamplingMethod=Sampling method of type ^{none^} is currently unsupported."));void 0!==e&&(o={_unit:"pixelsUnit",_value:e}),void 0!==t&&(s={_unit:"pixelsUnit",_value:t}),void 0!==r&&(l={_unit:"densityUnit",_value:r});const d={_enum:"interpolationType",_value:c};let u=(0,H.resizeImage)(o,s,l,d);u.constrainProportions=void 0===e||void 0===t,c!==F.ResampleMethod.PRESERVEDETAILS&&c!==F.ResampleMethod.DEEPUPSCALE||void 0===i||(u.noise=i);const p=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),u];await batchPlay(p)}async trim(e,t=!0,r=!0,n=!0,a=!0){validateDocument(this);const i=function getTrimTypeKeyFromAnchor(e){switch(e){case F.TrimType.BOTTOMRIGHT:return"bottomRightPixelColor";case F.TrimType.TOPLEFT:return"topLeftPixelColor";case F.TrimType.TRANSPARENT:return"transparency";case void 0:return"topLeftPixelColor";default:{const t=replaceAndTranslate(g,[e,"Constants.TrimType"]);throw new Error(t)}}}(e),o=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.trim)(i,t,r,n,a)];await batchPlay(o)}async rotate(e){validateDocument(this);const t=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.rotate)(H.ref.active(),at.Angle(e))];await batchPlay(t)}async paste(e){validateDocument(this);const t=batchPlay([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.paste)(e)]);return t[2]?.layerID?PSLayer(t[2].layerID,this.id):null}async save(){validateDocument(this);const e=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,H.saveDocumentDialog)()];await batchPlay(e)}async duplicateLayers(e,t){if(!Array.isArray(e))throw new Error(n.translateUIString(p));validateDocument(this),t&&validateDocument(t),e.forEach(validateLayer);const r=void 0!==t?H.ref.id(t.id):void 0,a=e.map((e=>$.ref.id(e.id))),i=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,$.duplicate)(a,r),(0,H.getProperties)(H.ref.active(),["targetLayersIDs"])],o=(await batchPlay(i))[3]?.targetLayersIDs;return o.map((e=>PSLayer(e._id,this.id)))}linkLayers(e){if(validateDocument(this),e.forEach(validateLayer),e.length<2)return[];const t=$.ref.id(e[0].id),r=e.map((e=>e.id)).slice(1).map((e=>$.ref.id(e)));return batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,$.link)(t,r)]),e[0].linkedLayers}async createLayer(e,t){switch(void 0===e&&(e=F.LayerKind.NORMAL),"object"==typeof e&&(t=e,e=F.LayerKind.NORMAL),validateConstant(e,"Constants.LayerKind",F.LayerKind),e){case F.LayerKind.NORMAL:return this.createPixelLayer(t);case F.LayerKind.TEXT:return this.createTextLayer(t);case F.LayerKind.GROUP:return this.createLayerGroup(t);default:throw new Error(`Unknown kind ${e} somehow passed validation.`)}}async createPixelLayer(e){validateDocument(this),e&&(e={...e}).blendMode&&(e.mode=e.blendMode,delete e.blendMode);const t=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,$.select)([$.ref.front()]),(0,$.makeLayer)(e)],r=await batchPlay(t);return r[3]?.layerID?PSLayer(r[3].layerID,this.id):null}async createTextLayer(e){validateDocument(this);const t={...e};t?.blendMode&&(validateConstant(t.blendMode,"Constants.BlendMode",F.BlendMode),t.mode=t.blendMode,delete t.blendMode);const r=function validateTextLayerOptions(e,t,r){const n={position:{x:50,y:50},fontSize:12,contents:"Lorem Ipsum"};e.hasOwnProperty("name")&&e.name&&validateBasicType(e.name,"name","string");e.hasOwnProperty("group")&&e.group&&validateBasicType(e.group,"group","boolean");e.hasOwnProperty("color")&&e.color&&validateConstant(e.color,"Constants.LabelColors",F.LabelColors);e.hasOwnProperty("opacity")&&e.opacity&&validateRange(e.opacity,"opacity",0,100);e.position?(validateObjectProperties(e.position,"position",["x","y"]),validateBasicType(e.position.x,"position.x","number"),validateBasicType(e.position.y,"position.y","number"),e.position={...e.position},e.position.x=e.position.x/t*100,e.position.y=e.position.y/r*100):e.position={x:n.position.x,y:n.position.y};e.hasOwnProperty("contents")&&e.contents?validateBasicType(e.contents,"contents","string"):e.contents=n.contents;e.hasOwnProperty("textColor")&&e.textColor&&validateSolidColor(e.textColor,"textColor");e.hasOwnProperty("fontSize")&&e.fontSize?validateBasicType(e.fontSize,"fontSize","number"):e.fontSize=n.fontSize;e.hasOwnProperty("fontName")&&e.fontName&&validateBasicType(e.fontName,"fontName","string");return e}({...t},this.width,this.height),n=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,$.makeTextLayer)(r)],a=await batchPlay(n);return a[2]?.layerID?PSLayer(a[2].layerID,this.id):null}async createLayerGroup(e){let t;validateDocument(this),e&&(e={...e}),e?.blendMode&&(e.mode=e.blendMode,delete e.blendMode);let r=(0,$.select)([$.ref.selected()]);e?.fromLayers&&(Array.isArray(e.fromLayers)?(e.fromLayers.forEach(validateLayer),r=(0,$.select)(e.fromLayers.map((e=>$.ref.id(e.id))))):(validateLayer(e.fromLayers),r=(0,$.select)([$.ref.id(e.fromLayers.id)])),t=$.ref.selected(),delete e.fromLayers);const n=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),r,(0,$.makeGroup)({...e,from:t})],a=await batchPlay(n);return a[3]?.layerSectionStart?PSLayer(a[3].layerSectionStart,this.id,ht.group):null}async groupLayers(e){validateDocument(this),e.forEach(validateLayer);const t=e.map((e=>$.ref.id(e.id))),r=[(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),(0,$.saveLayerSelection)(),(0,$.select)(t),(0,$.makeGroup)({from:$.ref.selected()})],n=await batchPlay(r);return n[4]?.layerSectionStart?PSLayer(n[4].layerSectionStart,this.id,ht.group):null}async suspendHistory(e,t){return n.executeAsModal((async r=>{const n=await r.hostControl.suspendHistory({name:t,documentID:this._id}),a={...r,document:this};delete a.hostControl,await e(a),await r.hostControl.resumeHistory(n)}),{commandName:t})}async sampleColor(e){validateDocument(this),validateRange(e.x,"position.x",0,this.width-1),validateRange(e.y,"position.y",0,this.height-1);const t=(await batchPlay([(0,H.samplePoint)(H.ref.id(this.id),e)]))[0];return t.sampledData?SolidColor.fromDesc(t.colorSampler):new NoColor}async calculations(e){validateColorMode(this,V,"Document calculations"),validateDocument(this),function validateCalculationsOptions(e){validateObjectProperties(e,"calculationsOptions",["source1","source2","result"]),validateObjectProperties(e.source1,"calculationsOptions.source1",["document","layer","channel"]),validateObjectProperties(e.source2,"calculationsOptions.source2",["document","layer","channel"]),validateCalculationsSource(e.source1),validateCalculationsSource(e.source2),"mask"in e&&validateCalculationsSource(e.mask);const t=e.source1.document,r=e.source2.document;if(t.width!==r.width||t.height!==r.height)throw new DOMError(x);validateConstant(e.result,"Constants.CalculationsResult",F.CalculationsResult),"opacity"in e&&validateRange(e.opacity,"calculationsOptions.opacity",0,100),"blending"in e&&validateConstant(e.blending,"Constants.CalculationsBlendMode",F.CalculationsBlendMode)}(e);const[t,r,n,a]=extractCalculationsSourceRefs(e.source1),[i,o,s,l]=extractCalculationsSourceRefs(e.source2),c=e?.blending??F.CalculationsBlendMode.MULTIPLY,d=e?.opacity??100;var u,p,y,m;e?.mask&&([u,p,y,m]=extractCalculationsSourceRefs(e.mask));const g=(0,Ot.applyCalculations)([n,r,t],a,[s,o,i],l,c,d,e.result,e?.mask&&[y,p,u],m),f=await batchPlay([g]);if("error"===f[0]?._obj)throw new DOMError(f[0].message);switch(e.result){case F.CalculationsResult.NEWDOCUMENT:return er.documents[er.documents.length-1];case F.CalculationsResult.NEWCHANNEL:return this.channels[this.channels.length-1];case F.CalculationsResult.SELECTION:return;default:{const t=e.result;throw new DOMError(t)}}}get channels(){return new Channels(this.id)}get componentChannels(){validateDocument(this);return getImageModeChannelEnums(this).map((e=>PSChannel(this.id,e)))}get compositeChannels(){return this.componentChannels}get activeChannels(){validateDocument(this);const e=getImageModeChannelEnums(this),t=[(0,$.getProperties)($.ref.selected(),["targetChannels"]),(0,ct.getPropertiesRange)(["ID"])],[r,a]=batchPlaySync(t);if(!Array.isArray(r.targetChannels)||!Array.isArray(a.list))throw new Error(n.translateUIString(p));return Array.from(r.targetChannels,(t=>{if(!t.hasOwnProperty("_index")||t._index>a.list.length)throw new Error(n.translateUIString("$$$/PSUXP/Error/UnknownActiveChannels=Unknown or unsupported active channels."));const r=a.list[t._index-1];if(r.hasOwnProperty("ID"))return PSChannel(this._id,r.ID);{const r=e[t._index-1];return PSChannel(this._id,r)}}))}set activeChannels(e){if(!Array.isArray(e)||e.length<1)throw new Error(n.translateUIString(p));validateDocument(this),e.forEach((e=>validateChannel(e)));const t=e.map(((e,t)=>(0,ct.select)(e.activeDocRef,0!==t)));batchPlaySync([(0,H.saveDocumentSelection)(),(0,H.select)(H.ref.id(this.id)),...t])}}const xt=2.54,Nt=25.4,Bt=72;let kt=[];function unitDescToPixelUnitValue(e,t){const r=PSDocument(t).resolution;if("pixelsUnit"===e._unit)return e._value;{let t={centimetersUnit:F.Units.CM,millimetersUnit:F.Units.MM,inchesUnit:F.Units.INCHES,picasUnit:F.Units.PICAS,pointsUnit:F.Units.POINTS}[e._unit];return kt[t][F.Units.PIXELS](e._value,r)}}kt[F.Units.CM]=[],kt[F.Units.INCHES]=[],kt[F.Units.MM]=[],kt[F.Units.PICAS]=[],kt[F.Units.POINTS]=[],kt[F.Units.PIXELS]=[],kt[F.Units.INCHES][F.Units.CM]=e=>e*xt,kt[F.Units.INCHES][F.Units.MM]=e=>e*Nt,kt[F.Units.INCHES][F.Units.PICAS]=e=>6*e,kt[F.Units.INCHES][F.Units.POINTS]=e=>e*Bt,kt[F.Units.INCHES][F.Units.PIXELS]=(e,t)=>e*t,kt[F.Units.MM][F.Units.CM]=e=>e/10,kt[F.Units.MM][F.Units.INCHES]=e=>e/Nt,kt[F.Units.MM][F.Units.PICAS]=e=>e/Nt*6,kt[F.Units.MM][F.Units.POINTS]=e=>e/Nt*Bt,kt[F.Units.MM][F.Units.PIXELS]=(e,t)=>e/Nt*t,kt[F.Units.CM][F.Units.INCHES]=e=>e/xt,kt[F.Units.CM][F.Units.MM]=e=>10*e,kt[F.Units.CM][F.Units.PICAS]=e=>6*e/xt,kt[F.Units.CM][F.Units.POINTS]=e=>e/xt*Bt,kt[F.Units.CM][F.Units.PIXELS]=(e,t)=>e/xt*t,kt[F.Units.PICAS][F.Units.INCHES]=e=>e/6,kt[F.Units.PICAS][F.Units.CM]=e=>e*xt/6,kt[F.Units.PICAS][F.Units.MM]=e=>e/6*Nt,kt[F.Units.PICAS][F.Units.POINTS]=e=>12*e,kt[F.Units.PICAS][F.Units.PIXELS]=(e,t)=>e*t/6,kt[F.Units.POINTS][F.Units.INCHES]=e=>e/Bt,kt[F.Units.POINTS][F.Units.CM]=e=>e/Bt*xt,kt[F.Units.POINTS][F.Units.MM]=e=>e/Bt*Nt,kt[F.Units.POINTS][F.Units.PICAS]=e=>e/12,kt[F.Units.POINTS][F.Units.PIXELS]=(e,t)=>e/Bt*t,kt[F.Units.PIXELS][F.Units.INCHES]=(e,t)=>e/t,kt[F.Units.PIXELS][F.Units.MM]=(e,t)=>e/t*Nt,kt[F.Units.PIXELS][F.Units.CM]=(e,t)=>e/t*xt,kt[F.Units.PIXELS][F.Units.PICAS]=(e,t)=>e/t*6,kt[F.Units.PIXELS][F.Units.POINTS]=(e,t)=>e/t*Bt;var Ut=__webpack_require__(817),Gt=__webpack_require__(979);function validateActionSet(e){if(!validateReference(Ut.iH.id(e.id))){const e=replaceAndTranslate(c,["$$$/Actions/Class/Action=action","$$$/Actions/Class/ActionSet=set"]);throw new Error(e)}}const jt={};function PSActionSet(e){return jt.hasOwnProperty(e)||(jt[e]=new ActionSet(e)),jt[e]}const Ft={};function PSAction(e){return Ft.hasOwnProperty(e)||(Ft[e]=new Action(e)),Ft[e]}class ActionSet{constructor(e){this._id=e}get typename(){return"ActionSet"}get index(){return validateActionSet(this),batchPlaySync((0,Ut.$s)(["itemIndex"],Ut.iH.id(this._id)))[0].itemIndex-1}get id(){return this._id}get name(){validateActionSet(this);return batchPlaySync((0,Ut.$s)(["name"],Ut.iH.id(this._id)))[0].name}set name(e){validateActionSet(this),batchPlaySync((0,Ut.PQ)(Ut.iH.id(this._id),e))}get actions(){validateActionSet(this);return batchPlaySync([(0,Gt.zM)(["ID"],Ut.iH.id(this._id))])[0].list.map((e=>PSAction(e.ID)))}delete(){validateActionSet(this),batchPlaySync((0,Ut.Od)(Ut.iH.id(this._id)))}duplicate(){validateActionSet(this),batchPlaySync((0,Ut.OM)(Ut.iH.id(this._id)));const e=this.index+2;return PSActionSet(batchPlaySync((0,Ut.$s)(["ID"],Ut.iH.index(e)))[0].ID)}async play(){validateActionSet(this),await batchPlay((0,Ut.hY)(Ut.iH.index(this._id)))}}function validateAction(e){if(!validateReference(Gt.iH.id(e.id))){const t=replaceAndTranslate(d,["$$$/Actions/Class/Action=action",String(e.id)]);throw new Error(t)}}class Action{constructor(e){this._id=e}get typename(){return"Action"}get id(){return this._id}get index(){return validateAction(this),batchPlaySync((0,Gt.$s)(["itemIndex"],Gt.iH.id(this._id)))[0].itemIndex-1}get name(){validateAction(this);return batchPlaySync((0,Gt.$s)(["name"],Gt.iH.id(this._id)))[0].name}set name(e){validateAction(this),batchPlaySync((0,Gt.PQ)(Gt.iH.id(this._id),e))}get parent(){validateAction(this);const e=batchPlaySync((0,Gt.$s)(["parentIndex"],Gt.iH.id(this._id)))[0].parentIndex;return PSActionSet(batchPlaySync((0,Ut.$s)(["ID"],Ut.iH.index(e)))[0].ID)}delete(){validateAction(this),batchPlaySync((0,Gt.Od)(Gt.iH.id(this._id)))}async play(){validateAction(this),await batchPlay((0,Gt.hY)(Gt.iH.id(this._id)))}duplicate(){validateAction(this),batchPlaySync((0,Gt.OM)(Gt.iH.id(this._id)));return PSAction(batchPlaySync((0,Gt.$s)(["ID"],Gt.iH.selected()))[0].ID)}}class Documents extends Array{constructor(){return super(),Object.setPrototypeOf(this,Documents.prototype),this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"Documents";if("length"===t){const e=batchPlaySync((0,H.getProperties)(H.ref.active(),["count"]))[0].count;return e||0}if("getByName"===t)return e=>{const t=batchPlaySync((0,H.getProperties)(H.ref.name(e),["documentID"]))[0].documentID;return t?PSDocument(t):null};if("add"===t)return er.createDocument;if("parent"===t)return er;if("typename"===t)return"Documents";if("function"==typeof Array.prototype[t]){const e=batchPlaySync([(0,H.getPropertiesRange)(["documentID"],1,-1)])[0].list;return Array.prototype[t].bind(e.map((e=>PSDocument(e.documentID))))}if(t===parseInt(t).toString()){const e=batchPlaySync((0,H.getProperties)(H.ref.index(parseInt(t)+1),["documentID"]))[0].documentID;return e?PSDocument(e):void 0}}}}getByName(e){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}get typename(){throw new Error(n.translateUIString(L))}async add(e){throw new Error(n.translateUIString(L))}}class TextFont{constructor(e,t,r,n){this._family=e,this._name=t,this._postScriptName=r,this._style=n,this._parent=er}get family(){return this._family}get name(){return this._name}get parent(){return this._parent}get postScriptName(){return this._postScriptName}get style(){return this._style}get typename(){return"TextFont"}}class TextFonts extends Array{constructor(){return super(),Object.setPrototypeOf(this,TextFonts.prototype),this.proxy=new Proxy([],this.handler()),this.proxy}handler(){return{get:(e,t)=>{if(t===Symbol.toPrimitive)return()=>"TextFonts";if("length"===t){return batchPlaySync((0,yt.getPropertyWithOptions)("fontList"))[0].fontList?.fontName?.length??0}if("getByName"===t)return e=>{const t=batchPlaySync((0,yt.findFontByName)(e))[0];return t.fontPostScriptName?new TextFont(t.fontFamilyName,t.fontName,t.fontPostScriptName,t.fontStyleName):null};if("parent"===t)return er;if("typename"===t)return"TextFonts";if("function"==typeof Array.prototype[t]){const e=batchPlaySync((0,yt.getPropertyWithOptions)("fontList"))[0].fontList;return Array.prototype[t].bind(e.fontPostScriptName.map(((t,r)=>new TextFont(e.fontFamilyName[r],e.fontName[r],t,e.fontStyleName[r]))))}if(t===parseInt(t).toString()){if(t<0)return null;const e=batchPlaySync((0,yt.getPropertyWithOptions)("fontList"))[0].fontList;return t>e.fontName.length?null:new TextFont(e.fontFamilyName[t],e.fontName[t],e.fontPostScriptName[t],e.fontStyleName[t])}}}}getByName(e){throw new Error(n.translateUIString(L))}get length(){throw new Error(n.translateUIString(L))}get parent(){throw new Error(n.translateUIString(L))}get typename(){throw new Error(n.translateUIString(L))}}class PreferencesBase{constructor(){}getProperty(e){const t=batchPlaySync((0,yt.getProperties)([e]));if("error"===t?.[0]._obj)throw new Error(t?.[0].message);if(!(e in t?.[0]??1))throw new Error(replaceAndTranslate("$$$/PSUXP/Error/MissingPropertyInApp=Property '^0' not found in application class.",[e]));return t[0][e]}setProperty(e,t){const r=batchPlaySync((0,yt.setPreferences)(e,t));if("error"===r?.[0]._obj)throw new Error(r?.[0].message)}}const Ht=new class PreferencesGeneral extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesGeneral"}set colorPicker(e){const{type:t,pluginID:r}=e;validateConstant(t,"Constants.ColorPicker",F.ColorPicker);const n={colorPickerPrefs:{_obj:"colorPickerPrefsClass",pickerKind:{_enum:"pickerKindType",_value:t}}};if(t===F.ColorPicker.PLUGIN&&(validateBasicType(r,"colorPickerID","string"),n.colorPickerPrefs.pickerID=r),this.setProperty("generalPreferences",n),t===F.ColorPicker.PLUGIN&&this.colorPicker.type!==F.ColorPicker.PLUGIN){const e=replaceAndTranslate("$$$/PSUXP/Error/ColorPickerPlugin=Photoshop failed to set plugin color picker. Please make sure that color picker plugin is installed and provided colorPickerID:'^0' is correct.",[r]);throw new Error(e)}}get colorPicker(){const e=this.getProperty("colorPickerPrefs"),t=e.pickerKind._value,r=e.pickerID||null;let n={type:t};return r&&(n.pluginID=r),n}get imageInterpolation(){return this.getProperty("interpolationMethod")._value}set imageInterpolation(e){validateConstant(e,"Constants.InterpolationMethod",F.InterpolationMethod),this.setProperty("generalPreferences",{interpolationMethod:{_enum:"interpolationType",_value:e}})}get exportClipboard(){return this.getProperty("generalPreferences").exportClipboard}set exportClipboard(e){validateBasicType(e,"exportClipboard","boolean"),this.setProperty("generalPreferences",{exportClipboard:e})}get autoUpdateOpenDocuments(){return this.getProperty("generalPreferences").autoUpdateFiles}set autoUpdateOpenDocuments(e){validateBasicType(e,"autoUpdateOpenDocuments","boolean"),this.setProperty("generalPreferences",{autoUpdateFiles:e})}get beepWhenDone(){return this.getProperty("generalPreferences").beepWhenDone}set beepWhenDone(e){validateBasicType(e,"beepWhenDone","boolean"),this.setProperty("generalPreferences",{beepWhenDone:e})}};const $t=new class PreferencesCursors extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesCursors"}get paintingCursors(){const e=this.getProperty("displayPrefs"),t=e.paintingCursors._value;return"fullSize"===e.cursorShape._value?F.PaintingCursors.FULLSIZE:t}set paintingCursors(e){validateConstant(e,"Constants.PaintingCursors",F.PaintingCursors),this.setProperty("displayPrefs",{paintingCursors:{_enum:"cursorKind",_value:e===F.PaintingCursors.FULLSIZE?F.PaintingCursors.BRUSHSIZE:e},cursorShape:{_enum:"cursorShape",_value:e===F.PaintingCursors.FULLSIZE?"fullSize":"normal"}})}get otherCursors(){return this.getProperty("displayPrefs").otherCursors._value}set otherCursors(e){validateConstant(e,"Constants.OtherPaintingCursors",F.OtherCursors),this.setProperty("displayPrefs",{otherCursors:{_enum:"cursorKind",_value:e}})}};const Vt=new class PreferencesFileHandling extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesFileHandling"}get imagePreviews(){return this.getProperty("fileSavePrefs").previewsQuery._value}set imagePreviews(e){validateConstant(e,"Constants.SavePreview",F.SavePreview),this.setProperty("fileSavePrefs",{previewsQuery:{_enum:"queryState",_value:e}})}get useLowerCaseExtension(){return this.getProperty("fileSavePrefs").lowerCase}set useLowerCaseExtension(e){validateBasicType(e,"useLowerCaseExtension","boolean"),this.setProperty("fileSavePrefs",{lowerCase:e})}get askBeforeSavingLayeredTIFF(){return this.getProperty("fileSavePrefs").askLayeredTIFF}set askBeforeSavingLayeredTIFF(e){validateBasicType(e,"askBeforeSavingLayeredTIFF","boolean"),this.setProperty("fileSavePrefs",{askLayeredTIFF:e})}get maximizeCompatibility(){return this.getProperty("fileSavePrefs").maximizeCompatibility._value}set maximizeCompatibility(e){validateConstant(e,"Constants.MaximizeCompatibility",F.MaximizeCompatibility),this.setProperty("fileSavePrefs",{maximizeCompatibility:{_enum:"queryState",_value:e}})}get recentFileListMaximum(){return this.getProperty("fileSavePrefs").recentFiles}set recentFileListMaximum(e){validateRange(e=Math.trunc(e),"recentFileListLength",0,100),this.setProperty("fileSavePrefs",{recentFiles:e})}};const Wt=new class PreferencesGuidesGridsAndSlices extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesGuidesGridsAndSlices"}get guideStyle(){return this.getProperty("guidesPrefs").guidesStyle._value}set guideStyle(e){validateConstant(e,"Constants.GuideLineStyle",F.GuideLineStyle),this.setProperty("guidesPrefs",{guidesStyle:{_enum:"guideGridStyle",_value:e}})}get gridStyle(){return this.getProperty("guidesPrefs").gridStyle._value}set gridStyle(e){validateConstant(e,"Constants.GridLineStyle",F.GridLineStyle),this.setProperty("guidesPrefs",{gridStyle:{_enum:"guideGridStyle",_value:e}})}get gridSubDivisions(){return this.getProperty("guidesPrefs").gradientClassEvent}set gridSubDivisions(e){validateRange(e=Math.trunc(e),"gridSubDivisions",1,100),this.setProperty("guidesPrefs",{gradientClassEvent:e})}get showSliceNumber(){return this.getProperty("guidesPrefs").showSliceNumbers}set showSliceNumber(e){validateBasicType(e,"showSliceNumber","boolean"),this.setProperty("guidesPrefs",{showSliceNumbers:e})}};const zt=new class PreferencesHistory extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesHistory"}get createFirstSnapshot(){return this.getProperty("historyPreferences").snapshotInitial}set createFirstSnapshot(e){validateBasicType(e,"createFirstSnapshot","boolean"),this.setProperty("historyPreferences",{snapshotInitial:e})}get nonLinearHistory(){return this.getProperty("historyPreferences").nonLinear}set nonLinearHistory(e){validateBasicType(e,"nonLinearHistory","boolean"),this.setProperty("historyPreferences",{nonLinear:e})}get numberOfHistoryStates(){return this.getProperty("historyPreferences").maximumStates}set numberOfHistoryStates(e){validateRange(e=Math.trunc(e),"numberOfHistoryStates",1,1e3),this.setProperty("historyPreferences",{maximumStates:e})}get useHistoryLog(){return this.getProperty("generalPreferences").historyLog}set useHistoryLog(e){validateBasicType(e,"useHistoryLog","boolean"),this.setProperty("generalPreferences",{historyLog:e})}get editLogItems(){return this.getProperty("generalPreferences").editLogItems._value}set editLogItems(e){validateConstant(e,"Constants.EditLogItemsType",F.EditLogItemsType),this.setProperty("generalPreferences",{historyLog:!0,editLogItems:{_enum:"saveHistoryToType",_value:e}})}get saveLogItems(){return this.getProperty("generalPreferences").saveHistoryTo._value}set saveLogItems(e){validateConstant(e,"Constants.SaveLogItemsType",F.SaveLogItemsType),this.setProperty("historyLogPreferences",{historyLog:!0,saveHistoryTo:{_enum:"saveHistoryToType",_value:e}})}};const Kt=new class PreferencesInterface extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesInterface"}get dynamicColorSliders(){return this.getProperty("interfacePrefs").dynamicColorSliders}set dynamicColorSliders(e){validateBasicType(e,"dynamicColorSliders","boolean"),this.setProperty("interfacePrefs",{dynamicColorSliders:e})}get textFontSize(){return this.getProperty("interfacePrefs").paletteEnhancedFontTypeKey._value}set textFontSize(e){validateConstant(e,"Constants.FontSize",F.FontSize),this.setProperty("interfacePrefs",{paletteEnhancedFontTypeKey:{_enum:"paletteFontType",_value:e}})}get colorChannelsInColor(){return this.getProperty("interfacePrefs").colorChannels}set colorChannelsInColor(e){validateBasicType(e,"colorChannelsInColor","boolean"),this.setProperty("interfacePrefs",{colorChannels:e})}};const Xt=new class PreferencesPerformance extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesPerformance"}get imageCacheLevels(){return this.getProperty("cachePrefs").numberOfCacheLevels64}set imageCacheLevels(e){validateRange(e=Math.trunc(e),"imageCacheLevels",1,8),this.setProperty("cachePrefs",{numberOfCacheLevels64:e})}get maxRAMuse(){return this.getProperty("cachePrefs").memoryUsagePercent._value}set maxRAMuse(e){validateRange(e=Math.trunc(e),"maxRAMuse",2,99),this.setProperty("cachePrefs",{memoryUsagePercent:{_unit:"percentUnit",_value:e}})}};const Yt=new class PreferencesTools extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesTools"}get showToolTips(){return this.getProperty("showToolTips")}set showToolTips(e){validateBasicType(e,"showToolTips","boolean"),this.setProperty("toolsPreferences",{showToolTips:e})}get useShiftKeyForToolSwitch(){return this.getProperty("toolsPreferences").shiftKeyToolSwitch}set useShiftKeyForToolSwitch(e){validateBasicType(e,"useShiftKeyForToolSwitch","boolean"),this.setProperty("toolsPreferences",{shiftKeyToolSwitch:e})}get keyboardZoomResizesWindows(){return this.getProperty("toolsPreferences").resizeWindowsOnZoom}set keyboardZoomResizesWindows(e){validateBasicType(e,"keyboardZoomResizesWindows","boolean"),this.setProperty("toolsPreferences",{resizeWindowsOnZoom:e})}};const qt=new class PreferencesTransparencyAndGamut extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesTransparencyAndGamut"}get gridSize(){return this.getProperty("transparencyPrefs").transparencyGamutPreferences._value}set gridSize(e){validateConstant(e,"Constants.GridSize",F.GridSize),this.setProperty("transparencyPrefs",{transparencyGamutPreferences:{_enum:"transparencyGamutPreferences",_value:e}})}get gamutWarningOpacity(){return this.getProperty("transparencyPrefs").opacity._value}set gamutWarningOpacity(e){validateRange(e,"gamutWarningOpacity",1,100),this.setProperty("transparencyPrefs",{opacity:{_unit:"percentUnit",_value:e}})}};const Qt=new class PreferencesType extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesType"}get showTextFeatures(){return this.getProperty("typePreferences").textComposerChoice._value}set showTextFeatures(e){validateConstant(e,"showTextFeatures",F.TypeInterfaceFeatures),this.setProperty("generalPreferences",{textComposerChoice:{_enum:"textCompMode",_value:e}})}get showEnglishFontNames(){return this.getProperty("typePreferences").showEnglishFontNames}set showEnglishFontNames(e){validateBasicType(e,"showEnglishFontNames","boolean"),this.setProperty("typePreferences",{showEnglishFontNames:e})}get smartQuotes(){return this.getProperty("typePreferences").smartQuotes}set smartQuotes(e){validateBasicType(e,"smartQuotes","boolean"),this.setProperty("typePreferences",{smartQuotes:e})}};const Jt=new class PreferencesUnitsAndRulers extends PreferencesBase{constructor(){super()}get typename(){return"PreferencesUnitsAndRulers"}get rulerUnits(){return this.getProperty("rulerUnits")._value}set rulerUnits(e){validateConstant(e,"Constants.RulerUnits",F.RulerUnits),this.setProperty("unitsPrefs",{rulerUnits:{_enum:"rulerUnits",_value:e}})}get typeUnits(){return this.getProperty("unitsPrefs").typeUnits._value}set typeUnits(e){validateConstant(e,"Constants.TypeUnits",F.TypeUnits),this.setProperty("unitsPrefs",{typeUnits:{_enum:"rulerUnits",_value:e}})}get pointSize(){return!0===this.getProperty("exactPoints")?F.PointType.TRADITIONAL:F.PointType.POSTSCRIPT}set pointSize(e){validateConstant(e,"Constants.PointType",F.PointType),this.setProperty("unitsPrefs",{exactPoints:e===F.PointType.TRADITIONAL})}};const Zt=new class Preferences{constructor(){}get typename(){return"Preferences"}get general(){return Ht}get interface(){return Kt}get tools(){return Yt}get history(){return zt}get fileHandling(){return Vt}get performance(){return Xt}get cursors(){return $t}get transparencyAndGamut(){return qt}get unitsAndRulers(){return Jt}get guidesGridsAndSlices(){return Wt}get type(){return Qt}};class Tool{constructor(){}get id(){return this._id}set id(e){this._id=e}get typename(){return"Tool"}}class PathPointInfo{constructor(){this._anchor=void 0,this._kind=void 0,this._leftDirection=void 0,this._rightDirection=void 0}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get kind(){return this._kind}set kind(e){this._kind=e}get leftDirection(){return this._leftDirection}set leftDirection(e){this._leftDirection=e}get rightDirection(){return this._rightDirection}set rightDirection(e){this._rightDirection=e}get typename(){return"PathPointInfo"}}class SubPathInfo{constructor(){this._closed=void 0,this._operation=void 0,this._entireSubPath=void 0}get closed(){return this._closed}set closed(e){this._closed=e}get entireSubPath(){return this._entireSubPath}set entireSubPath(e){this._entireSubPath=e}get operation(){return this._operation}set operation(e){this._operation=e}get typename(){return"SubPathInfo"}}class Photoshop{constructor(){this.currentDialogMode=F.DialogModes.ERROR,this.Document=Document,this.Layer=Layer,this.ActionSet=ActionSet,this.Action=Action,this.Guide=Guide,this.Photoshop=Photoshop,this.LayerComp=LayerComp,this.Selection=Selection,this.PathPointInfo=PathPointInfo,this.SubPathInfo=SubPathInfo,this.ColorSampler=ColorSampler,this.SolidColor=SolidColor}get typename(){return"Photoshop"}set validation(e){!function setValidation(e){U=e}(e)}get preferences(){return Zt}get displayDialogs(){return this.currentDialogMode}set displayDialogs(e){if(e!==F.DialogModes.ERROR&&e!==F.DialogModes.ALL&&e!==F.DialogModes.NONE)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/InvalidDialogMode=Invalid Dialog Mode used."));this.currentDialogMode=e}get activeDocument(){const e=batchPlaySync((0,H.getProperties)(H.ref.active(),["documentID"]))[0].documentID;return void 0===e?null:PSDocument(e)}set activeDocument(e){validateDocument(e),batchPlaySync((0,H.select)(H.ref.id(e.id)))}getColorProfiles(e="RGB"){let r;if("Gray"==e?r=[t.getIDFromString("$gStd"),t.getIDFromString("$gOut")]:"RGB"==e&&(r=[t.getIDFromString("$rStd"),t.getIDFromString("$rOut")]),!r)throw new Error(`Invalid color mode: ${e}.  Valid options are "RGB" and "Gray".`);return batchPlaySync((0,yt.getPropertyWithOptions)("colorProfileList",{profile:r}))[0].colorProfileList}get currentTool(){const e=batchPlaySync((0,yt.getProperties)(["tool"]))[0].tool._enum;let t=new Tool;return t.id=e,t}get actionTree(){const e=batchPlaySync((0,yt.getProperties)(["numberOfActionSets"]))[0].numberOfActionSets;return batchPlaySync(Array.apply(null,Array(e)).map(((e,t)=>t+1)).map((e=>(0,Ut.$s)(["ID"],Ut.iH.index(e))))).map((e=>PSActionSet(e.ID)))}get documents(){return new Documents}get foregroundColor(){const e=batchPlaySync((0,yt.getProperties)(["foregroundColor"]))[0].foregroundColor;return SolidColor.fromDesc(e)}set foregroundColor(e){batchPlaySync((0,yt.setForegroundColor)(e.base.desc))}convertUnits(e,t,r,a){let i=e;function CheckUnits(e,t){if(!Object.values(F.Units).includes(e))throw new Error(n.translateUIString(t))}if(CheckUnits(t,"$$$/ScriptingSupport/Error/InvalidFromUnits=Invalid from units used."),CheckUnits(r,"$$$/ScriptingSupport/Error/InvalidToUnits=Invalid to units used."),(t==F.Units.PIXELS||r==F.Units.PIXELS)&&null==a)throw new Error(n.translateUIString("$$$/ScriptingSupport/Error/NoResolutionProvided=Resolution needed when converting with pixels."));return t!=r&&(i=kt[t][r](i,a)),i}get backgroundColor(){const e=batchPlaySync((0,yt.getProperties)(["backgroundColor"]))[0].backgroundColor;return SolidColor.fromDesc(e)}set backgroundColor(e){batchPlaySync((0,yt.setBackgroundColor)(e.base.desc))}get fonts(){return new TextFonts}async showAlert(e){return n.showAlert({message:e})}async batchPlay(e,r){return r?r.skipAnalytics=!1:r={skipAnalytics:!1},t.batchPlay(e,r)}bringToFront(){batchPlaySync([{_obj:"bringToFront"}])}async open(e){const t=e?getCoreModules().UXP.storage.localFileSystem.createSessionToken(e):void 0;return PSDocument((await batchPlay((0,H.open)(t)))[0].documentID)}async createDocument(e){let t={};if(void 0===e)t={mode:F.NewDocumentMode.RGB,width:504,height:360,resolution:300,fill:F.DocumentFill.WHITE};else if(void 0===e.preset){let r;void 0===e.mode&&(e.mode=F.NewDocumentMode.RGB),void 0===e.resolution&&(e.resolution=300),void 0===e.width&&(e.width=2100),void 0===e.height&&(e.height=1500),e.fill===F.DocumentFill.COLOR&&(void 0===e.fillColor?r={_obj:"RGBColor",red:255,green:255,blue:255}:e.fillColor.hasOwnProperty("_obj")||(r=e.fillColor.base.desc)),void 0===e.fillColor&&void 0===e.fill&&(e.fill=F.DocumentFill.WHITE),t={...e,...r&&{fillColor:r},width:e.width*(72/e.resolution),height:e.height*(72/e.resolution)}}else{let r;e.fillColor&&(r=e.fillColor.hasOwnProperty("_obj")?e.fillColor:e.fillColor.base.desc),t={...e,...r&&{fillColor:r},width:e.width*(72/e.resolution),height:e.height*(72/e.resolution)}}const r=await batchPlay((0,yt.makeDocument)(t));return r?.[0]?.documentID?PSDocument(r[0].documentID):null}}const er=new Photoshop})();return r.default})();